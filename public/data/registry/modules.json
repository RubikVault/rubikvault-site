{
  "schema_version": "3.0",
  "generated_at": "2026-01-19T19:30:00Z",
  "modules": {
    "stocks": {
      "module": "stocks",
      "tier": "critical",
      "domain": "stocks",
      "enabled": false,
      "source": "stooq",
      "freshness": {
        "expected_interval_minutes": 1440,
        "grace_minutes": 180,
        "policy": "market_days_only"
      },
      "counts": {
        "expected": 3000,
        "min": 2900,
        "max": 3100
      },
      "plausibility_rules": [
        {
          "path": "$.data[*].close",
          "min": 0.0001,
          "max": 1000000,
          "allow_null": false
        },
        {
          "path": "$.data[*].volume",
          "min": 0,
          "max": 100000000000,
          "allow_null": true
        }
      ],
      "ui_contract": {
        "policy": "always",
        "required_paths": [
          "$.data[0].ticker",
          "$.data[0].close",
          "$.metadata.fetched_at"
        ]
      },
      "cache": {
        "kv_enabled": false,
        "preferred_source": "ASSET"
      },
      "mobile": {
        "optimized": true,
        "ui_variant": "full",
        "lazy_load_priority": 1,
        "size_category": "large"
      },
      "endpoints": {
        "api": "/api/stocks",
        "debug": "/api/stocks?debug=1",
        "probe": "/api/probe/stocks"
      }
    },
    "market-health": {
      "module": "market-health",
      "tier": "critical",
      "domain": "stocks",
      "enabled": true,
      "source": "stooq+coingecko+alternative.me",
      "freshness": {
        "expected_interval_minutes": 1440,
        "grace_minutes": 180,
        "policy": "market_days_only"
      },
      "counts": {
        "expected": 1,
        "min": 1,
        "max": 1
      },
      "plausibility_rules": [
        {
          "path": "$.data[0].items[*].close",
          "min": 0.01,
          "max": 100000,
          "allow_null": false
        },
        {
          "path": "$.data[0].fng.value",
          "min": 0,
          "max": 100,
          "allow_null": false
        }
      ],
      "ui_contract": {
        "policy": "always",
        "required_paths": [
          "$.data[0].items[0].symbol",
          "$.data[0].items[0].close",
          "$.data[0].fng.value",
          "$.metadata.fetched_at"
        ]
      },
      "cache": {
        "kv_enabled": true,
        "preferred_source": "KV"
      },
      "mobile": {
        "optimized": true,
        "ui_variant": "compact",
        "lazy_load_priority": 1,
        "size_category": "small"
      },
      "endpoints": {
        "api": "/api/market-health",
        "debug": "/api/market-health?debug=1",
        "probe": "/api/probe/market-health"
      }
    },
    "market-prices": {
      "module": "market-prices",
      "tier": "standard",
      "domain": "stocks",
      "enabled": true,
      "source": "stub",
      "freshness": {
        "expected_interval_minutes": 1440,
        "grace_minutes": 180,
        "policy": "market_days_only"
      },
      "counts": {
        "expected": 4,
        "min": 4,
        "max": 4
      },
      "plausibility_rules": [
        {
          "path": "$.data[*].close",
          "min": 0.0001,
          "max": 1000000,
          "allow_null": false
        }
      ],
      "ui_contract": {
        "policy": "digest_change_for_noncritical",
        "required_paths": [
          "$.data[0].symbol",
          "$.data[0].close",
          "$.metadata.fetched_at"
        ]
      },
      "cache": {
        "kv_enabled": false,
        "preferred_source": "ASSET"
      },
      "mobile": {
        "optimized": true,
        "ui_variant": "compact",
        "lazy_load_priority": 2,
        "size_category": "small"
      },
      "endpoints": {
        "api": "/api/market-prices",
        "debug": "/api/market-prices?debug=1",
        "probe": "/api/probe/market-prices"
      }
    },
    "crypto": {
      "module": "crypto",
      "tier": "standard",
      "domain": "crypto",
      "enabled": false,
      "source": "coingecko",
      "freshness": {
        "expected_interval_minutes": 360,
        "grace_minutes": 60,
        "policy": "always"
      },
      "counts": {
        "expected": 100,
        "min": 50,
        "max": 200
      },
      "plausibility_rules": [
        {
          "path": "$.data[*].price",
          "min": 0.000001,
          "max": 1000000,
          "allow_null": false
        },
        {
          "path": "$.data[*].changePercent",
          "min": -100,
          "max": 10000,
          "allow_null": false
        }
      ],
      "ui_contract": {
        "policy": "digest_change_for_noncritical",
        "required_paths": [
          "$.data[0].symbol",
          "$.data[0].price",
          "$.metadata.fetched_at"
        ]
      },
      "cache": {
        "kv_enabled": true,
        "preferred_source": "KV"
      },
      "mobile": {
        "optimized": true,
        "ui_variant": "compact",
        "lazy_load_priority": 2,
        "size_category": "medium"
      },
      "endpoints": {
        "api": "/api/crypto",
        "debug": "/api/crypto?debug=1",
        "probe": "/api/probe/crypto"
      }
    },
    "sp500-sectors": {
      "module": "sp500-sectors",
      "tier": "standard",
      "domain": "stocks",
      "enabled": false,
      "source": "yahoo_proxy",
      "freshness": {
        "expected_interval_minutes": 1440,
        "grace_minutes": 180,
        "policy": "market_days_only"
      },
      "counts": {
        "expected": 11,
        "min": 11,
        "max": 11
      },
      "plausibility_rules": [
        {
          "path": "$.data.sectors[*].changePercent",
          "min": -50,
          "max": 50,
          "allow_null": false
        }
      ],
      "ui_contract": {
        "policy": "digest_change_for_noncritical",
        "required_paths": [
          "$.data.sectors[0].name",
          "$.data.sectors[0].changePercent",
          "$.metadata.fetched_at"
        ]
      },
      "cache": {
        "kv_enabled": false,
        "preferred_source": "ASSET"
      },
      "mobile": {
        "optimized": true,
        "ui_variant": "full",
        "lazy_load_priority": 2,
        "size_category": "small"
      },
      "endpoints": {
        "api": "/api/sp500-sectors",
        "debug": "/api/sp500-sectors?debug=1",
        "probe": "/api/probe/sp500-sectors"
      }
    },
    "macro-hub": {
      "module": "macro-hub",
      "tier": "standard",
      "domain": "macro",
      "enabled": false,
      "source": "fred+ecb",
      "freshness": {
        "expected_interval_minutes": 1440,
        "grace_minutes": 240,
        "policy": "always"
      },
      "counts": {
        "expected": 20,
        "min": 15,
        "max": 30
      },
      "plausibility_rules": [
        {
          "path": "$.data[*].value",
          "min": -100,
          "max": 1000,
          "allow_null": false
        }
      ],
      "ui_contract": {
        "policy": "digest_change_for_noncritical",
        "required_paths": [
          "$.data[0].indicator",
          "$.data[0].value",
          "$.metadata.fetched_at"
        ]
      },
      "cache": {
        "kv_enabled": false,
        "preferred_source": "ASSET"
      },
      "mobile": {
        "optimized": true,
        "ui_variant": "compact",
        "lazy_load_priority": 3,
        "size_category": "medium"
      },
      "endpoints": {
        "api": "/api/macro-hub",
        "debug": "/api/macro-hub?debug=1",
        "probe": "/api/probe/macro-hub"
      }
    }
  },
  "tiers": {
    "critical": {
      "description": "Must be ok for system publish",
      "ui_contract": "always",
      "publish_policy": "block_all_if_error"
    },
    "standard": {
      "description": "Best effort, last_good on fail",
      "ui_contract": "digest_change_for_noncritical",
      "publish_policy": "skip_if_error"
    },
    "experimental": {
      "description": "Can fail, clearly marked in UI",
      "ui_contract": "optional",
      "publish_policy": "skip_if_error"
    }
  },
  "policies": {
    "market_days_only": {
      "description": "Only expect updates on market days (Mon-Fri)",
      "stale_on_weekends": false,
      "stale_on_holidays": false
    },
    "always": {
      "description": "Expect updates every interval, regardless of market status",
      "stale_on_weekends": true,
      "stale_on_holidays": true
    }
  }
}
