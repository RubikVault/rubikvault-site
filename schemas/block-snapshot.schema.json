{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Block Snapshot",
  "type": "object",
  "required": ["schemaVersion", "blockId", "title", "generatedAt", "dataAt", "meta", "data"],
  "properties": {
    "schemaVersion": { "type": "string" },
    "blockId": { "type": "string" },
    "title": { "type": "string" },
    "generatedAt": { "type": "string" },
    "dataAt": { "type": "string" },
    "meta": {
      "type": "object",
      "required": [
        "status",
        "reason",
        "stalenessSec",
        "coveragePct",
        "timezoneAssumption",
        "dataAtDefinition",
        "latencyMs",
        "itemsCount"
      ],
      "properties": {
        "status": { "type": "string" },
        "reason": { "type": "string" },
        "stalenessSec": { "type": "number" },
        "coveragePct": { "type": "number" },
        "timezoneAssumption": { "type": "string" },
        "dataAtDefinition": { "type": "string" },
        "latencyMs": { "type": "number" },
        "itemsCount": { "type": "number" }
      }
    },
    "data": {
      "type": "object",
      "required": ["items"],
      "properties": {
        "items": { "type": "array" }
      }
    }
  }
}
