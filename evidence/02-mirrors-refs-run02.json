[
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/test-truth-chain.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/test-truth-chain.mjs"
      },
      "lines": {
        "text": "import { onRequestGet } from '../functions/api/mission-control/summary.js';\n"
      },
      "line_number": 3,
      "absolute_offset": 65,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 47,
          "end": 62
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/test-truth-chain.mjs"
      },
      "lines": {
        "text": "        latest_bar: { date: '2026-01-30', close: 123.45, volume: 123456 },\n"
      },
      "line_number": 39,
      "absolute_offset": 1321,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/test-truth-chain.mjs"
      },
      "lines": {
        "text": "const request = new Request('http://localhost/api/mission-control/summary?debug=1');\n"
      },
      "line_number": 54,
      "absolute_offset": 1786,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 50,
          "end": 65
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/test-truth-chain.mjs"
      },
      "lines": {
        "text": "const truthChain = payload?.data?.opsBaseline?.truthChain?.nasdaq100;\n"
      },
      "line_number": 71,
      "absolute_offset": 2409,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 34,
          "end": 37
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/test-truth-chain.mjs"
      },
      "lines": {
        "text": "  fail('Missing opsBaseline.truthChain.nasdaq100');\n"
      },
      "line_number": 73,
      "absolute_offset": 2532,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 16,
          "end": 19
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/test-truth-chain.mjs"
      },
      "lines": {
        "text": "if (!p6Step?.evidence?.checked_path || p6Step.evidence.checked_path !== 'data.latest_bar') {\n"
      },
      "line_number": 119,
      "absolute_offset": 4452,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 78,
          "end": 84
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/test-truth-chain.mjs"
      },
      "lines": {
        "text": "  fail('P6 evidence.checked_path must be data.latest_bar');\n"
      },
      "line_number": 120,
      "absolute_offset": 4545,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 46,
          "end": 52
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/test-truth-chain.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 15958,
          "human": "0.000016s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 6045,
        "bytes_printed": 1973,
        "matched_lines": 7,
        "matches": 7
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/healthcheck.sh"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/healthcheck.sh"
      },
      "lines": {
        "text": "  \"/api/price-snapshot\"\n"
      },
      "line_number": 8,
      "absolute_offset": 127,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 14,
          "end": 22
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/healthcheck.sh"
      },
      "lines": {
        "text": "  \"/api/snapshots/market_health\"\n"
      },
      "line_number": 14,
      "absolute_offset": 255,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/healthcheck.sh"
      },
      "lines": {
        "text": "  \"/api/snapshots/macro_rates\"\n"
      },
      "line_number": 15,
      "absolute_offset": 288,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/healthcheck.sh"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 4750,
          "human": "0.000005s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 2121,
        "bytes_printed": 734,
        "matched_lines": 3,
        "matches": 3
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/utils/universe.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/utils/universe.mjs"
      },
      "lines": {
        "text": "const WATCHLIST_PATH = path.resolve(__dirname, \"../../mirrors/watchlist.json\");\n"
      },
      "line_number": 6,
      "absolute_offset": 183,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 54,
          "end": 62
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/utils/universe.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 4959,
          "human": "0.000005s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 1226,
        "bytes_printed": 348,
        "matched_lines": 1,
        "matches": 1
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/validate-public-registry.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate-public-registry.mjs"
      },
      "lines": {
        "text": "const MANIFEST_PATH = path.join(\"public\", \"data\", \"seed-manifest.json\");\n"
      },
      "line_number": 5,
      "absolute_offset": 136,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 56,
          "end": 64
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate-public-registry.mjs"
      },
      "lines": {
        "text": "const manifest = readJson(MANIFEST_PATH);\n"
      },
      "line_number": 31,
      "absolute_offset": 770,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate-public-registry.mjs"
      },
      "lines": {
        "text": "if (!manifest || typeof manifest !== \"object\") {\n"
      },
      "line_number": 32,
      "absolute_offset": 812,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 5,
          "end": 13
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 24,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate-public-registry.mjs"
      },
      "lines": {
        "text": "if (!Array.isArray(manifest.blocks)) {\n"
      },
      "line_number": 35,
      "absolute_offset": 909,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 19,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate-public-registry.mjs"
      },
      "lines": {
        "text": "  `Public registry OK (features=${registry.features.length}, manifestBlocks=${manifest.blocks.length})`\n"
      },
      "line_number": 40,
      "absolute_offset": 1013,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 61,
          "end": 69
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 78,
          "end": 86
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/validate-public-registry.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 6208,
          "human": "0.000006s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 1120,
        "bytes_printed": 1524,
        "matched_lines": 5,
        "matches": 7
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/utils/eod-market-mirrors.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/utils/eod-market-mirrors.mjs"
      },
      "lines": {
        "text": "    whyUnique: \"EOD benchmark health snapshot.\",\n"
      },
      "line_number": 61,
      "absolute_offset": 1944,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 37,
          "end": 45
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/utils/eod-market-mirrors.mjs"
      },
      "lines": {
        "text": "    mirrorId: \"price-snapshot\",\n"
      },
      "line_number": 97,
      "absolute_offset": 3012,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 21,
          "end": 29
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/utils/eod-market-mirrors.mjs"
      },
      "lines": {
        "text": "    whyUnique: \"Compact EOD price snapshot.\",\n"
      },
      "line_number": 102,
      "absolute_offset": 3132,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 34,
          "end": 42
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/utils/eod-market-mirrors.mjs"
      },
      "lines": {
        "text": "      \"price-snapshot\": priceSnapshotMirror,\n"
      },
      "line_number": 237,
      "absolute_offset": 6905,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 13,
          "end": 21
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/utils/eod-market-mirrors.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 7166,
          "human": "0.000007s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 7289,
        "bytes_printed": 1091,
        "matched_lines": 4,
        "matches": 4
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/export-blocks-from-snapshots.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/export-blocks-from-snapshots.mjs"
      },
      "lines": {
        "text": "const SNAPSHOT_DIR = path.join(ROOT, \"public\", \"data\", \"snapshots\");\n"
      },
      "line_number": 7,
      "absolute_offset": 276,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 56,
          "end": 64
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/export-blocks-from-snapshots.mjs"
      },
      "lines": {
        "text": "    .filter((name) => name !== \"manifest.json\");\n"
      },
      "line_number": 63,
      "absolute_offset": 2083,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 32,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/export-blocks-from-snapshots.mjs"
      },
      "lines": {
        "text": "  const targetPath = path.join(BLOCKS_DIR, `${blockId}.latest.json`);\n"
      },
      "line_number": 74,
      "absolute_offset": 2447,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 55,
          "end": 61
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/export-blocks-from-snapshots.mjs"
      },
      "lines": {
        "text": "    const targetPath = path.join(BLOCKS_DIR, `${blockId}.latest.json`);\n"
      },
      "line_number": 88,
      "absolute_offset": 2995,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 57,
          "end": 63
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/export-blocks-from-snapshots.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 5875,
          "human": "0.000006s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 4586,
        "bytes_printed": 1191,
        "matched_lines": 4,
        "matches": 4
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/utils/market-indicators.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/utils/market-indicators.mjs"
      },
      "lines": {
        "text": "  const latestClose = closes[closes.length - 1];\n"
      },
      "line_number": 89,
      "absolute_offset": 2913,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/utils/market-indicators.mjs"
      },
      "lines": {
        "text": "  if (!Number.isFinite(latestClose) || latestClose === 0) return null;\n"
      },
      "line_number": 90,
      "absolute_offset": 2962,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 23,
          "end": 29
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 39,
          "end": 45
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/utils/market-indicators.mjs"
      },
      "lines": {
        "text": "  return (avgTr / latestClose) * 100;\n"
      },
      "line_number": 91,
      "absolute_offset": 3033,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 18,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/utils/market-indicators.mjs"
      },
      "lines": {
        "text": "export function pctChange(latest, previous) {\n"
      },
      "line_number": 94,
      "absolute_offset": 3074,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 26,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/utils/market-indicators.mjs"
      },
      "lines": {
        "text": "  if (!Number.isFinite(latest) || !Number.isFinite(previous) || previous === 0) return null;\n"
      },
      "line_number": 95,
      "absolute_offset": 3120,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 23,
          "end": 29
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/utils/market-indicators.mjs"
      },
      "lines": {
        "text": "  return (latest / previous - 1) * 100;\n"
      },
      "line_number": 96,
      "absolute_offset": 3213,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 10,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/utils/market-indicators.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 7459,
          "human": "0.000007s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 8148,
        "bytes_printed": 1688,
        "matched_lines": 6,
        "matches": 7
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "functions/api/diag.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/diag.js"
      },
      "lines": {
        "text": "          message: \"Diagnostic snapshot is not available yet\"\n"
      },
      "line_number": 18,
      "absolute_offset": 530,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 31,
          "end": 39
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/diag.js"
      },
      "lines": {
        "text": "        snapshots: []\n"
      },
      "line_number": 20,
      "absolute_offset": 603,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "functions/api/diag.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 6041,
          "human": "0.000006s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 1149,
        "bytes_printed": 533,
        "matched_lines": 2,
        "matches": 2
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/utils/eod-market-symbols.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/utils/eod-market-symbols.mjs"
      },
      "lines": {
        "text": "  let latestAsOf = null;\n"
      },
      "line_number": 33,
      "absolute_offset": 891,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 6,
          "end": 12
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/utils/eod-market-symbols.mjs"
      },
      "lines": {
        "text": "    if (!latestAsOf || lastDate > latestAsOf) latestAsOf = lastDate;\n"
      },
      "line_number": 45,
      "absolute_offset": 1286,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 9,
          "end": 15
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 34,
          "end": 40
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 46,
          "end": 52
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/utils/eod-market-symbols.mjs"
      },
      "lines": {
        "text": "    latestAsOf,\n"
      },
      "line_number": 188,
      "absolute_offset": 6473,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 4,
          "end": 10
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/utils/eod-market-symbols.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 6458,
          "human": "0.000006s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 6586,
        "bytes_printed": 899,
        "matched_lines": 3,
        "matches": 5
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/validate-snapshots.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate-snapshots.js"
      },
      "lines": {
        "text": "const SNAPSHOT_DIR = path.join(\"public\", \"data\", \"snapshots\");\n"
      },
      "line_number": 4,
      "absolute_offset": 57,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 50,
          "end": 58
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate-snapshots.js"
      },
      "lines": {
        "text": "    console.error(\"snapshot directory missing\");\n"
      },
      "line_number": 50,
      "absolute_offset": 1995,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 19,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/validate-snapshots.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 3666,
          "human": "0.000004s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 2511,
        "bytes_printed": 591,
        "matched_lines": 2,
        "matches": 2
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/refresh-health-assets.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/refresh-health-assets.mjs"
      },
      "lines": {
        "text": "const SNAPSHOTS_DIR = path.join(PUBLIC_DATA, \"snapshots\");\n"
      },
      "line_number": 7,
      "absolute_offset": 261,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 46,
          "end": 54
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/refresh-health-assets.mjs"
      },
      "lines": {
        "text": "  const snapshots = [];\n"
      },
      "line_number": 39,
      "absolute_offset": 1243,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/refresh-health-assets.mjs"
      },
      "lines": {
        "text": "    snapshots.push({ blockId, status, reason: String(reason || \"OK\") });\n"
      },
      "line_number": 48,
      "absolute_offset": 1671,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 4,
          "end": 12
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/refresh-health-assets.mjs"
      },
      "lines": {
        "text": "    summary: { total: snapshots.length, ok, fail },\n"
      },
      "line_number": 57,
      "absolute_offset": 1894,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 22,
          "end": 30
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/refresh-health-assets.mjs"
      },
      "lines": {
        "text": "    snapshots\n"
      },
      "line_number": 59,
      "absolute_offset": 1968,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 4,
          "end": 12
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/refresh-health-assets.mjs"
      },
      "lines": {
        "text": "  const healthDirLatestPath = path.join(SNAPSHOTS_DIR, \"health\", \"latest.json\");\n"
      },
      "line_number": 157,
      "absolute_offset": 4702,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 66,
          "end": 72
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/refresh-health-assets.mjs"
      },
      "lines": {
        "text": "  const healthLatestPath = path.join(PUBLIC_DATA, \"blocks\", \"health.latest.json\");\n"
      },
      "line_number": 158,
      "absolute_offset": 4783,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 68,
          "end": 74
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/refresh-health-assets.mjs"
      },
      "lines": {
        "text": "  const seedManifestPath = path.join(PUBLIC_DATA, \"seed-manifest.json\");\n"
      },
      "line_number": 160,
      "absolute_offset": 4939,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 56,
          "end": 64
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/refresh-health-assets.mjs"
      },
      "lines": {
        "text": "    console.error(\"Health snapshot envelope validation failed\");\n"
      },
      "line_number": 198,
      "absolute_offset": 6119,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 26,
          "end": 34
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/refresh-health-assets.mjs"
      },
      "lines": {
        "text": "    throw new Error(\"health latest.json failed schema validation\");\n"
      },
      "line_number": 200,
      "absolute_offset": 6220,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 28,
          "end": 34
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/refresh-health-assets.mjs"
      },
      "lines": {
        "text": "  const snapshotFiles = await listSnapshotJsonFiles(SNAPSHOTS_DIR);\n"
      },
      "line_number": 205,
      "absolute_offset": 6344,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/refresh-health-assets.mjs"
      },
      "lines": {
        "text": "  for (const file of snapshotFiles) {\n"
      },
      "line_number": 207,
      "absolute_offset": 6439,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 21,
          "end": 29
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/refresh-health-assets.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 9417,
          "human": "0.000009s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 7195,
        "bytes_printed": 3237,
        "matched_lines": 12,
        "matches": 12
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "functions/api/probe/[module].js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/probe/[module].js"
      },
      "lines": {
        "text": "      snapshot: `/data/snapshots/${module}/latest.json`\n"
      },
      "line_number": 222,
      "absolute_offset": 6432,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 23,
          "end": 31
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 43,
          "end": 49
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "functions/api/probe/[module].js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 5416,
          "human": "0.000005s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 6772,
        "bytes_printed": 432,
        "matched_lines": 1,
        "matches": 3
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "const PUBLIC_SNAPSHOT_DIR = path.join(\"public\", \"data\", \"snapshots\");\n"
      },
      "line_number": 14,
      "absolute_offset": 670,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 57,
          "end": 65
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "const MIRROR_SNAPSHOT_DIR = path.join(\"mirrors\", \"snapshots\");\n"
      },
      "line_number": 15,
      "absolute_offset": 740,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 50,
          "end": 58
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "const MANIFEST_PATH = path.join(\"mirrors\", \"seed-manifest.json\");\n"
      },
      "line_number": 16,
      "absolute_offset": 803,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 49,
          "end": 57
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "function manifestStatusForReason(reason) {\n"
      },
      "line_number": 29,
      "absolute_offset": 1194,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 9,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "function latestDateFromRows(rows) {\n"
      },
      "line_number": 133,
      "absolute_offset": 3159,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 9,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "function latestByDate(entries) {\n"
      },
      "line_number": 143,
      "absolute_offset": 3318,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 9,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  if (cache.snapshots && cache.snapshots[blockId]) {\n"
      },
      "line_number": 208,
      "absolute_offset": 5698,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 12,
          "end": 20
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 31,
          "end": 39
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    return cache.snapshots[blockId];\n"
      },
      "line_number": 209,
      "absolute_offset": 5751,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 17,
          "end": 25
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "function isPlaceholderSnapshot(snapshot) {\n"
      },
      "line_number": 306,
      "absolute_offset": 9040,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 31,
          "end": 39
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  if (!snapshot || typeof snapshot !== \"object\") return true;\n"
      },
      "line_number": 307,
      "absolute_offset": 9083,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 7,
          "end": 15
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 26,
          "end": 34
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  const meta = snapshot?.meta;\n"
      },
      "line_number": 308,
      "absolute_offset": 9145,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 15,
          "end": 23
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  const dataAt = snapshot?.dataAt || \"\";\n"
      },
      "line_number": 313,
      "absolute_offset": 9328,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 17,
          "end": 25
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    const point = latestByDate(result.data) || result.data[0];\n"
      },
      "line_number": 351,
      "absolute_offset": 10658,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 18,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  const latest = sorted[0];\n"
      },
      "line_number": 378,
      "absolute_offset": 11826,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  const yoy = latest && prior && Number.isFinite(latest.value) && Number.isFinite(prior.value)\n"
      },
      "line_number": 380,
      "absolute_offset": 11882,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 14,
          "end": 20
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 49,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    ? ((latest.value - prior.value) / prior.value) * 100\n"
      },
      "line_number": 381,
      "absolute_offset": 11977,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  if (latest && Number.isFinite(latest.value)) {\n"
      },
      "line_number": 384,
      "absolute_offset": 12066,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 6,
          "end": 12
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 32,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    items.push({ series: \"CPI\", value: latest.value, yoyPct: yoy, date: latest.date });\n"
      },
      "line_number": 385,
      "absolute_offset": 12115,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 39,
          "end": 45
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 72,
          "end": 78
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  return { items, dataAt: latest?.date || result.dataAt };\n"
      },
      "line_number": 387,
      "absolute_offset": 12207,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 26,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  const unratePoint = latestByDate(unrate.data) || unrate.data[0];\n"
      },
      "line_number": 396,
      "absolute_offset": 12544,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 22,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  const point = latestByDate(result.data) || result.data[0];\n"
      },
      "line_number": 420,
      "absolute_offset": 13701,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 16,
          "end": 22
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  const point = latestByDate(result.data) || result.data[0];\n"
      },
      "line_number": 431,
      "absolute_offset": 14149,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 16,
          "end": 22
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    const latest = rows[0];\n"
      },
      "line_number": 469,
      "absolute_offset": 15731,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 10,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    if (!Number.isFinite(latest.close) || !Number.isFinite(prev.close)) continue;\n"
      },
      "line_number": 471,
      "absolute_offset": 15785,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 25,
          "end": 31
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    const changePct = ((latest.close - prev.close) / prev.close) * 100;\n"
      },
      "line_number": 472,
      "absolute_offset": 15867,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 24,
          "end": 30
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    items.push({ symbol, close: latest.close, changePct, date: latest.date });\n"
      },
      "line_number": 473,
      "absolute_offset": 15939,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 32,
          "end": 38
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 63,
          "end": 69
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    if (!dataAt || latest.date > dataAt) dataAt = latest.date;\n"
      },
      "line_number": 475,
      "absolute_offset": 16048,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 19,
          "end": 25
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 50,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    dataAt = latestDateFromRows(Object.values(seriesMap).flat());\n"
      },
      "line_number": 479,
      "absolute_offset": 16133,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 13,
          "end": 19
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    const latest = recent[0];\n"
      },
      "line_number": 499,
      "absolute_offset": 16958,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 10,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    const isHigh = Number.isFinite(latest.close) && latest.close >= highs;\n"
      },
      "line_number": 500,
      "absolute_offset": 16988,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 35,
          "end": 41
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 52,
          "end": 58
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    const isLow = Number.isFinite(latest.close) && latest.close <= lows;\n"
      },
      "line_number": 501,
      "absolute_offset": 17063,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 34,
          "end": 40
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 51,
          "end": 57
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    items.push({ symbol, close: latest.close, isHigh, isLow, date: latest.date });\n"
      },
      "line_number": 502,
      "absolute_offset": 17136,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 32,
          "end": 38
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 67,
          "end": 73
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    if (!dataAt || latest.date > dataAt) dataAt = latest.date;\n"
      },
      "line_number": 503,
      "absolute_offset": 17219,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 19,
          "end": 25
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 50,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    dataAt = latestDateFromRows(Object.values(seriesMap).flat());\n"
      },
      "line_number": 509,
      "absolute_offset": 17418,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 13,
          "end": 19
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    const latest = rows[0];\n"
      },
      "line_number": 530,
      "absolute_offset": 18340,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 10,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    if (!Number.isFinite(latest.close) || !Number.isFinite(prior.close)) continue;\n"
      },
      "line_number": 532,
      "absolute_offset": 18395,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 25,
          "end": 31
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    const returnPct = ((latest.close - prior.close) / prior.close) * 100;\n"
      },
      "line_number": 533,
      "absolute_offset": 18478,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 24,
          "end": 30
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    items.push({ symbol, close: latest.close, returnPct, date: latest.date });\n"
      },
      "line_number": 534,
      "absolute_offset": 18552,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 32,
          "end": 38
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 63,
          "end": 69
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    if (!dataAt || latest.date > dataAt) dataAt = latest.date;\n"
      },
      "line_number": 535,
      "absolute_offset": 18631,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 19,
          "end": 25
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 50,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    dataAt = latestDateFromRows(items);\n"
      },
      "line_number": 539,
      "absolute_offset": 18716,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 13,
          "end": 19
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  const point = latestByDate(result.data) || result.data[0];\n"
      },
      "line_number": 547,
      "absolute_offset": 18968,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 16,
          "end": 22
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  const point = latestByDate(result.data) || result.data[0];\n"
      },
      "line_number": 559,
      "absolute_offset": 19504,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 16,
          "end": 22
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  const latest = window[0];\n"
      },
      "line_number": 614,
      "absolute_offset": 21543,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  if (!latest) {\n"
      },
      "line_number": 615,
      "absolute_offset": 21571,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 7,
          "end": 13
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  const drawdownPct = maxClose ? ((latest.close - maxClose) / maxClose) * 100 : null;\n"
      },
      "line_number": 621,
      "absolute_offset": 21759,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 35,
          "end": 41
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "      close: latest.close,\n"
      },
      "line_number": 625,
      "absolute_offset": 21901,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 13,
          "end": 19
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "      date: latest.date\n"
      },
      "line_number": 628,
      "absolute_offset": 21963,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 12,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  return { items, dataAt: latest.date || null };\n"
      },
      "line_number": 631,
      "absolute_offset": 21998,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 26,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    const latest = rows[0];\n"
      },
      "line_number": 643,
      "absolute_offset": 22447,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 10,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    if (!latest || !Number.isFinite(ma50) || !Number.isFinite(ma200)) continue;\n"
      },
      "line_number": 644,
      "absolute_offset": 22475,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 9,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    items.push({ symbol, ma50, ma200, slopePct, date: latest.date });\n"
      },
      "line_number": 646,
      "absolute_offset": 22623,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 54,
          "end": 60
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    if (!dataAt || latest.date > dataAt) dataAt = latest.date;\n"
      },
      "line_number": 647,
      "absolute_offset": 22693,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 19,
          "end": 25
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 50,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    const latest = rows[0];\n"
      },
      "line_number": 661,
      "absolute_offset": 23150,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 10,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    if (!latest || !Number.isFinite(rsi)) continue;\n"
      },
      "line_number": 662,
      "absolute_offset": 23178,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 9,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    items.push({ symbol, rsi, bucket, date: latest.date });\n"
      },
      "line_number": 665,
      "absolute_offset": 23349,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 44,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    if (!dataAt || latest.date > dataAt) dataAt = latest.date;\n"
      },
      "line_number": 666,
      "absolute_offset": 23409,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 19,
          "end": 25
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 50,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  const latest = rows[0];\n"
      },
      "line_number": 684,
      "absolute_offset": 24066,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  if (!latest || !Number.isFinite(realized)) {\n"
      },
      "line_number": 685,
      "absolute_offset": 24092,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 7,
          "end": 13
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  const dataAt = maxDate(volSnapshot?.dataAt, latest.date);\n"
      },
      "line_number": 691,
      "absolute_offset": 24244,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 46,
          "end": 52
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    const error = new Error(\"macro snapshots missing\");\n"
      },
      "line_number": 805,
      "absolute_offset": 28526,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 35,
          "end": 43
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    const error = new Error(\"breadth snapshot missing\");\n"
      },
      "line_number": 867,
      "absolute_offset": 30693,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 37,
          "end": 45
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    const snapshot = getSnapshot(cache, blockId);\n"
      },
      "line_number": 956,
      "absolute_offset": 33323,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 10,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    const status = snapshot?.meta?.status || \"ERROR\";\n"
      },
      "line_number": 957,
      "absolute_offset": 33373,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 19,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    const reason = snapshot?.meta?.reason || \"NO_DATA\";\n"
      },
      "line_number": 958,
      "absolute_offset": 33427,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 19,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    if (snapshot?.dataAt && snapshot.dataAt > (dataAt || \"\")) dataAt = snapshot.dataAt;\n"
      },
      "line_number": 963,
      "absolute_offset": 33636,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 28,
          "end": 36
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 71,
          "end": 79
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  const snapshot = buildSnapshot(entry, {\n"
      },
      "line_number": 1022,
      "absolute_offset": 35654,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  if (dataAtCheckBlocks.has(entry.blockId) && snapshot.meta.status === \"LIVE\") {\n"
      },
      "line_number": 1033,
      "absolute_offset": 35969,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 46,
          "end": 54
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    if (String(snapshot.dataAt || \"\") < \"2020-01-01\") {\n"
      },
      "line_number": 1034,
      "absolute_offset": 36050,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 15,
          "end": 23
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "      snapshot.meta.status = \"ERROR\";\n"
      },
      "line_number": 1035,
      "absolute_offset": 36106,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "      snapshot.meta.reason = \"DATAAT_OUTDATED\";\n"
      },
      "line_number": 1036,
      "absolute_offset": 36144,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  if (!cache.snapshots) cache.snapshots = {};\n"
      },
      "line_number": 1041,
      "absolute_offset": 36237,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 13,
          "end": 21
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 30,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  cache.snapshots[entry.blockId] = snapshot;\n"
      },
      "line_number": 1042,
      "absolute_offset": 36283,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 35,
          "end": 43
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  return { snapshot, evaluation, latencyMs };\n"
      },
      "line_number": 1044,
      "absolute_offset": 36329,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 11,
          "end": 19
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  const report = usage.snapshot(day);\n"
      },
      "line_number": 1049,
      "absolute_offset": 36466,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 23,
          "end": 31
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "function writeSeedManifest(manifest) {\n"
      },
      "line_number": 1053,
      "absolute_offset": 36541,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 27,
          "end": 35
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  saveMirror(MANIFEST_PATH, manifest);\n"
      },
      "line_number": 1054,
      "absolute_offset": 36580,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 28,
          "end": 36
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "  const manifest = {\n"
      },
      "line_number": 1103,
      "absolute_offset": 38437,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "          manifest.blocks.push({\n"
      },
      "line_number": 1134,
      "absolute_offset": 39632,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 10,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "            status: manifestStatusForReason(reason),\n"
      },
      "line_number": 1137,
      "absolute_offset": 39733,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 20,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "          manifest.blocks.push({\n"
      },
      "line_number": 1167,
      "absolute_offset": 41087,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 10,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "            status: manifestStatusForReason(reason),\n"
      },
      "line_number": 1170,
      "absolute_offset": 41188,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 20,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "            manifest.blocks.push({\n"
      },
      "line_number": 1199,
      "absolute_offset": 42480,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 12,
          "end": 20
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "              status: manifestStatusForReason(reason),\n"
      },
      "line_number": 1202,
      "absolute_offset": 42587,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 22,
          "end": 30
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "          manifest.blocks.push({\n"
      },
      "line_number": 1224,
      "absolute_offset": 43316,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 10,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "            status: manifestStatusForReason(reason),\n"
      },
      "line_number": 1227,
      "absolute_offset": 43417,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 20,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "          const { snapshot, evaluation } = await runBlock(entry, ctx, cache);\n"
      },
      "line_number": 1238,
      "absolute_offset": 43683,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 18,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "          const snapshotPath = path.join(MIRROR_SNAPSHOT_DIR, `${entry.blockId}.json`);\n"
      },
      "line_number": 1239,
      "absolute_offset": 43761,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 16,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "          if (snapshot.meta.status === \"ERROR\") {\n"
      },
      "line_number": 1244,
      "absolute_offset": 44014,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 14,
          "end": 22
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "            const errorDetails = buildMetaDetails(entry.provider, snapshot.meta.details, {\n"
      },
      "line_number": 1245,
      "absolute_offset": 44064,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 66,
          "end": 74
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "              snippet: snapshot.meta.reason\n"
      },
      "line_number": 1246,
      "absolute_offset": 44155,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 23,
          "end": 31
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "            snapshot.meta.details = errorDetails;\n"
      },
      "line_number": 1248,
      "absolute_offset": 44215,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 12,
          "end": 20
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "            providerState.recordFailure(entry.provider, snapshot.meta.reason, errorDetails);\n"
      },
      "line_number": 1249,
      "absolute_offset": 44265,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 56,
          "end": 64
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "            atomicWriteJson(snapshotPath, snapshot);\n"
      },
      "line_number": 1255,
      "absolute_offset": 44483,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 28,
          "end": 36
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 42,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "              const errorDetails = buildMetaDetails(entry.provider, snapshot.meta.details, {\n"
      },
      "line_number": 1259,
      "absolute_offset": 44620,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 68,
          "end": 76
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "                snippet: snapshot.meta.reason\n"
      },
      "line_number": 1260,
      "absolute_offset": 44713,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 25,
          "end": 33
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "              const errorSnapshot = buildErrorSnapshot(entry, snapshot.meta.reason, snapshot.generatedAt, errorDetails);\n"
      },
      "line_number": 1262,
      "absolute_offset": 44777,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 62,
          "end": 70
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 84,
          "end": 92
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "              atomicWriteJson(snapshotPath, errorSnapshot);\n"
      },
      "line_number": 1263,
      "absolute_offset": 44898,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 30,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "          manifest.blocks.push({\n"
      },
      "line_number": 1268,
      "absolute_offset": 45021,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 10,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "            status: snapshot.meta.status,\n"
      },
      "line_number": 1271,
      "absolute_offset": 45122,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 20,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "            reason: snapshot.meta.reason,\n"
      },
      "line_number": 1272,
      "absolute_offset": 45164,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 20,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "            itemsCount: snapshot.meta.itemsCount,\n"
      },
      "line_number": 1273,
      "absolute_offset": 45206,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 24,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "            coveragePct: snapshot.meta.coveragePct,\n"
      },
      "line_number": 1274,
      "absolute_offset": 45256,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 25,
          "end": 33
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "        manifest.blocks.push({\n"
      },
      "line_number": 1298,
      "absolute_offset": 46326,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "          status: manifestStatusForReason(reason),\n"
      },
      "line_number": 1301,
      "absolute_offset": 46421,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 18,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "lines": {
        "text": "    writeSeedManifest(manifest);\n"
      },
      "line_number": 1312,
      "absolute_offset": 46675,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 22,
          "end": 30
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/seeder.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 60708,
          "human": "0.000061s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 46885,
        "bytes_printed": 26713,
        "matched_lines": 105,
        "matches": 126
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "import { getBarNode } from '../../_ops/shape.js';\n"
      },
      "line_number": 11,
      "absolute_offset": 339,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 35,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "const MODULE_NAME = 'mission-control-summary';\n"
      },
      "line_number": 13,
      "absolute_offset": 390,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 21,
          "end": 36
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  (moduleName) => `/data/snapshots/${moduleName}/latest.json`,\n"
      },
      "line_number": 16,
      "absolute_offset": 555,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 25,
          "end": 33
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 49,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  (moduleName) => `/data/snapshots/${moduleName}.json`\n"
      },
      "line_number": 17,
      "absolute_offset": 618,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 25,
          "end": 33
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      source: 'mission-control',\n"
      },
      "line_number": 81,
      "absolute_offset": 2361,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 15,
          "end": 30
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    source: '/data/pipeline/nasdaq100.latest.json'\n"
      },
      "line_number": 208,
      "absolute_offset": 6174,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 38,
          "end": 44
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    source: '/data/eod/manifest.latest.json'\n"
      },
      "line_number": 223,
      "absolute_offset": 6753,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 23,
          "end": 31
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 32,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  const latestBar = trace?.response_excerpt?.latest_bar || {};\n"
      },
      "line_number": 249,
      "absolute_offset": 7499,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 45,
          "end": 51
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  const close = latestBar['data.latest_bar.close'];\n"
      },
      "line_number": 251,
      "absolute_offset": 7618,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 16,
          "end": 22
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 32,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  const volume = latestBar['data.latest_bar.volume'];\n"
      },
      "line_number": 252,
      "absolute_offset": 7670,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 17,
          "end": 23
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 33,
          "end": 39
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  const date = latestBar['data.latest_bar.date'];\n"
      },
      "line_number": 253,
      "absolute_offset": 7724,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 15,
          "end": 21
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 31,
          "end": 37
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  if (response?.data?.latest_bar) {\n"
      },
      "line_number": 282,
      "absolute_offset": 8789,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 22,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    const latest = response.data.latest_bar;\n"
      },
      "line_number": 283,
      "absolute_offset": 8825,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 10,
          "end": 16
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 33,
          "end": 39
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      close: latest.close,\n"
      },
      "line_number": 285,
      "absolute_offset": 8883,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 13,
          "end": 19
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      volume: latest.volume,\n"
      },
      "line_number": 286,
      "absolute_offset": 8910,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 14,
          "end": 20
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      date: latest.date\n"
      },
      "line_number": 287,
      "absolute_offset": 8939,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 12,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  const latest = response.latest_bar || {};\n"
      },
      "line_number": 290,
      "absolute_offset": 8974,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 26,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    close: latest['data.latest_bar.close'] ?? latest.close,\n"
      },
      "line_number": 292,
      "absolute_offset": 9029,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 11,
          "end": 17
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 24,
          "end": 30
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 46,
          "end": 52
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    volume: latest['data.latest_bar.volume'] ?? latest.volume,\n"
      },
      "line_number": 293,
      "absolute_offset": 9089,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 12,
          "end": 18
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 25,
          "end": 31
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 48,
          "end": 54
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    date: latest['data.latest_bar.date'] ?? latest.date\n"
      },
      "line_number": 294,
      "absolute_offset": 9152,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 10,
          "end": 16
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 23,
          "end": 29
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 44,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      const latestBar = extractLatestBarFields(response);\n"
      },
      "line_number": 319,
      "absolute_offset": 10000,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 12,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "        latestBar,\n"
      },
      "line_number": 338,
      "absolute_offset": 10816,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      checked_path: 'data.latest_bar',\n"
      },
      "line_number": 442,
      "absolute_offset": 15077,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 26,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    title: 'Backend maps raw data into canonical latest_bar + change format.',\n"
      },
      "line_number": 460,
      "absolute_offset": 15761,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 49,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    path: '/data/snapshots/market-prices/latest.json',\n"
      },
      "line_number": 468,
      "absolute_offset": 16157,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 17,
          "end": 25
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 41,
          "end": 47
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    contains: s.meta?.data_source === 'snapshot'\n"
      },
      "line_number": 469,
      "absolute_offset": 16212,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 39,
          "end": 47
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    title: '/api/stock returns JSON that satisfies the contract (latest_bar.close/volume/date present).',\n"
      },
      "line_number": 529,
      "absolute_offset": 18686,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 65,
          "end": 71
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      checked_path: 'data.latest_bar',\n"
      },
      "line_number": 532,
      "absolute_offset": 18830,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 26,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    if (Number(uiDetected.close) !== Number(t.latestBar.close)) renderMismatch.push(`${t.ticker}: close`);\n"
      },
      "line_number": 549,
      "absolute_offset": 19318,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 46,
          "end": 52
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    if (Number(uiDetected.volume) !== Number(t.latestBar.volume)) renderMismatch.push(`${t.ticker}: volume`);\n"
      },
      "line_number": 550,
      "absolute_offset": 19425,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 47,
          "end": 53
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    if (String(uiDetected.date) !== String(t.latestBar.date)) renderMismatch.push(`${t.ticker}: date`);\n"
      },
      "line_number": 551,
      "absolute_offset": 19535,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 45,
          "end": 51
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    checked_path: evidence?.checked_path || 'data.latest_bar',\n"
      },
      "line_number": 611,
      "absolute_offset": 22016,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 50,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "function baselineFromComputed(opsComputed) {\n"
      },
      "line_number": 898,
      "absolute_offset": 33944,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 30,
          "end": 33
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  const expectedUniverse = opsComputed?.pipeline?.expected ?? 100;\n"
      },
      "line_number": 899,
      "absolute_offset": 33989,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 27,
          "end": 30
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      expected: opsComputed?.pipeline?.expected ?? expectedUniverse,\n"
      },
      "line_number": 903,
      "absolute_offset": 34105,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 16,
          "end": 19
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      fetched: opsComputed?.pipeline?.fetched ?? null,\n"
      },
      "line_number": 904,
      "absolute_offset": 34174,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 15,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      validatedStored: opsComputed?.pipeline?.validatedStored ?? null,\n"
      },
      "line_number": 905,
      "absolute_offset": 34229,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 23,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      computed: opsComputed?.pipeline?.computed ?? null,\n"
      },
      "line_number": 906,
      "absolute_offset": 34300,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 16,
          "end": 19
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      staticReady: opsComputed?.pipeline?.staticReady ?? null,\n"
      },
      "line_number": 907,
      "absolute_offset": 34357,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 19,
          "end": 22
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      missing: Array.isArray(opsComputed?.pipeline?.missing) ? opsComputed.pipeline.missing : []\n"
      },
      "line_number": 908,
      "absolute_offset": 34420,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 29,
          "end": 32
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 63,
          "end": 66
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      latestSnapshotDate: opsComputed?.freshness?.latestSnapshotDate ?? null,\n"
      },
      "line_number": 911,
      "absolute_offset": 34541,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 6,
          "end": 12
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 26,
          "end": 29
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 50,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      expectedTradingDay: opsComputed?.freshness?.expectedTradingDay ?? null,\n"
      },
      "line_number": 912,
      "absolute_offset": 34619,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 26,
          "end": 29
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      staleCount: opsComputed?.freshness?.staleCount ?? null,\n"
      },
      "line_number": 913,
      "absolute_offset": 34697,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 18,
          "end": 21
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      staleList: Array.isArray(opsComputed?.freshness?.staleList) ? opsComputed.freshness.staleList : []\n"
      },
      "line_number": 914,
      "absolute_offset": 34759,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 31,
          "end": 34
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 68,
          "end": 71
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    providers: Array.isArray(opsComputed?.providers) ? opsComputed.providers : [],\n"
      },
      "line_number": 916,
      "absolute_offset": 34871,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 29,
          "end": 32
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 55,
          "end": 58
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      kvWritesToday: opsComputed?.safety?.kvWritesToday ?? null,\n"
      },
      "line_number": 918,
      "absolute_offset": 34968,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 21,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      pollingDefaultOff: opsComputed?.safety?.pollingDefaultOff ?? true,\n"
      },
      "line_number": 919,
      "absolute_offset": 35033,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 25,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      runtimeWritesDisabled: opsComputed?.safety?.runtimeWritesDisabled ?? true\n"
      },
      "line_number": 920,
      "absolute_offset": 35106,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 29,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    const providedKey = request.headers.get('x-ops-key') || request.headers.get('X-OPS-KEY') || '';\n"
      },
      "line_number": 993,
      "absolute_offset": 37514,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 47,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  const [opsDaily, usageReport, providerState, seedManifest, nasdaq100Universe, marketPhaseIndex, healthProfilesRaw, thresholdsRaw, sourceMapRaw, eodManifestRaw] = await Promise.all([\n"
      },
      "line_number": 1034,
      "absolute_offset": 39162,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 9,
          "end": 12
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    fetchAssetJson(request.url, '/data/ops-daily.json', null),\n"
      },
      "line_number": 1035,
      "absolute_offset": 39346,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 39,
          "end": 42
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    fetchAssetJson(request.url, '/data/seed-manifest.json', null),\n"
      },
      "line_number": 1038,
      "absolute_offset": 39543,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 44,
          "end": 52
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    fetchAssetJson(request.url, '/data/ops/health-profiles.v1.json', null),\n"
      },
      "line_number": 1041,
      "absolute_offset": 39751,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 39,
          "end": 42
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    fetchAssetJson(request.url, '/data/ops/thresholds.v1.json', null),\n"
      },
      "line_number": 1042,
      "absolute_offset": 39827,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 39,
          "end": 42
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    fetchAssetJson(request.url, '/data/ops/source-map.v1.json', null),\n"
      },
      "line_number": 1043,
      "absolute_offset": 39898,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 39,
          "end": 42
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    fetchAssetJson(request.url, '/data/eod/manifest.latest.json', null)\n"
      },
      "line_number": 1044,
      "absolute_offset": 39969,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 43,
          "end": 51
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 52,
          "end": 58
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  let snapshots = [];\n"
      },
      "line_number": 1061,
      "absolute_offset": 41062,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      snapshots.push({\n"
      },
      "line_number": 1071,
      "absolute_offset": 41533,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "        type: 'snapshot',\n"
      },
      "line_number": 1077,
      "absolute_offset": 41693,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 15,
          "end": 23
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  const opsProviders = Object.entries(usageProviders).map(([name, entry]) => {\n"
      },
      "line_number": 1158,
      "absolute_offset": 44965,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 8,
          "end": 11
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  if (!opsProviders.some((p) => p.name === 'tiingo')) {\n"
      },
      "line_number": 1189,
      "absolute_offset": 46159,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 7,
          "end": 10
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    opsProviders.push({\n"
      },
      "line_number": 1190,
      "absolute_offset": 46215,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 4,
          "end": 7
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    fetchAssetJson(request.url, '/data/pipeline/nasdaq100.latest.json', null),\n"
      },
      "line_number": 1206,
      "absolute_offset": 46904,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 58,
          "end": 64
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  const resolveCount = (latestValue, fallbackValue) => {\n"
      },
      "line_number": 1246,
      "absolute_offset": 49148,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 24,
          "end": 30
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    if (Number.isFinite(Number(latestValue))) return Number(latestValue);\n"
      },
      "line_number": 1247,
      "absolute_offset": 49205,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 31,
          "end": 37
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 60,
          "end": 66
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  const buildCountSource = (key, latestValue, stageDoc, stageResolved) => {\n"
      },
      "line_number": 1260,
      "absolute_offset": 49718,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 33,
          "end": 39
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    const latestNum = Number.isFinite(Number(latestValue)) ? Number(latestValue) : null;\n"
      },
      "line_number": 1261,
      "absolute_offset": 49794,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 10,
          "end": 16
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 45,
          "end": 51
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 68,
          "end": 74
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    let reason = 'latest_missing_or_invalid';\n"
      },
      "line_number": 1264,
      "absolute_offset": 50015,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 18,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    if (latestNum != null) {\n"
      },
      "line_number": 1266,
      "absolute_offset": 50086,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      used = 'latest';\n"
      },
      "line_number": 1267,
      "absolute_offset": 50115,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 14,
          "end": 20
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      reason = 'latest_non_null';\n"
      },
      "line_number": 1268,
      "absolute_offset": 50138,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 16,
          "end": 22
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      resolved = latestNum;\n"
      },
      "line_number": 1269,
      "absolute_offset": 50172,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 17,
          "end": 23
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      latestRaw: latestValue ?? null,\n"
      },
      "line_number": 1286,
      "absolute_offset": 50626,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 6,
          "end": 12
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 17,
          "end": 23
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    const latestVal = pipelineLatestCounts?.[key];\n"
      },
      "line_number": 1302,
      "absolute_offset": 51293,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 10,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    if (Number.isFinite(Number(latestVal))) {\n"
      },
      "line_number": 1303,
      "absolute_offset": 51344,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 31,
          "end": 37
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      if (Number(pipelineCounts[key]) !== Number(latestVal)) {\n"
      },
      "line_number": 1304,
      "absolute_offset": 51390,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 49,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "        invariantDetails[key] = { latest: Number(latestVal), resolved: pipelineCounts[key] };\n"
      },
      "line_number": 1306,
      "absolute_offset": 51482,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 34,
          "end": 40
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 49,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  const marketPricesSnapshot = await fetchAssetJson(request.url, '/data/snapshots/market-prices/latest.json', null);\n"
      },
      "line_number": 1327,
      "absolute_offset": 51968,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 72,
          "end": 80
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 96,
          "end": 102
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  const opsComputed = {\n"
      },
      "line_number": 1374,
      "absolute_offset": 53704,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 8,
          "end": 11
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    providers: opsProviders.sort((a, b) => String(a.name).localeCompare(String(b.name))),\n"
      },
      "line_number": 1375,
      "absolute_offset": 53728,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 15,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      latestSnapshotDate: pricesSnapDate,\n"
      },
      "line_number": 1386,
      "absolute_offset": 54103,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 6,
          "end": 12
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  const opsDailyBaseline = opsDaily?.baseline && typeof opsDaily.baseline === 'object' ? opsDaily.baseline : null;\n"
      },
      "line_number": 1398,
      "absolute_offset": 54342,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 8,
          "end": 11
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 27,
          "end": 30
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 56,
          "end": 59
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 89,
          "end": 92
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  let opsBaseline = opsDailyBaseline || baselineFromComputed(opsComputed);\n"
      },
      "line_number": 1399,
      "absolute_offset": 54457,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 6,
          "end": 9
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 20,
          "end": 23
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 61,
          "end": 64
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    opsBaseline = {\n"
      },
      "line_number": 1401,
      "absolute_offset": 54589,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 4,
          "end": 7
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      ...opsBaseline,\n"
      },
      "line_number": 1402,
      "absolute_offset": 54609,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 9,
          "end": 12
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "        ...(opsBaseline?.pipeline || {}),\n"
      },
      "line_number": 1404,
      "absolute_offset": 54649,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 12,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  const opsBaselineAsOf = typeof opsDaily?.asOf === 'string' ? opsDaily.asOf : null;\n"
      },
      "line_number": 1413,
      "absolute_offset": 54937,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 8,
          "end": 11
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 33,
          "end": 36
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 63,
          "end": 66
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  const baselineVerdict = computeVerdictFromBaseline(opsBaseline);\n"
      },
      "line_number": 1414,
      "absolute_offset": 55022,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 53,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  const baselineMissing = !opsDailyBaseline;\n"
      },
      "line_number": 1415,
      "absolute_offset": 55089,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 27,
          "end": 30
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    const expectedVal = opsBaseline?.pipeline?.expected;\n"
      },
      "line_number": 1426,
      "absolute_offset": 55476,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 24,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    const staticReadyVal = opsBaseline?.pipeline?.staticReady;\n"
      },
      "line_number": 1427,
      "absolute_offset": 55533,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 27,
          "end": 30
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "        'This is expected during the initial ramp-up until KV bars and ops-daily build analyses for all tickers. ' +\n"
      },
      "line_number": 1433,
      "absolute_offset": 55919,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 71,
          "end": 74
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  const opsBaselineOverall = baselineExplain ? { ...overall, explain: baselineExplain } : overall;\n"
      },
      "line_number": 1437,
      "absolute_offset": 56107,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 8,
          "end": 11
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  const snapshotInfo = {\n"
      },
      "line_number": 1440,
      "absolute_offset": 56254,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  const opsBaselineRuntime = {\n"
      },
      "line_number": 1472,
      "absolute_offset": 57342,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 8,
          "end": 11
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  const snapshotAsOfIso =\n"
      },
      "line_number": 1484,
      "absolute_offset": 57665,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  const snapshotAsOfMs = parseIsoToMs(snapshotAsOfIso);\n"
      },
      "line_number": 1489,
      "absolute_offset": 57843,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 38,
          "end": 46
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  const ageHours = snapshotAsOfMs ? (Date.now() - snapshotAsOfMs) / (1000 * 60 * 60) : null;\n"
      },
      "line_number": 1490,
      "absolute_offset": 57899,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 19,
          "end": 27
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 50,
          "end": 58
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "        url: '/data/ops/health-profiles.v1.json',\n"
      },
      "line_number": 1512,
      "absolute_offset": 59052,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 20,
          "end": 23
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "        url: '/api/mission-control/summary',\n"
      },
      "line_number": 1520,
      "absolute_offset": 59295,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 19,
          "end": 34
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      asOf: snapshotAsOfIso,\n"
      },
      "line_number": 1529,
      "absolute_offset": 59598,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 12,
          "end": 20
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "        url: '/data/snapshots/market-prices/latest.json',\n"
      },
      "line_number": 1531,
      "absolute_offset": 59643,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 20,
          "end": 28
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 44,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "        howTo: 'Refresh market-prices snapshot'\n"
      },
      "line_number": 1532,
      "absolute_offset": 59701,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 38,
          "end": 46
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "        url: '/data/pipeline/nasdaq100.latest.json',\n"
      },
      "line_number": 1541,
      "absolute_offset": 59998,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 39,
          "end": 45
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    snapshots: {\n"
      },
      "line_number": 1566,
      "absolute_offset": 60882,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 4,
          "end": 12
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "  let opsLiveResolved = null;\n"
      },
      "line_number": 1585,
      "absolute_offset": 61655,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 6,
          "end": 9
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "    opsLiveResolved = {\n"
      },
      "line_number": 1588,
      "absolute_offset": 61761,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 4,
          "end": 7
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      baselineAsOf: opsBaselineAsOf,\n"
      },
      "line_number": 1602,
      "absolute_offset": 62046,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 20,
          "end": 23
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      source: 'mission-control',\n"
      },
      "line_number": 1612,
      "absolute_offset": 62291,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 15,
          "end": 30
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "        latest: pipelineLatest,\n"
      },
      "line_number": 1653,
      "absolute_offset": 63410,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "          manifest: eodManifest\n"
      },
      "line_number": 1664,
      "absolute_offset": 63755,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 10,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      opsBaseline: {\n"
      },
      "line_number": 1667,
      "absolute_offset": 63813,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 6,
          "end": 9
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "        asOf: opsBaselineAsOf,\n"
      },
      "line_number": 1668,
      "absolute_offset": 63834,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 14,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "        overall: opsBaselineOverall,\n"
      },
      "line_number": 1669,
      "absolute_offset": 63865,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 17,
          "end": 20
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "        baseline: opsBaseline,\n"
      },
      "line_number": 1670,
      "absolute_offset": 63902,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 18,
          "end": 21
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "        runtime: opsBaselineRuntime,\n"
      },
      "line_number": 1671,
      "absolute_offset": 63933,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 17,
          "end": 20
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      opsComputed: {\n"
      },
      "line_number": 1677,
      "absolute_offset": 64076,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 6,
          "end": 9
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "        baseline: opsComputed\n"
      },
      "line_number": 1680,
      "absolute_offset": 64142,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 18,
          "end": 21
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      opsLive: opsLiveResolved,\n"
      },
      "line_number": 1682,
      "absolute_offset": 64181,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 6,
          "end": 9
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 15,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "lines": {
        "text": "      snapshots: { items: snapshots },\n"
      },
      "line_number": 1683,
      "absolute_offset": 64213,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 26,
          "end": 34
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "functions/api/mission-control/summary.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 89084,
          "human": "0.000089s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 64968,
        "bytes_printed": 33934,
        "matched_lines": 120,
        "matches": 159
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/generate-posts.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-posts.js"
      },
      "lines": {
        "text": "  { id: \"crypto-snapshot\", label: \"Crypto Snapshot\", endpoint: \"/api/crypto-snapshot\" },\n"
      },
      "line_number": 19,
      "absolute_offset": 1067,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 16,
          "end": 24
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 76,
          "end": 84
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/generate-posts.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 19667,
          "human": "0.000020s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 6143,
        "bytes_printed": 411,
        "matched_lines": 1,
        "matches": 2
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "functions/api/universe.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/universe.js"
      },
      "lines": {
        "text": "  // 1) Primary source: v3 universe snapshot (may be placeholder with data:null)\n"
      },
      "line_number": 53,
      "absolute_offset": 1455,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 36,
          "end": 44
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/universe.js"
      },
      "lines": {
        "text": "  const snapshot = await fetchJson(\"/data/snapshots/universe/latest.json\");\n"
      },
      "line_number": 54,
      "absolute_offset": 1536,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 42,
          "end": 50
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 61,
          "end": 67
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/universe.js"
      },
      "lines": {
        "text": "  const snapshotSymbols = snapshot?.data?.symbols;\n"
      },
      "line_number": 55,
      "absolute_offset": 1612,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 26,
          "end": 34
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/universe.js"
      },
      "lines": {
        "text": "  if (snapshot?.schema_version === \"3.0\" && isNonEmptySymbols(snapshotSymbols)) {\n"
      },
      "line_number": 56,
      "absolute_offset": 1663,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 62,
          "end": 70
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/universe.js"
      },
      "lines": {
        "text": "    const symbols = snapshotSymbols\n"
      },
      "line_number": 57,
      "absolute_offset": 1745,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 20,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "functions/api/universe.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 7167,
          "human": "0.000007s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 4975,
        "bytes_printed": 1575,
        "matched_lines": 5,
        "matches": 9
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "functions/api/mission-control.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control.js"
      },
      "lines": {
        "text": "  (moduleName) => `/data/snapshots/${moduleName}/latest.json`,\n"
      },
      "line_number": 3,
      "absolute_offset": 122,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 25,
          "end": 33
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 49,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control.js"
      },
      "lines": {
        "text": "  (moduleName) => `/data/snapshots/${moduleName}.json`\n"
      },
      "line_number": 4,
      "absolute_offset": 185,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 25,
          "end": 33
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control.js"
      },
      "lines": {
        "text": "function buildModuleStatus(moduleName, snapshotInfo) {\n"
      },
      "line_number": 50,
      "absolute_offset": 1751,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 39,
          "end": 47
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control.js"
      },
      "lines": {
        "text": "    status: snapshotInfo.ok ? 'ok' : 'missing',\n"
      },
      "line_number": 53,
      "absolute_offset": 1848,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 12,
          "end": 20
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control.js"
      },
      "lines": {
        "text": "    reason_codes: snapshotInfo.ok ? [] : ['MISSING_SNAPSHOT'],\n"
      },
      "line_number": 54,
      "absolute_offset": 1896,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 18,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control.js"
      },
      "lines": {
        "text": "    as_of: snapshotInfo.ok ? snapshotInfo.as_of : null,\n"
      },
      "line_number": 55,
      "absolute_offset": 1959,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 11,
          "end": 19
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 29,
          "end": 37
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control.js"
      },
      "lines": {
        "text": "    path: snapshotInfo.ok ? snapshotInfo.path : snapshotInfo.paths_checked,\n"
      },
      "line_number": 56,
      "absolute_offset": 2015,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 10,
          "end": 18
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 28,
          "end": 36
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 48,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control.js"
      },
      "lines": {
        "text": "    snapshot: snapshotInfo.ok ? snapshotInfo.raw : null\n"
      },
      "line_number": 57,
      "absolute_offset": 2091,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 4,
          "end": 12
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 14,
          "end": 22
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 32,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/mission-control.js"
      },
      "lines": {
        "text": "    module: 'mission-control',\n"
      },
      "line_number": 77,
      "absolute_offset": 2730,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 13,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "functions/api/mission-control.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 72583,
          "human": "0.000073s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 3086,
        "bytes_printed": 2707,
        "matched_lines": 9,
        "matches": 15
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "functions/api/crypto-snapshot.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/crypto-snapshot.js"
      },
      "lines": {
        "text": "  return serveStaticJson(context.request, \"crypto-snapshot\", null, context);\n"
      },
      "line_number": 4,
      "absolute_offset": 107,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 50,
          "end": 58
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "functions/api/crypto-snapshot.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 9583,
          "human": "0.000010s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 186,
        "bytes_printed": 357,
        "matched_lines": 1,
        "matches": 1
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/smoke-rvci.sh"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/smoke-rvci.sh"
      },
      "lines": {
        "text": "extract_latest() {\n"
      },
      "line_number": 52,
      "absolute_offset": 1208,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/smoke-rvci.sh"
      },
      "lines": {
        "text": "for url in \"$BASE/api/rvci-engine?debug=1\" \"$BASE/data/rvci_latest.json\"; do\n"
      },
      "line_number": 118,
      "absolute_offset": 2784,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 60,
          "end": 66
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/smoke-rvci.sh"
      },
      "lines": {
        "text": "    echo \"NON_JSON detected for latest payload\" >&2\n"
      },
      "line_number": 134,
      "absolute_offset": 3194,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 32,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/smoke-rvci.sh"
      },
      "lines": {
        "text": "  echo \"ERROR: no latest payload available\" >&2\n"
      },
      "line_number": 138,
      "absolute_offset": 3304,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 18,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/smoke-rvci.sh"
      },
      "lines": {
        "text": "done < <(printf '%s' \"$LATEST_JSON\" | extract_latest)\n"
      },
      "line_number": 160,
      "absolute_offset": 3791,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 46,
          "end": 52
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/smoke-rvci.sh"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 16125,
          "human": "0.000016s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 6326,
        "bytes_printed": 1279,
        "matched_lines": 5,
        "matches": 5
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/marketphase-generate.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/marketphase-generate.mjs"
      },
      "lines": {
        "text": "const OUTPUT_ROOT = \"mirrors/marketphase\";\n"
      },
      "line_number": 12,
      "absolute_offset": 294,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 21,
          "end": 29
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/marketphase-generate.mjs"
      },
      "lines": {
        "text": "const MIRROR_ROOT = \"mirrors/marketphase\";\n"
      },
      "line_number": 13,
      "absolute_offset": 337,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 21,
          "end": 29
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/marketphase-generate.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 9750,
          "human": "0.000010s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 8351,
        "bytes_printed": 571,
        "matched_lines": 2,
        "matches": 2
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/truth-chain/lib/ui-values.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/truth-chain/lib/ui-values.mjs"
      },
      "lines": {
        "text": "  const bar = data?.latest_bar || null;\n"
      },
      "line_number": 5,
      "absolute_offset": 174,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 20,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/truth-chain/lib/ui-values.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 3875,
          "human": "0.000004s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 950,
        "bytes_printed": 326,
        "matched_lines": 1,
        "matches": 1
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/truth-chain/trace_ui_to_origin.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/truth-chain/trace_ui_to_origin.mjs"
      },
      "lines": {
        "text": "  barLine: firstLineRef(uiFile, 'const bar = data?.latest_bar'),\n"
      },
      "line_number": 40,
      "absolute_offset": 1616,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 51,
          "end": 57
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/truth-chain/trace_ui_to_origin.mjs"
      },
      "lines": {
        "text": "  latestBarAssign: firstLineRef(stockHandlerFile, 'const latestBar = pickLatestBar'),\n"
      },
      "line_number": 55,
      "absolute_offset": 2478,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 2,
          "end": 8
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 57,
          "end": 63
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/truth-chain/trace_ui_to_origin.mjs"
      },
      "lines": {
        "text": "const stockAnalysisUrl = new URL('/data/snapshots/stock-analysis.json', base).toString();\n"
      },
      "line_number": 68,
      "absolute_offset": 3265,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 40,
          "end": 48
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/truth-chain/trace_ui_to_origin.mjs"
      },
      "lines": {
        "text": "      latest_bar_close: `${uiRefs.closeLine.line}:${uiRefs.closeLine.text.trim()}`,\n"
      },
      "line_number": 139,
      "absolute_offset": 5426,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 6,
          "end": 12
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/truth-chain/trace_ui_to_origin.mjs"
      },
      "lines": {
        "text": "    stock_analysis_local: localArtifact('/data/snapshots/stock-analysis.json')\n"
      },
      "line_number": 167,
      "absolute_offset": 7174,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 47,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/truth-chain/trace_ui_to_origin.mjs"
      },
      "lines": {
        "text": "    latest_bar: pickPaths(stockRes.json, ['data.latest_bar.close', 'data.latest_bar.volume', 'data.latest_bar.date']),\n"
      },
      "line_number": 180,
      "absolute_offset": 8110,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 4,
          "end": 10
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 48,
          "end": 54
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 73,
          "end": 79
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 99,
          "end": 105
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/truth-chain/trace_ui_to_origin.mjs"
      },
      "lines": {
        "text": "console.log(`  renderStock latest_bar line: ${uiRefs.barLine.line}`);\n"
      },
      "line_number": 196,
      "absolute_offset": 8760,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 27,
          "end": 33
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/truth-chain/trace_ui_to_origin.mjs"
      },
      "lines": {
        "text": "console.log(`  /data/snapshots/stock-analysis.json -> ${stockAnalysisRes.status} sha256=${stockAnalysisRes.sha256}`);\n"
      },
      "line_number": 201,
      "absolute_offset": 9157,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 21,
          "end": 29
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/truth-chain/trace_ui_to_origin.mjs"
      },
      "lines": {
        "text": "console.log(`  stock excerpt: ${JSON.stringify(trace.response_excerpt.latest_bar)} ${JSON.stringify(trace.response_excerpt.change)}`);\n"
      },
      "line_number": 202,
      "absolute_offset": 9275,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 70,
          "end": 76
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/truth-chain/trace_ui_to_origin.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 9083,
          "human": "0.000009s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 10176,
        "bytes_printed": 3033,
        "matched_lines": 9,
        "matches": 13
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/truth-chain/snapshot_ui_values.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/truth-chain/snapshot_ui_values.mjs"
      },
      "lines": {
        "text": "  console.error('Usage: node scripts/truth-chain/snapshot_ui_values.mjs <TICKER>');\n"
      },
      "line_number": 6,
      "absolute_offset": 169,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 49,
          "end": 57
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/truth-chain/snapshot_ui_values.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 54958,
          "human": "0.000055s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 1188,
        "bytes_printed": 382,
        "matched_lines": 1,
        "matches": 1
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/audit/generate-stub-mirrors.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/generate-stub-mirrors.mjs"
      },
      "lines": {
        "text": "  const mirrorPath = feature.mirrorPath || `mirrors/${feature.id}.json`;\n"
      },
      "line_number": 29,
      "absolute_offset": 702,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 44,
          "end": 52
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/audit/generate-stub-mirrors.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 5000,
          "human": "0.000005s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 1229,
        "bytes_printed": 366,
        "matched_lines": 1,
        "matches": 1
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/scientific-analyzer/generate-analysis.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/scientific-analyzer/generate-analysis.mjs"
      },
      "lines": {
        "text": " * Output: public/data/snapshots/stock-analysis.json\n"
      },
      "line_number": 21,
      "absolute_offset": 738,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 11,
          "end": 23
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 23,
          "end": 31
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/scientific-analyzer/generate-analysis.mjs"
      },
      "lines": {
        "text": "const MODELS_DIR = 'public/data/models';\n"
      },
      "line_number": 32,
      "absolute_offset": 1169,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 20,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/scientific-analyzer/generate-analysis.mjs"
      },
      "lines": {
        "text": "const SNAPSHOTS_DIR = 'public/data/snapshots';\n"
      },
      "line_number": 33,
      "absolute_offset": 1210,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 23,
          "end": 35
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 35,
          "end": 43
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/scientific-analyzer/generate-analysis.mjs"
      },
      "lines": {
        "text": "const MARKETPHASE_DIR = 'public/data/marketphase';\n"
      },
      "line_number": 34,
      "absolute_offset": 1257,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 25,
          "end": 37
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/scientific-analyzer/generate-analysis.mjs"
      },
      "lines": {
        "text": "const UNIVERSE_FILE = 'public/data/universe/nasdaq100.json';\n"
      },
      "line_number": 35,
      "absolute_offset": 1308,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 23,
          "end": 35
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/scientific-analyzer/generate-analysis.mjs"
      },
      "lines": {
        "text": "    // Build snapshot\n"
      },
      "line_number": 512,
      "absolute_offset": 18629,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 13,
          "end": 21
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/scientific-analyzer/generate-analysis.mjs"
      },
      "lines": {
        "text": "    const snapshot = {\n"
      },
      "line_number": 513,
      "absolute_offset": 18651,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 10,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/scientific-analyzer/generate-analysis.mjs"
      },
      "lines": {
        "text": "            type: 'stock-analysis.snapshot',\n"
      },
      "line_number": 515,
      "absolute_offset": 18691,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 34,
          "end": 42
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/scientific-analyzer/generate-analysis.mjs"
      },
      "lines": {
        "text": "    await writeJsonAtomic(`${SNAPSHOTS_DIR}/stock-analysis.json`, snapshot);\n"
      },
      "line_number": 535,
      "absolute_offset": 19465,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 66,
          "end": 74
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/scientific-analyzer/generate-analysis.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 12250,
          "human": "0.000012s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 19972,
        "bytes_printed": 2621,
        "matched_lines": 9,
        "matches": 11
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/eod/build-eod-latest.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/build-eod-latest.mjs"
      },
      "lines": {
        "text": "    const latest = pickLatestRow(payload);\n"
      },
      "line_number": 157,
      "absolute_offset": 4303,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 10,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/build-eod-latest.mjs"
      },
      "lines": {
        "text": "    if (!latest) {\n"
      },
      "line_number": 158,
      "absolute_offset": 4346,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 9,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/build-eod-latest.mjs"
      },
      "lines": {
        "text": "      const error = new Error('no_latest_row');\n"
      },
      "line_number": 159,
      "absolute_offset": 4365,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 34,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/build-eod-latest.mjs"
      },
      "lines": {
        "text": "    const record = normalizeTiingoRow(symbol, latest);\n"
      },
      "line_number": 164,
      "absolute_offset": 4512,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 46,
          "end": 52
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/build-eod-latest.mjs"
      },
      "lines": {
        "text": "    const manifest = {\n"
      },
      "line_number": 280,
      "absolute_offset": 8269,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 10,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/build-eod-latest.mjs"
      },
      "lines": {
        "text": "      type: 'eod.latest.manifest',\n"
      },
      "line_number": 282,
      "absolute_offset": 8321,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 17,
          "end": 23
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 24,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/build-eod-latest.mjs"
      },
      "lines": {
        "text": "    const manifestPath = path.join(outRoot, 'eod', 'manifest.latest.json');\n"
      },
      "line_number": 291,
      "absolute_offset": 8552,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 10,
          "end": 18
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 52,
          "end": 60
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 61,
          "end": 67
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/build-eod-latest.mjs"
      },
      "lines": {
        "text": "    await writeJsonAtomic(manifestPath, manifest);\n"
      },
      "line_number": 292,
      "absolute_offset": 8628,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 26,
          "end": 34
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 40,
          "end": 48
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/build-eod-latest.mjs"
      },
      "lines": {
        "text": "        eod_manifest_ref: '/data/eod/manifest.latest.json'\n"
      },
      "line_number": 303,
      "absolute_offset": 9092,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 12,
          "end": 20
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 37,
          "end": 45
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 46,
          "end": 52
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/build-eod-latest.mjs"
      },
      "lines": {
        "text": "    const pipelinePath = path.join(outRoot, 'pipeline', `${args.universe}.latest.json`);\n"
      },
      "line_number": 322,
      "absolute_offset": 9581,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 74,
          "end": 80
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/build-eod-latest.mjs"
      },
      "lines": {
        "text": "      type: 'eod.latest.batch',\n"
      },
      "line_number": 392,
      "absolute_offset": 11721,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 17,
          "end": 23
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/build-eod-latest.mjs"
      },
      "lines": {
        "text": "    const batchRelPath = `eod/batches/eod.latest.${chunkId}.json`;\n"
      },
      "line_number": 401,
      "absolute_offset": 11917,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 42,
          "end": 48
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/build-eod-latest.mjs"
      },
      "lines": {
        "text": "  const manifest = {\n"
      },
      "line_number": 429,
      "absolute_offset": 12631,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/build-eod-latest.mjs"
      },
      "lines": {
        "text": "    type: 'eod.latest.manifest',\n"
      },
      "line_number": 431,
      "absolute_offset": 12679,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 15,
          "end": 21
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 22,
          "end": 30
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/build-eod-latest.mjs"
      },
      "lines": {
        "text": "  const manifestPath = path.join(outRoot, 'eod', 'manifest.latest.json');\n"
      },
      "line_number": 440,
      "absolute_offset": 12885,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 50,
          "end": 58
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 59,
          "end": 65
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/build-eod-latest.mjs"
      },
      "lines": {
        "text": "    await writeJsonAtomic(manifestPath, manifest);\n"
      },
      "line_number": 443,
      "absolute_offset": 12968,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 26,
          "end": 34
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 40,
          "end": 48
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/build-eod-latest.mjs"
      },
      "lines": {
        "text": "      eod_manifest_ref: '/data/eod/manifest.latest.json'\n"
      },
      "line_number": 476,
      "absolute_offset": 13926,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 10,
          "end": 18
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 35,
          "end": 43
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 44,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/build-eod-latest.mjs"
      },
      "lines": {
        "text": "  const pipelinePath = path.join(outRoot, 'pipeline', `${args.universe}.latest.json`);\n"
      },
      "line_number": 494,
      "absolute_offset": 14434,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 72,
          "end": 78
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/build-eod-latest.mjs"
      },
      "lines": {
        "text": "  process.stdout.write(`OK: eod-latest artifacts generated (fetched=${fetchedCount}/${symbols.length})\\n`);\n"
      },
      "line_number": 516,
      "absolute_offset": 15205,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 32,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/eod/build-eod-latest.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 30708,
          "human": "0.000031s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 15330,
        "bytes_printed": 5558,
        "matched_lines": 19,
        "matches": 31
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "functions/api/price-snapshot.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/price-snapshot.js"
      },
      "lines": {
        "text": "  return serveStaticJson(context.request, \"price-snapshot\", null, context);\n"
      },
      "line_number": 4,
      "absolute_offset": 107,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 49,
          "end": 57
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "functions/api/price-snapshot.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 3750,
          "human": "0.000004s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 185,
        "bytes_printed": 354,
        "matched_lines": 1,
        "matches": 1
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/ops/verify-truth-artifacts.sh"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-truth-artifacts.sh"
      },
      "lines": {
        "text": "#   ./scripts/ops/verify-truth-artifacts.sh           # Check local files only\n"
      },
      "line_number": 6,
      "absolute_offset": 129,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 14,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-truth-artifacts.sh"
      },
      "lines": {
        "text": "#   ./scripts/ops/verify-truth-artifacts.sh --live    # Check live URLs (requires BASE env var)\n"
      },
      "line_number": 7,
      "absolute_offset": 208,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 14,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-truth-artifacts.sh"
      },
      "lines": {
        "text": "  \"public/data/pipeline/missing.json\"\n"
      },
      "line_number": 15,
      "absolute_offset": 421,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 3,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-truth-artifacts.sh"
      },
      "lines": {
        "text": "  \"public/data/pipeline/nasdaq100.pipeline-truth.json\"\n"
      },
      "line_number": 16,
      "absolute_offset": 459,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 3,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-truth-artifacts.sh"
      },
      "lines": {
        "text": "  \"public/data/pipeline/nasdaq100.latest.json\"\n"
      },
      "line_number": 17,
      "absolute_offset": 514,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 3,
          "end": 15
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 34,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-truth-artifacts.sh"
      },
      "lines": {
        "text": "  \"public/data/pipeline/nasdaq100.static-ready.json\"\n"
      },
      "line_number": 18,
      "absolute_offset": 561,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 3,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-truth-artifacts.sh"
      },
      "lines": {
        "text": "  \"public/data/pipeline/nasdaq100.computed.json\"\n"
      },
      "line_number": 19,
      "absolute_offset": 614,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 3,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-truth-artifacts.sh"
      },
      "lines": {
        "text": "  \"public/data/pipeline/nasdaq100.validated.json\"\n"
      },
      "line_number": 20,
      "absolute_offset": 663,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 3,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-truth-artifacts.sh"
      },
      "lines": {
        "text": "  \"public/data/pipeline/nasdaq100.fetched.json\"\n"
      },
      "line_number": 21,
      "absolute_offset": 713,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 3,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-truth-artifacts.sh"
      },
      "lines": {
        "text": "  \"/data/pipeline/nasdaq100.latest.json\"\n"
      },
      "line_number": 27,
      "absolute_offset": 858,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 28,
          "end": 34
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-truth-artifacts.sh"
      },
      "lines": {
        "text": "    echo \"Example: BASE=https://d90a2286.rubikvault-site.pages.dev ./scripts/ops/verify-truth-artifacts.sh --live\"\n"
      },
      "line_number": 59,
      "absolute_offset": 1680,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 77,
          "end": 80
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/ops/verify-truth-artifacts.sh"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 16958,
          "human": "0.000017s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 2453,
        "bytes_printed": 3099,
        "matched_lines": 11,
        "matches": 12
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/llm-context.sh"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/llm-context.sh"
      },
      "lines": {
        "text": "  \"docs/ops/contract.md\"\n"
      },
      "line_number": 6,
      "absolute_offset": 74,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 8,
          "end": 11
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/llm-context.sh"
      },
      "lines": {
        "text": "  \"docs/ops/runbook.md\"\n"
      },
      "line_number": 7,
      "absolute_offset": 99,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 8,
          "end": 11
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/llm-context.sh"
      },
      "lines": {
        "text": "  \"docs/ops/architecture.md\"\n"
      },
      "line_number": 8,
      "absolute_offset": 123,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 8,
          "end": 11
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/llm-context.sh"
      },
      "lines": {
        "text": "  \"docs/ops/decisions.md\"\n"
      },
      "line_number": 9,
      "absolute_offset": 152,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 8,
          "end": 11
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/llm-context.sh"
      },
      "lines": {
        "text": "echo \"== docs/ops headings ==\"\n"
      },
      "line_number": 31,
      "absolute_offset": 484,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 14,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/llm-context.sh"
      },
      "lines": {
        "text": "grep -hE '^#{1,2} ' docs/ops/*.md\n"
      },
      "line_number": 32,
      "absolute_offset": 515,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 25,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/llm-context.sh"
      },
      "lines": {
        "text": "curl -fsS \"$PREVIEW/api/price-snapshot?debug=1\" | jq '{feature, ok, hasMeta:(.meta!=null), metaStatus:(.meta.status//null), metaReason:(.meta.reason//null)}'\n"
      },
      "line_number": 40,
      "absolute_offset": 674,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 30,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/llm-context.sh"
      },
      "lines": {
        "text": "curl -fsS \"$PREVIEW/api/debug-bundle\" | jq '{hasKV:.infra.kv.hasKV, bindingPresent:.infra.kv.bindingPresent, opsWorking:.infra.kv.opsWorking, errors:.infra.kv.errors}'\n"
      },
      "line_number": 44,
      "absolute_offset": 1017,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 109,
          "end": 112
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 130,
          "end": 133
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/llm-context.sh"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 8834,
          "human": "0.000009s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 1574,
        "bytes_printed": 2117,
        "matched_lines": 8,
        "matches": 9
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/audit/generate-reality.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/generate-reality.mjs"
      },
      "lines": {
        "text": "    .filter((f) => ![\"manifest.json\", \"_health.json\"].includes(f))\n"
      },
      "line_number": 114,
      "absolute_offset": 2587,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 22,
          "end": 30
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/generate-reality.mjs"
      },
      "lines": {
        "text": "const mirrorsDir = path.join(root, \"public\", \"data\", \"snapshots\");\n"
      },
      "line_number": 128,
      "absolute_offset": 2955,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 54,
          "end": 62
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/generate-reality.mjs"
      },
      "lines": {
        "text": "ensureExists(mirrorsDir, \"Repo has no public/data/snapshots; audit can't run\");\n"
      },
      "line_number": 129,
      "absolute_offset": 3022,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 38,
          "end": 50
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 50,
          "end": 58
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/generate-reality.mjs"
      },
      "lines": {
        "text": "  .map((f) => `public/data/snapshots/${f}`);\n"
      },
      "line_number": 135,
      "absolute_offset": 3271,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 15,
          "end": 27
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 27,
          "end": 35
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/generate-reality.mjs"
      },
      "lines": {
        "text": "      `HTML features missing snapshots: count=${htmlMissing.length} sample=${htmlMissing.slice(0, 10).join(\", \")}`\n"
      },
      "line_number": 150,
      "absolute_offset": 3933,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 29,
          "end": 37
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/audit/generate-reality.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 7917,
          "human": "0.000008s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 6319,
        "bytes_printed": 1605,
        "matched_lines": 5,
        "matches": 7
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/audit/build-feature-registry.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/build-feature-registry.mjs"
      },
      "lines": {
        "text": "    .filter((file) => ![\"manifest.json\", \"_health.json\"].includes(file))\n"
      },
      "line_number": 77,
      "absolute_offset": 1871,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 25,
          "end": 33
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/build-feature-registry.mjs"
      },
      "lines": {
        "text": "    mirrorPath: `mirrors/${id}.json`,\n"
      },
      "line_number": 87,
      "absolute_offset": 2111,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 17,
          "end": 25
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/audit/build-feature-registry.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 15041,
          "human": "0.000015s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 4752,
        "bytes_printed": 622,
        "matched_lines": 2,
        "matches": 2
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/eod/check-eod-artifacts.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/check-eod-artifacts.mjs"
      },
      "lines": {
        "text": "  if (!doc || typeof doc !== 'object') fail('manifest: not an object');\n"
      },
      "line_number": 31,
      "absolute_offset": 682,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 45,
          "end": 53
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/check-eod-artifacts.mjs"
      },
      "lines": {
        "text": "  if (doc.schema_version !== '1.0') fail('manifest: schema_version must be 1.0');\n"
      },
      "line_number": 32,
      "absolute_offset": 754,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 42,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/check-eod-artifacts.mjs"
      },
      "lines": {
        "text": "  if (doc.type !== 'eod.latest.manifest') fail('manifest: type must be eod.latest.manifest');\n"
      },
      "line_number": 33,
      "absolute_offset": 836,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 24,
          "end": 30
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 31,
          "end": 39
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 48,
          "end": 56
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 75,
          "end": 81
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 82,
          "end": 90
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/check-eod-artifacts.mjs"
      },
      "lines": {
        "text": "  if (typeof doc.generated_at !== 'string') fail('manifest: generated_at missing');\n"
      },
      "line_number": 34,
      "absolute_offset": 930,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 50,
          "end": 58
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/check-eod-artifacts.mjs"
      },
      "lines": {
        "text": "  if (typeof doc.universe !== 'string') fail('manifest: universe missing');\n"
      },
      "line_number": 35,
      "absolute_offset": 1014,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 46,
          "end": 54
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/check-eod-artifacts.mjs"
      },
      "lines": {
        "text": "  if (!Number.isInteger(doc.total_symbols)) fail('manifest: total_symbols must be int');\n"
      },
      "line_number": 36,
      "absolute_offset": 1090,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 50,
          "end": 58
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/check-eod-artifacts.mjs"
      },
      "lines": {
        "text": "  if (!Number.isInteger(doc.chunk_size)) fail('manifest: chunk_size must be int');\n"
      },
      "line_number": 37,
      "absolute_offset": 1179,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 47,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/check-eod-artifacts.mjs"
      },
      "lines": {
        "text": "  if (!Array.isArray(doc.chunks)) fail('manifest: chunks must be array');\n"
      },
      "line_number": 38,
      "absolute_offset": 1262,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 40,
          "end": 48
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/check-eod-artifacts.mjs"
      },
      "lines": {
        "text": "  if (!doc.errors_by_class || typeof doc.errors_by_class !== 'object') fail('manifest: errors_by_class must be object');\n"
      },
      "line_number": 39,
      "absolute_offset": 1336,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 77,
          "end": 85
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/check-eod-artifacts.mjs"
      },
      "lines": {
        "text": "  const manifestPath = path.join(dataRoot, 'eod', 'manifest.latest.json');\n"
      },
      "line_number": 67,
      "absolute_offset": 3322,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 51,
          "end": 59
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 60,
          "end": 66
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/check-eod-artifacts.mjs"
      },
      "lines": {
        "text": "  const pipelinePath = path.join(dataRoot, 'pipeline', `${args.universe}.latest.json`);\n"
      },
      "line_number": 68,
      "absolute_offset": 3397,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 73,
          "end": 79
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/check-eod-artifacts.mjs"
      },
      "lines": {
        "text": "  const manifest = await readJson(manifestPath);\n"
      },
      "line_number": 73,
      "absolute_offset": 3602,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 34,
          "end": 42
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/check-eod-artifacts.mjs"
      },
      "lines": {
        "text": "  assertManifest(manifest);\n"
      },
      "line_number": 74,
      "absolute_offset": 3651,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 17,
          "end": 25
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/check-eod-artifacts.mjs"
      },
      "lines": {
        "text": "  if (manifest.total_symbols !== expected) {\n"
      },
      "line_number": 79,
      "absolute_offset": 3758,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/check-eod-artifacts.mjs"
      },
      "lines": {
        "text": "    fail(`manifest: total_symbols ${manifest.total_symbols} != universe length ${expected}`);\n"
      },
      "line_number": 80,
      "absolute_offset": 3803,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 10,
          "end": 18
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 36,
          "end": 44
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/eod/check-eod-artifacts.mjs"
      },
      "lines": {
        "text": "  process.stdout.write('OK: eod manifest + pipeline latest present and consistent\\n');\n"
      },
      "line_number": 87,
      "absolute_offset": 4052,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 32,
          "end": 40
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 52,
          "end": 58
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/eod/check-eod-artifacts.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 22250,
          "human": "0.000022s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 4267,
        "bytes_printed": 5051,
        "matched_lines": 16,
        "matches": 25
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-ui.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-ui.mjs"
      },
      "lines": {
        "text": "const opsUrl = `${base}/ops/?debug=1&t=${Date.now()}`;\n"
      },
      "line_number": 6,
      "absolute_offset": 189,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 6,
          "end": 9
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 24,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-ui.mjs"
      },
      "lines": {
        "text": "const latestUrl = `${base}/data/pipeline/nasdaq100.latest.json`;\n"
      },
      "line_number": 7,
      "absolute_offset": 244,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 6,
          "end": 12
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 51,
          "end": 57
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-ui.mjs"
      },
      "lines": {
        "text": "    const bridge = document.querySelector('#ops-bridge');\n"
      },
      "line_number": 28,
      "absolute_offset": 861,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 44,
          "end": 47
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-ui.mjs"
      },
      "lines": {
        "text": "  const latestDoc = await fetchJson(latestUrl, { name: 'pipeline-latest' });\n"
      },
      "line_number": 51,
      "absolute_offset": 1627,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 36,
          "end": 42
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 65,
          "end": 71
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-ui.mjs"
      },
      "lines": {
        "text": "  const latestCounts = latestDoc?.counts || {};\n"
      },
      "line_number": 60,
      "absolute_offset": 1939,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 23,
          "end": 29
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-ui.mjs"
      },
      "lines": {
        "text": "  const expectedFetched = requireNumber(latestCounts.fetched, 'latest.counts.fetched');\n"
      },
      "line_number": 61,
      "absolute_offset": 1987,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 40,
          "end": 46
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 63,
          "end": 69
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-ui.mjs"
      },
      "lines": {
        "text": "  const expectedValidated = requireNumber(latestCounts.validated, 'latest.counts.validated');\n"
      },
      "line_number": 62,
      "absolute_offset": 2075,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 42,
          "end": 48
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 67,
          "end": 73
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-ui.mjs"
      },
      "lines": {
        "text": "  await page.goto(opsUrl, { waitUntil: 'domcontentloaded' });\n"
      },
      "line_number": 66,
      "absolute_offset": 2247,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 18,
          "end": 21
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-ui.mjs"
      },
      "lines": {
        "text": "  const bridge = page.locator('#ops-bridge');\n"
      },
      "line_number": 67,
      "absolute_offset": 2309,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 32,
          "end": 35
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-ui.mjs"
      },
      "lines": {
        "text": "    throw new Error('Timeout waiting for ops-bridge readiness');\n"
      },
      "line_number": 74,
      "absolute_offset": 2639,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 41,
          "end": 44
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-ui.mjs"
      },
      "lines": {
        "text": "    throw new Error(`UI fetched vs latest mismatch: got ${fetchedUi}, expected ${expectedFetched}`);\n"
      },
      "line_number": 91,
      "absolute_offset": 3250,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 35,
          "end": 41
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-ui.mjs"
      },
      "lines": {
        "text": "    throw new Error(`UI validated vs latest mismatch: got ${validatedUi}, expected ${expectedValidated}`);\n"
      },
      "line_number": 95,
      "absolute_offset": 3423,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 37,
          "end": 43
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-ui.mjs"
      },
      "lines": {
        "text": "  console.log('OK: ops UI matches pipeline latest + truth chain');\n"
      },
      "line_number": 119,
      "absolute_offset": 4462,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 19,
          "end": 22
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 43,
          "end": 49
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-ui.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 21416,
          "human": "0.000021s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 4695,
        "bytes_printed": 3907,
        "matched_lines": 13,
        "matches": 21
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "M public/data/feature-registry.v1.json\n"
      },
      "line_number": 8,
      "absolute_offset": 238,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 2,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": " M public/mirrors/_health.json\n"
      },
      "line_number": 9,
      "absolute_offset": 277,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 10,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": " M public/mirrors/manifest.json\n"
      },
      "line_number": 10,
      "absolute_offset": 308,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 10,
          "end": 18
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 18,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/_health.json\n"
      },
      "line_number": 20,
      "absolute_offset": 491,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/alpha-performance.json\n"
      },
      "line_number": 21,
      "absolute_offset": 519,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/alpha-radar.json\n"
      },
      "line_number": 22,
      "absolute_offset": 557,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/analyst-stampede.json\n"
      },
      "line_number": 23,
      "absolute_offset": 589,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/arb-breadth-lite.json\n"
      },
      "line_number": 24,
      "absolute_offset": 626,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/arb-liquidity-pulse.json\n"
      },
      "line_number": 25,
      "absolute_offset": 663,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/arb-risk-regime.json\n"
      },
      "line_number": 26,
      "absolute_offset": 703,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/breakout-energy.json\n"
      },
      "line_number": 27,
      "absolute_offset": 739,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/central-bank-watch.json\n"
      },
      "line_number": 28,
      "absolute_offset": 775,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/congress-trading.json\n"
      },
      "line_number": 29,
      "absolute_offset": 814,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "rv-price-snapshot\n"
      },
      "line_number": 42,
      "absolute_offset": 1063,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "crypto-snapshot\n"
      },
      "line_number": 69,
      "absolute_offset": 1531,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "rv-price-snapshot\n"
      },
      "line_number": 87,
      "absolute_offset": 1807,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "crypto-snapshot\n"
      },
      "line_number": 113,
      "absolute_offset": 2254,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/smart-money.json\n"
      },
      "line_number": 132,
      "absolute_offset": 2555,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/alpha-performance.json\n"
      },
      "line_number": 133,
      "absolute_offset": 2587,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/sector-rotation.json\n"
      },
      "line_number": 134,
      "absolute_offset": 2625,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/export-csv.json\n"
      },
      "line_number": 135,
      "absolute_offset": 2661,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/sentiment.json\n"
      },
      "line_number": 136,
      "absolute_offset": 2692,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/breakout-energy.json\n"
      },
      "line_number": 137,
      "absolute_offset": 2722,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/news-headlines.json\n"
      },
      "line_number": 138,
      "absolute_offset": 2758,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/arb-risk-regime.json\n"
      },
      "line_number": 139,
      "absolute_offset": 2793,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/macro-rates.json\n"
      },
      "line_number": 140,
      "absolute_offset": 2829,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/market-health.json\n"
      },
      "line_number": 141,
      "absolute_offset": 2861,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/analyst-stampede.json\n"
      },
      "line_number": 142,
      "absolute_offset": 2895,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/volume-anomaly.json\n"
      },
      "line_number": 143,
      "absolute_offset": 2932,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/daily-digest.json\n"
      },
      "line_number": 144,
      "absolute_offset": 2967,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/market-cockpit.json\n"
      },
      "line_number": 145,
      "absolute_offset": 3000,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/price-snapshot.json\n"
      },
      "line_number": 146,
      "absolute_offset": 3035,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 21,
          "end": 29
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/earnings.json\n"
      },
      "line_number": 147,
      "absolute_offset": 3070,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/quotes.json\n"
      },
      "line_number": 148,
      "absolute_offset": 3099,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/arb-liquidity-pulse.json\n"
      },
      "line_number": 149,
      "absolute_offset": 3126,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/_health.json\n"
      },
      "line_number": 150,
      "absolute_offset": 3166,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/why-moved.json\n"
      },
      "line_number": 151,
      "absolute_offset": 3194,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/news.json\n"
      },
      "line_number": 152,
      "absolute_offset": 3224,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/tech-signals.json\n"
      },
      "line_number": 153,
      "absolute_offset": 3249,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/yield-curve.json\n"
      },
      "line_number": 154,
      "absolute_offset": 3282,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/hype-divergence.json\n"
      },
      "line_number": 155,
      "absolute_offset": 3314,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/news-intelligence.json\n"
      },
      "line_number": 156,
      "absolute_offset": 3350,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/top-movers.json\n"
      },
      "line_number": 157,
      "absolute_offset": 3388,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/sentiment-barometer.json\n"
      },
      "line_number": 158,
      "absolute_offset": 3419,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/manifest.json\n"
      },
      "line_number": 159,
      "absolute_offset": 3459,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 15,
          "end": 23
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/insider-cluster.json\n"
      },
      "line_number": 160,
      "absolute_offset": 3488,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/sp500-sectors.json\n"
      },
      "line_number": 161,
      "absolute_offset": 3524,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/market-regime.json\n"
      },
      "line_number": 162,
      "absolute_offset": 3558,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/earnings-reality.json\n"
      },
      "line_number": 163,
      "absolute_offset": 3592,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/earnings-calendar.json\n"
      },
      "line_number": 164,
      "absolute_offset": 3629,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/alpha-radar.json\n"
      },
      "line_number": 165,
      "absolute_offset": 3667,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/crypto-snapshot.json\n"
      },
      "line_number": 166,
      "absolute_offset": 3699,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 22,
          "end": 30
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/watchlist-local.json\n"
      },
      "line_number": 167,
      "absolute_offset": 3735,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/arb-breadth-lite.json\n"
      },
      "line_number": 168,
      "absolute_offset": 3771,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/system-health.json\n"
      },
      "line_number": 169,
      "absolute_offset": 3808,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/central-bank-watch.json\n"
      },
      "line_number": 170,
      "absolute_offset": 3842,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "public/mirrors/congress-trading.json\n"
      },
      "line_number": 171,
      "absolute_offset": 3881,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "scripts/generate-crypto-snapshot.mjs\n"
      },
      "line_number": 179,
      "absolute_offset": 4069,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 24,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "scripts/build-mirrors-manifest.mjs\n"
      },
      "line_number": 200,
      "absolute_offset": 4758,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 22,
          "end": 30
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "- [WARN] HTML features missing mirrors: count=32 sample=rv-market-cockpit, rv-yield-curve, rv-sector-rotation, rv-central-bank-watch, rv-market-health, rv-price-snapshot, rv-top-movers, rv-earnings-calendar, rv-news-headlines, rv-news-intelligence\n"
      },
      "line_number": 209,
      "absolute_offset": 4928,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 161,
          "end": 169
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "lines": {
        "text": "- [WARN] Mirrors not in HTML: count=38 sample=alpha-performance, alpha-radar, analyst-stampede, arb-breadth-lite, arb-liquidity-pulse, arb-risk-regime, breakout-energy, central-bank-watch, congress-trading, crypto-snapshot\n"
      },
      "line_number": 210,
      "absolute_offset": 5176,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 214,
          "end": 222
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/audit/REALITY.md"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 29250,
          "human": "0.000029s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 5399,
        "bytes_printed": 14583,
        "matched_lines": 61,
        "matches": 65
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": " * - v3.0 snapshot serving\n"
      },
      "line_number": 7,
      "absolute_offset": 144,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 10,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": " * Transform v3.0 snapshot to legacy format\n"
      },
      "line_number": 16,
      "absolute_offset": 346,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 18,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": " * Evaluate Proof Chain for a snapshot\n"
      },
      "line_number": 61,
      "absolute_offset": 1598,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 30,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "function evaluateProofChain(snapshot, moduleConfig) {\n"
      },
      "line_number": 63,
      "absolute_offset": 1641,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 28,
          "end": 36
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "  if (!snapshot) {\n"
      },
      "line_number": 73,
      "absolute_offset": 1883,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "  if (snapshot.schema_version === '3.0' && snapshot.metadata && Array.isArray(snapshot.data)) {\n"
      },
      "line_number": 81,
      "absolute_offset": 2007,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 43,
          "end": 51
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 78,
          "end": 86
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "  if (snapshot.metadata?.validation?.passed) {\n"
      },
      "line_number": 88,
      "absolute_offset": 2200,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "    if (snapshot.metadata?.validation?.passed) {\n"
      },
      "line_number": 99,
      "absolute_offset": 2535,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "  if (snapshot.metadata?.freshness) {\n"
      },
      "line_number": 109,
      "absolute_offset": 2724,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "    const ageMinutes = snapshot.metadata.freshness.age_minutes;\n"
      },
      "line_number": 110,
      "absolute_offset": 2762,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 23,
          "end": 31
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "    const expected = snapshot.metadata.freshness.expected_interval_minutes;\n"
      },
      "line_number": 111,
      "absolute_offset": 2826,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 21,
          "end": 29
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "    const grace = snapshot.metadata.freshness.grace_minutes;\n"
      },
      "line_number": 112,
      "absolute_offset": 2902,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 18,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "function getFailureInfo(snapshot, proofChain) {\n"
      },
      "line_number": 129,
      "absolute_offset": 3238,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 24,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "async function buildDebugResponse(moduleName, snapshot, moduleConfig, sourceInfo, url) {\n"
      },
      "line_number": 174,
      "absolute_offset": 4124,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 46,
          "end": 54
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "  const proofChain = evaluateProofChain(snapshot, moduleConfig);\n"
      },
      "line_number": 175,
      "absolute_offset": 4213,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 40,
          "end": 48
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "  const failureInfo = getFailureInfo(snapshot, proofChain);\n"
      },
      "line_number": 176,
      "absolute_offset": 4278,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 37,
          "end": 45
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "  // Try to load manifest\n"
      },
      "line_number": 198,
      "absolute_offset": 5129,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 17,
          "end": 25
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "  let manifestEntry = null;\n"
      },
      "line_number": 199,
      "absolute_offset": 5155,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "    const manifestUrl = new URL('/data/manifest.json', url.origin);\n"
      },
      "line_number": 201,
      "absolute_offset": 5191,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 10,
          "end": 18
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 39,
          "end": 47
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "    const manifestResponse = await fetch(manifestUrl.toString());\n"
      },
      "line_number": 202,
      "absolute_offset": 5259,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 10,
          "end": 18
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 41,
          "end": 49
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "    if (manifestResponse.ok) {\n"
      },
      "line_number": 203,
      "absolute_offset": 5325,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "      const manifest = await manifestResponse.json();\n"
      },
      "line_number": 204,
      "absolute_offset": 5356,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 12,
          "end": 20
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 29,
          "end": 37
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "      manifestEntry = manifest.modules?.[moduleName] || null;\n"
      },
      "line_number": 205,
      "absolute_offset": 5410,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 22,
          "end": 30
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "    schema_version: snapshot?.schema_version || null,\n"
      },
      "line_number": 212,
      "absolute_offset": 5545,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 20,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "    manifest_ref: sourceInfo.manifest_ref,\n"
      },
      "line_number": 219,
      "absolute_offset": 5788,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 4,
          "end": 12
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 29,
          "end": 37
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "    manifest: manifestEntry ? {\n"
      },
      "line_number": 251,
      "absolute_offset": 6720,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 4,
          "end": 12
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 14,
          "end": 22
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "      tier: manifestEntry.tier,\n"
      },
      "line_number": 252,
      "absolute_offset": 6752,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 12,
          "end": 20
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "      status: manifestEntry.status,\n"
      },
      "line_number": 253,
      "absolute_offset": 6784,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 14,
          "end": 22
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "      published: manifestEntry.published,\n"
      },
      "line_number": 254,
      "absolute_offset": 6820,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 17,
          "end": 25
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "      digest: manifestEntry.digest,\n"
      },
      "line_number": 255,
      "absolute_offset": 6862,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 14,
          "end": 22
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "      age_minutes: manifestEntry.freshness?.age_minutes,\n"
      },
      "line_number": 256,
      "absolute_offset": 6898,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 19,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "      preferred_source: manifestEntry.cache?.preferred_source\n"
      },
      "line_number": 257,
      "absolute_offset": 6955,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 24,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "    metadata: snapshot?.metadata || null,\n"
      },
      "line_number": 269,
      "absolute_offset": 7322,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 14,
          "end": 22
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "      snapshot: `/data/snapshots/${moduleName}/latest.json`,\n"
      },
      "line_number": 276,
      "absolute_offset": 7455,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 23,
          "end": 31
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 47,
          "end": 53
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "      manifest: '/data/manifest.json',\n"
      },
      "line_number": 278,
      "absolute_offset": 7571,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 23,
          "end": 31
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "    data_preview: snapshot?.data ? {\n"
      },
      "line_number": 283,
      "absolute_offset": 7698,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 18,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "      record_count: snapshot.metadata?.record_count || 0,\n"
      },
      "line_number": 284,
      "absolute_offset": 7735,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 20,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "      first_record: snapshot.data[0] || null\n"
      },
      "line_number": 285,
      "absolute_offset": 7793,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 20,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "      provider: snapshot?.metadata?.source || 'unknown',\n"
      },
      "line_number": 297,
      "absolute_offset": 8187,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 16,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "function getManifestRef(manifest) {\n"
      },
      "line_number": 329,
      "absolute_offset": 9051,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 24,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "  if (!manifest || typeof manifest !== \"object\") return null;\n"
      },
      "line_number": 330,
      "absolute_offset": 9087,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 7,
          "end": 15
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 26,
          "end": 34
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "  return manifest.manifest_ref || manifest.build_id || manifest.active_build_id || manifest.published_at || null;\n"
      },
      "line_number": 331,
      "absolute_offset": 9149,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 9,
          "end": 17
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 18,
          "end": 26
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 34,
          "end": 42
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 55,
          "end": 63
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 83,
          "end": 91
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "function getBuildId(manifest) {\n"
      },
      "line_number": 334,
      "absolute_offset": 9266,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 20,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "  if (!manifest || typeof manifest !== \"object\") return null;\n"
      },
      "line_number": 335,
      "absolute_offset": 9298,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 7,
          "end": 15
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 26,
          "end": 34
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "  return manifest.build_id || manifest.active_build_id || null;\n"
      },
      "line_number": 336,
      "absolute_offset": 9360,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 9,
          "end": 17
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 30,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "  let manifest = null;\n"
      },
      "line_number": 352,
      "absolute_offset": 10050,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "  let manifestEntry = null;\n"
      },
      "line_number": 353,
      "absolute_offset": 10073,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "  let manifestRef = null;\n"
      },
      "line_number": 354,
      "absolute_offset": 10101,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "    const manifestUrl = new URL('/data/manifest.json', url.origin);\n"
      },
      "line_number": 357,
      "absolute_offset": 10157,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 10,
          "end": 18
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 39,
          "end": 47
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "    const manifestResponse = await fetch(manifestUrl.toString());\n"
      },
      "line_number": 358,
      "absolute_offset": 10225,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 10,
          "end": 18
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 41,
          "end": 49
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "    if (manifestResponse.ok) {\n"
      },
      "line_number": 359,
      "absolute_offset": 10291,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "      manifest = await manifestResponse.json();\n"
      },
      "line_number": 360,
      "absolute_offset": 10322,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 23,
          "end": 31
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "      manifestEntry = manifest?.modules?.[moduleName] || null;\n"
      },
      "line_number": 361,
      "absolute_offset": 10370,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 22,
          "end": 30
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "      manifestRef = getManifestRef(manifest);\n"
      },
      "line_number": 362,
      "absolute_offset": 10433,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 35,
          "end": 43
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "      buildId = getBuildId(manifest);\n"
      },
      "line_number": 363,
      "absolute_offset": 10479,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 27,
          "end": 35
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "  const kvEnabled = manifestEntry?.cache?.kv_enabled === true;\n"
      },
      "line_number": 369,
      "absolute_offset": 10560,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 20,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "      const key = `/data/snapshots/${moduleName}/latest.json`;\n"
      },
      "line_number": 397,
      "absolute_offset": 11462,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 25,
          "end": 33
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 49,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "    { path: `/data/snapshots/${moduleName}/latest.json`, type: \"v3_directory\" },\n"
      },
      "line_number": 410,
      "absolute_offset": 11798,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 19,
          "end": 27
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 43,
          "end": 49
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "    { path: `/data/snapshots/${moduleName}.json`, type: \"v3_flat\" },\n"
      },
      "line_number": 411,
      "absolute_offset": 11879,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 19,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "  let snapshot = null;\n"
      },
      "line_number": 415,
      "absolute_offset": 12011,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "    manifest_ref: manifestRef,\n"
      },
      "line_number": 426,
      "absolute_offset": 12252,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 4,
          "end": 12
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 18,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "    snapshot = kvPayload;\n"
      },
      "line_number": 434,
      "absolute_offset": 12463,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 4,
          "end": 12
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "  // KV MISS/ERROR  serve asset snapshot\n"
      },
      "line_number": 443,
      "absolute_offset": 12678,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 35,
          "end": 43
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "  if (!snapshot) {\n"
      },
      "line_number": 445,
      "absolute_offset": 12757,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "          snapshot = JSON.parse(text);\n"
      },
      "line_number": 455,
      "absolute_offset": 13096,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 10,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "            manifest_ref: manifestRef,\n"
      },
      "line_number": 466,
      "absolute_offset": 13417,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 12,
          "end": 20
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 26,
          "end": 34
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "    if (snapshot && !sourceInfo.asset_latency_ms) {\n"
      },
      "line_number": 478,
      "absolute_offset": 13754,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "    const debugResponse = await buildDebugResponse(moduleName, snapshot, moduleConfig, sourceInfo, url);\n"
      },
      "line_number": 485,
      "absolute_offset": 13913,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 63,
          "end": 71
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "  if (!snapshot) {\n"
      },
      "line_number": 497,
      "absolute_offset": 14317,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "  const isV3 = snapshot.schema_version === \"3.0\" || snapshot.schemaVersion === \"v3\";\n"
      },
      "line_number": 535,
      "absolute_offset": 15345,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 15,
          "end": 23
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 52,
          "end": 60
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "    snapshot = transformV3ToLegacy(snapshot);\n"
      },
      "line_number": 540,
      "absolute_offset": 15596,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 4,
          "end": 12
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 35,
          "end": 43
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "    if (!snapshot.metadata) snapshot.metadata = {};\n"
      },
      "line_number": 543,
      "absolute_offset": 15687,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 28,
          "end": 36
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "    if (!snapshot.metadata.served_from) snapshot.metadata.served_from = sourceInfo.served_from;\n"
      },
      "line_number": 544,
      "absolute_offset": 15739,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 40,
          "end": 48
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "  snapshot = applyModuleTransformations(moduleName, snapshot);\n"
      },
      "line_number": 548,
      "absolute_offset": 15883,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 2,
          "end": 10
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 52,
          "end": 60
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "  if (snapshot.ok === undefined || snapshot.ok === null) {\n"
      },
      "line_number": 551,
      "absolute_offset": 15968,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 35,
          "end": 43
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "    snapshot.ok = true;\n"
      },
      "line_number": 552,
      "absolute_offset": 16027,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 4,
          "end": 12
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "lines": {
        "text": "  return new Response(JSON.stringify(snapshot), {\n"
      },
      "line_number": 555,
      "absolute_offset": 16056,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 37,
          "end": 45
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 45209,
          "human": "0.000045s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 16354,
        "bytes_printed": 21638,
        "matched_lines": 77,
        "matches": 110
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/runners/package3/43-master-market-dashboard.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/runners/package3/43-master-market-dashboard.js"
      },
      "lines": {
        "text": "    const snapshot = getSnapshot(ctx.cache, blockId);\n"
      },
      "line_number": 53,
      "absolute_offset": 1214,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 10,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/runners/package3/43-master-market-dashboard.js"
      },
      "lines": {
        "text": "    if (!snapshot) continue;\n"
      },
      "line_number": 54,
      "absolute_offset": 1268,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/runners/package3/43-master-market-dashboard.js"
      },
      "lines": {
        "text": "    const status = snapshot?.meta?.status || \"ERROR\";\n"
      },
      "line_number": 55,
      "absolute_offset": 1297,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 19,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/runners/package3/43-master-market-dashboard.js"
      },
      "lines": {
        "text": "    const reason = snapshot?.meta?.reason || \"NO_DATA\";\n"
      },
      "line_number": 56,
      "absolute_offset": 1351,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 19,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/runners/package3/43-master-market-dashboard.js"
      },
      "lines": {
        "text": "    dataAt = maxDate(dataAt, snapshot?.dataAt);\n"
      },
      "line_number": 58,
      "absolute_offset": 1452,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 29,
          "end": 37
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/runners/package3/43-master-market-dashboard.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 5541,
          "human": "0.000006s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 1601,
        "bytes_printed": 1468,
        "matched_lines": 5,
        "matches": 5
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/_lib/usage.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/_lib/usage.js"
      },
      "lines": {
        "text": "  function snapshot(day) {\n"
      },
      "line_number": 89,
      "absolute_offset": 2417,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 11,
          "end": 19
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/_lib/usage.js"
      },
      "lines": {
        "text": "  return { record, recordError, getProvider, addNote, snapshot };\n"
      },
      "line_number": 110,
      "absolute_offset": 2859,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 54,
          "end": 62
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/_lib/usage.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 4208,
          "human": "0.000004s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 4585,
        "bytes_printed": 544,
        "matched_lines": 2,
        "matches": 2
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/contract-smoke.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/contract-smoke.js"
      },
      "lines": {
        "text": "  const snapshotPath = path.join(root, \"public\", \"data\", \"snapshots\", \"tech-signals.json\");\n"
      },
      "line_number": 81,
      "absolute_offset": 2624,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 58,
          "end": 66
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/contract-smoke.js"
      },
      "lines": {
        "text": "  const snapshotRaw = JSON.parse(await readFile(snapshotPath, \"utf8\"));\n"
      },
      "line_number": 83,
      "absolute_offset": 2784,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 48,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/contract-smoke.js"
      },
      "lines": {
        "text": "  const snapshotData = snapshotRaw?.data || {};\n"
      },
      "line_number": 85,
      "absolute_offset": 2900,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 23,
          "end": 31
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/contract-smoke.js"
      },
      "lines": {
        "text": "  if (!hasArray(snapshotData.signals) && !hasArray(snapshotData.items) && !hasArray(snapshotData.rows)) {\n"
      },
      "line_number": 89,
      "absolute_offset": 3103,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 16,
          "end": 24
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 51,
          "end": 59
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 84,
          "end": 92
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/contract-smoke.js"
      },
      "lines": {
        "text": "    throw new Error(\"Tech Signals snapshot missing signals/items/rows arrays\");\n"
      },
      "line_number": 90,
      "absolute_offset": 3209,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 34,
          "end": 42
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/contract-smoke.js"
      },
      "lines": {
        "text": "  const healthLatestPath = path.join(root, \"public\", \"data\", \"snapshots\", \"health\", \"latest.json\");\n"
      },
      "line_number": 95,
      "absolute_offset": 3342,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 62,
          "end": 70
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 85,
          "end": 91
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/contract-smoke.js"
      },
      "lines": {
        "text": "    throw new Error(\"Health latest snapshot missing at public/data/snapshots/health/latest.json\");\n"
      },
      "line_number": 97,
      "absolute_offset": 3484,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 28,
          "end": 34
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 35,
          "end": 43
        },
        {
          "match": {
            "text": "public/data/"
          },
          "start": 55,
          "end": 67
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 67,
          "end": 75
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 84,
          "end": 90
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/contract-smoke.js"
      },
      "lines": {
        "text": "    throw new Error(`Health latest snapshot schema_version must be 3.0, got: ${payload?.schema_version}`);\n"
      },
      "line_number": 101,
      "absolute_offset": 3703,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 28,
          "end": 34
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 35,
          "end": 43
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/contract-smoke.js"
      },
      "lines": {
        "text": "    throw new Error(\"Health latest snapshot missing metadata object\");\n"
      },
      "line_number": 104,
      "absolute_offset": 3881,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 28,
          "end": 34
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 35,
          "end": 43
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/contract-smoke.js"
      },
      "lines": {
        "text": "  // If mirror has structural arrays, snapshot must also have them (prevents legacy UI regressions).\n"
      },
      "line_number": 130,
      "absolute_offset": 4580,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 38,
          "end": 46
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/contract-smoke.js"
      },
      "lines": {
        "text": "  const snapshotPath = path.join(root, \"public\", \"data\", \"snapshots\", \"tech-signals.json\");\n"
      },
      "line_number": 132,
      "absolute_offset": 4761,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 58,
          "end": 66
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/contract-smoke.js"
      },
      "lines": {
        "text": "  const alphaSnapPath = path.join(root, \"public\", \"data\", \"snapshots\", \"alpha-radar.json\");\n"
      },
      "line_number": 134,
      "absolute_offset": 4937,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 59,
          "end": 67
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/contract-smoke.js"
      },
      "lines": {
        "text": "  const techSnap = JSON.parse(fs.readFileSync(snapshotPath, \"utf8\"));\n"
      },
      "line_number": 137,
      "absolute_offset": 5100,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 46,
          "end": 54
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/contract-smoke.js"
      },
      "lines": {
        "text": "    fail(\"SNAPSHOT>=MIRROR guard: tech-signals snapshot missing rows/items while mirror has rows[]\");\n"
      },
      "line_number": 148,
      "absolute_offset": 5942,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 47,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/contract-smoke.js"
      },
      "lines": {
        "text": "    fail(\"SNAPSHOT>=MIRROR guard: tech-signals snapshot missing signals/items while mirror has signals[]\");\n"
      },
      "line_number": 151,
      "absolute_offset": 6114,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 47,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/contract-smoke.js"
      },
      "lines": {
        "text": "      fail(\"SNAPSHOT>=MIRROR guard: alpha-radar snapshot missing picks.top[] while mirror has picks.top[]\");\n"
      },
      "line_number": 190,
      "absolute_offset": 7826,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 48,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/contract-smoke.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 14209,
          "human": "0.000014s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 8115,
        "bytes_printed": 5354,
        "matched_lines": 16,
        "matches": 29
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_count_provenance.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_count_provenance.mjs"
      },
      "lines": {
        "text": "  const summaryUrl = `${base}/api/mission-control/summary`;\n"
      },
      "line_number": 30,
      "absolute_offset": 690,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 34,
          "end": 49
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_count_provenance.mjs"
      },
      "lines": {
        "text": "  const latestUrl = `${base}/data/pipeline/nasdaq100.latest.json`;\n"
      },
      "line_number": 31,
      "absolute_offset": 750,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 53,
          "end": 59
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_count_provenance.mjs"
      },
      "lines": {
        "text": "  const [summary, latest] = await Promise.all([\n"
      },
      "line_number": 33,
      "absolute_offset": 818,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 18,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_count_provenance.mjs"
      },
      "lines": {
        "text": "    fetchJson(summaryUrl, 'mission-control-summary'),\n"
      },
      "line_number": 34,
      "absolute_offset": 866,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 27,
          "end": 42
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_count_provenance.mjs"
      },
      "lines": {
        "text": "    fetchJson(latestUrl, 'pipeline-latest')\n"
      },
      "line_number": 35,
      "absolute_offset": 920,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 14,
          "end": 20
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 35,
          "end": 41
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_count_provenance.mjs"
      },
      "lines": {
        "text": "  const latestCounts = latest?.counts || {};\n"
      },
      "line_number": 38,
      "absolute_offset": 971,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 23,
          "end": 29
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_count_provenance.mjs"
      },
      "lines": {
        "text": "  const summaryLatest = summary?.data?.pipeline?.latest?.counts || {};\n"
      },
      "line_number": 40,
      "absolute_offset": 1079,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 49,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_count_provenance.mjs"
      },
      "lines": {
        "text": "    if (latestCounts[key] == null) continue;\n"
      },
      "line_number": 44,
      "absolute_offset": 1307,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_count_provenance.mjs"
      },
      "lines": {
        "text": "      fail(`summary.data.pipeline.latest.counts.${key} missing`, { base, latestCounts, summaryLatest });\n"
      },
      "line_number": 46,
      "absolute_offset": 1390,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 34,
          "end": 40
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 73,
          "end": 79
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_count_provenance.mjs"
      },
      "lines": {
        "text": "    const latestVal = toNumberOrNull(summaryLatest[key]);\n"
      },
      "line_number": 51,
      "absolute_offset": 1554,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 10,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_count_provenance.mjs"
      },
      "lines": {
        "text": "    if (latestVal == null) continue;\n"
      },
      "line_number": 52,
      "absolute_offset": 1612,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_count_provenance.mjs"
      },
      "lines": {
        "text": "        latestCounts,\n"
      },
      "line_number": 58,
      "absolute_offset": 1813,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_count_provenance.mjs"
      },
      "lines": {
        "text": "    if (summaryVal !== latestVal) {\n"
      },
      "line_number": 64,
      "absolute_offset": 1918,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 23,
          "end": 29
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_count_provenance.mjs"
      },
      "lines": {
        "text": "      fail(`summary.data.pipeline.counts.${key} mismatch: ${summaryVal} vs ${latestVal}`, {\n"
      },
      "line_number": 65,
      "absolute_offset": 1954,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 77,
          "end": 83
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_count_provenance.mjs"
      },
      "lines": {
        "text": "        latestCounts,\n"
      },
      "line_number": 67,
      "absolute_offset": 2060,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_count_provenance.mjs"
      },
      "lines": {
        "text": "    if (countSources?.[key]?.used !== 'latest') {\n"
      },
      "line_number": 73,
      "absolute_offset": 2165,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 39,
          "end": 45
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_count_provenance.mjs"
      },
      "lines": {
        "text": "      fail(`countSources.${key}.used is not \"latest\"`, {\n"
      },
      "line_number": 74,
      "absolute_offset": 2215,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 45,
          "end": 51
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_count_provenance.mjs"
      },
      "lines": {
        "text": "        latestCounts,\n"
      },
      "line_number": 76,
      "absolute_offset": 2286,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_count_provenance.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 27792,
          "human": "0.000028s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 2729,
        "bytes_printed": 5019,
        "matched_lines": 18,
        "matches": 22
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "functions/api/_shared/contracts.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/contracts.js"
      },
      "lines": {
        "text": "    errors.push('snapshot: not an object');\n"
      },
      "line_number": 116,
      "absolute_offset": 3882,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 17,
          "end": 25
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "functions/api/_shared/contracts.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 8083,
          "human": "0.000008s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 5155,
        "bytes_printed": 329,
        "matched_lines": 1,
        "matches": 1
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "functions/api/metrics.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/metrics.js"
      },
      "lines": {
        "text": "        tooltip: \"Stub metric (metrics snapshot missing)\"\n"
      },
      "line_number": 45,
      "absolute_offset": 1201,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 39,
          "end": 47
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "functions/api/metrics.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 6875,
          "human": "0.000007s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 2519,
        "bytes_printed": 324,
        "matched_lines": 1,
        "matches": 1
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "functions/api/_shared/stooq.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/stooq.js"
      },
      "lines": {
        "text": "export function pctChange(latest, previous) {\n"
      },
      "line_number": 17,
      "absolute_offset": 446,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 26,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/stooq.js"
      },
      "lines": {
        "text": "  if (!Number.isFinite(latest) || !Number.isFinite(previous) || previous === 0) return null;\n"
      },
      "line_number": 18,
      "absolute_offset": 492,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 23,
          "end": 29
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/stooq.js"
      },
      "lines": {
        "text": "  return ((latest / previous - 1) * 100);\n"
      },
      "line_number": 19,
      "absolute_offset": 585,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 11,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/stooq.js"
      },
      "lines": {
        "text": "  const latest = lastValue(values, 0);\n"
      },
      "line_number": 31,
      "absolute_offset": 919,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/stooq.js"
      },
      "lines": {
        "text": "  return pctChange(latest, previous);\n"
      },
      "line_number": 33,
      "absolute_offset": 1004,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 19,
          "end": 25
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/stooq.js"
      },
      "lines": {
        "text": "  const latestClose = closes[closes.length - 1];\n"
      },
      "line_number": 52,
      "absolute_offset": 1655,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/stooq.js"
      },
      "lines": {
        "text": "  if (!Number.isFinite(latestClose) || latestClose === 0) return null;\n"
      },
      "line_number": 53,
      "absolute_offset": 1704,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 23,
          "end": 29
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 39,
          "end": 45
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/stooq.js"
      },
      "lines": {
        "text": "  return (avgTr / latestClose) * 100;\n"
      },
      "line_number": 54,
      "absolute_offset": 1775,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 18,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "functions/api/_shared/stooq.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 7333,
          "human": "0.000007s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 2039,
        "bytes_printed": 2125,
        "matched_lines": 8,
        "matches": 9
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "lines": {
        "text": "const SUMMARY_SCHEMA = 'ops.summary.v1';\n"
      },
      "line_number": 5,
      "absolute_offset": 99,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 24,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "lines": {
        "text": "function buildProviders(opsDaily) {\n"
      },
      "line_number": 53,
      "absolute_offset": 1554,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 24,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "lines": {
        "text": "  const providers = Array.isArray(opsDaily?.baseline?.providers) ? opsDaily.baseline.providers : [];\n"
      },
      "line_number": 54,
      "absolute_offset": 1590,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 34,
          "end": 37
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 67,
          "end": 70
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "lines": {
        "text": "function buildCosts(opsDaily) {\n"
      },
      "line_number": 76,
      "absolute_offset": 2258,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 20,
          "end": 23
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "lines": {
        "text": "  const cloudflare = opsDaily?.baseline?.cloudflare || null;\n"
      },
      "line_number": 77,
      "absolute_offset": 2290,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 21,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "lines": {
        "text": "function buildSafety(opsDaily) {\n"
      },
      "line_number": 86,
      "absolute_offset": 2509,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 21,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "lines": {
        "text": "  const safety = opsDaily?.baseline?.safety || null;\n"
      },
      "line_number": 87,
      "absolute_offset": 2542,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 17,
          "end": 20
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "lines": {
        "text": "  const pipelineLatest = await readJson(`public/data/pipeline/${UNIVERSE_ID}.latest.json`);\n"
      },
      "line_number": 104,
      "absolute_offset": 3013,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 41,
          "end": 53
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 77,
          "end": 83
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "lines": {
        "text": "    throw new Error(`PIPELINE_LATEST_MISSING: public/data/pipeline/${UNIVERSE_ID}.latest.json`);\n"
      },
      "line_number": 106,
      "absolute_offset": 3130,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 46,
          "end": 58
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 82,
          "end": 88
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "lines": {
        "text": "  const opsDaily = await readJson('public/data/ops-daily.json');\n"
      },
      "line_number": 109,
      "absolute_offset": 3232,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 8,
          "end": 11
        },
        {
          "match": {
            "text": "public/data/"
          },
          "start": 35,
          "end": 47
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 47,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "lines": {
        "text": "  const eodManifest = await readJson('public/data/eod/manifest.latest.json');\n"
      },
      "line_number": 110,
      "absolute_offset": 3297,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 38,
          "end": 50
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 54,
          "end": 62
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 63,
          "end": 69
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "lines": {
        "text": "  const manifestRef = pipelineLatest?.refs?.eod_manifest_ref || '/data/eod/manifest.latest.json';\n"
      },
      "line_number": 120,
      "absolute_offset": 3610,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 48,
          "end": 56
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 75,
          "end": 83
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 84,
          "end": 90
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "lines": {
        "text": "    return '/data/eod/batches/eod.latest.000.json';\n"
      },
      "line_number": 126,
      "absolute_offset": 4007,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 34,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "lines": {
        "text": "      pipeline: `/data/pipeline/${UNIVERSE_ID}.latest.json`,\n"
      },
      "line_number": 140,
      "absolute_offset": 4413,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 47,
          "end": 53
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "lines": {
        "text": "      manifest: manifestRef,\n"
      },
      "line_number": 141,
      "absolute_offset": 4474,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 16,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "lines": {
        "text": "  const freshness = opsDaily?.baseline?.freshness || {};\n"
      },
      "line_number": 148,
      "absolute_offset": 4597,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 20,
          "end": 23
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "lines": {
        "text": "    asof: opsDaily?.generated_at || opsDaily?.asOf || generatedAt,\n"
      },
      "line_number": 155,
      "absolute_offset": 4969,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 10,
          "end": 13
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 36,
          "end": 39
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "lines": {
        "text": "    providers: buildProviders(opsDaily),\n"
      },
      "line_number": 164,
      "absolute_offset": 5249,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 30,
          "end": 33
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "lines": {
        "text": "    ops_daily: {\n"
      },
      "line_number": 165,
      "absolute_offset": 5290,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 4,
          "end": 7
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "lines": {
        "text": "      generated_at: opsDaily?.generated_at || opsDaily?.asOf || null,\n"
      },
      "line_number": 166,
      "absolute_offset": 5307,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 20,
          "end": 23
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 46,
          "end": 49
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "lines": {
        "text": "      ref: '/data/ops-daily.json'\n"
      },
      "line_number": 167,
      "absolute_offset": 5377,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 18,
          "end": 21
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "lines": {
        "text": "    costs: buildCosts(opsDaily),\n"
      },
      "line_number": 169,
      "absolute_offset": 5418,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 22,
          "end": 25
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "lines": {
        "text": "    safety: buildSafety(opsDaily)\n"
      },
      "line_number": 170,
      "absolute_offset": 5451,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 24,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "lines": {
        "text": "  await atomicWriteJson('public/data/ops/summary.latest.json', summary);\n"
      },
      "line_number": 173,
      "absolute_offset": 5491,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 25,
          "end": 37
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 37,
          "end": 40
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 49,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "lines": {
        "text": "  process.stdout.write(`OK: ops summary generated (status=${overallStatus})\\n`);\n"
      },
      "line_number": 174,
      "absolute_offset": 5564,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 28,
          "end": 31
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/ops/build-mission-control-summary.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 36708,
          "human": "0.000037s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 5773,
        "bytes_printed": 7583,
        "matched_lines": 25,
        "matches": 40
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/audit/build-artifacts.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/build-artifacts.mjs"
      },
      "lines": {
        "text": "const MANIFEST_PATH = path.join(OUTPUT_DIR, \"manifest.json\");\n"
      },
      "line_number": 9,
      "absolute_offset": 305,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 45,
          "end": 53
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/build-artifacts.mjs"
      },
      "lines": {
        "text": "const manifestBlocks = [];\n"
      },
      "line_number": 53,
      "absolute_offset": 1424,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/build-artifacts.mjs"
      },
      "lines": {
        "text": "  const mirrorPath = feature.mirrorPath || `mirrors/${feature.id}.json`;\n"
      },
      "line_number": 57,
      "absolute_offset": 1520,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 44,
          "end": 52
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/build-artifacts.mjs"
      },
      "lines": {
        "text": "  manifestBlocks.push({\n"
      },
      "line_number": 108,
      "absolute_offset": 3137,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 2,
          "end": 10
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/build-artifacts.mjs"
      },
      "lines": {
        "text": "    file: fileRel.replace(/^mirrors\\//, \"mirrors/\"),\n"
      },
      "line_number": 110,
      "absolute_offset": 3181,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 41,
          "end": 49
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/build-artifacts.mjs"
      },
      "lines": {
        "text": "const manifest = {\n"
      },
      "line_number": 117,
      "absolute_offset": 3332,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/build-artifacts.mjs"
      },
      "lines": {
        "text": "  blocks: manifestBlocks.sort((a, b) => String(a.id).localeCompare(String(b.id)))\n"
      },
      "line_number": 121,
      "absolute_offset": 3408,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 10,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/build-artifacts.mjs"
      },
      "lines": {
        "text": "const manifestText = JSON.stringify(manifest, null, 2);\n"
      },
      "line_number": 136,
      "absolute_offset": 3734,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 36,
          "end": 44
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/build-artifacts.mjs"
      },
      "lines": {
        "text": "if (shouldWrite(MANIFEST_PATH, manifestText) || shouldWrite(HEALTH_PATH, healthText)) {\n"
      },
      "line_number": 139,
      "absolute_offset": 3843,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 31,
          "end": 39
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit/build-artifacts.mjs"
      },
      "lines": {
        "text": "  fs.writeFileSync(tmpManifest, manifestText);\n"
      },
      "line_number": 143,
      "absolute_offset": 4085,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 32,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/audit/build-artifacts.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 17291,
          "human": "0.000017s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 4370,
        "bytes_printed": 2705,
        "matched_lines": 10,
        "matches": 11
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/runners/package3/_shared.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/runners/package3/_shared.js"
      },
      "lines": {
        "text": "const SNAPSHOT_DIR = path.join(\"public\", \"data\", \"snapshots\");\n"
      },
      "line_number": 4,
      "absolute_offset": 57,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 50,
          "end": 58
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/runners/package3/_shared.js"
      },
      "lines": {
        "text": "export function isPlaceholderSnapshot(snapshot) {\n"
      },
      "line_number": 14,
      "absolute_offset": 379,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 38,
          "end": 46
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/runners/package3/_shared.js"
      },
      "lines": {
        "text": "  if (!snapshot || typeof snapshot !== \"object\") return true;\n"
      },
      "line_number": 15,
      "absolute_offset": 429,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 7,
          "end": 15
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 26,
          "end": 34
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/runners/package3/_shared.js"
      },
      "lines": {
        "text": "  const reason = snapshot?.meta?.reason || \"\";\n"
      },
      "line_number": 16,
      "absolute_offset": 491,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 17,
          "end": 25
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/runners/package3/_shared.js"
      },
      "lines": {
        "text": "  const dataAt = snapshot?.dataAt || \"\";\n"
      },
      "line_number": 17,
      "absolute_offset": 538,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 17,
          "end": 25
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/runners/package3/_shared.js"
      },
      "lines": {
        "text": "  if (cache?.snapshots && cache.snapshots[blockId]) return cache.snapshots[blockId];\n"
      },
      "line_number": 24,
      "absolute_offset": 750,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 13,
          "end": 21
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 32,
          "end": 40
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 65,
          "end": 73
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/runners/package3/_shared.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 5750,
          "human": "0.000006s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 1241,
        "bytes_printed": 1817,
        "matched_lines": 6,
        "matches": 9
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "functions/api/_shared/quality.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/quality.js"
      },
      "lines": {
        "text": "  if (data && data.latest_bar) return [data.latest_bar];\n"
      },
      "line_number": 17,
      "absolute_offset": 441,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 19,
          "end": 25
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 44,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/quality.js"
      },
      "lines": {
        "text": "    const latest = bars[bars.length - 1];\n"
      },
      "line_number": 66,
      "absolute_offset": 2160,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 10,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/quality.js"
      },
      "lines": {
        "text": "    const latestClose = toNumber(latest?.close);\n"
      },
      "line_number": 68,
      "absolute_offset": 2247,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 10,
          "end": 16
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 33,
          "end": 39
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/quality.js"
      },
      "lines": {
        "text": "    if (Number.isFinite(prevClose) && prevClose > 0 && Number.isFinite(latestClose)) {\n"
      },
      "line_number": 69,
      "absolute_offset": 2296,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 71,
          "end": 77
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/quality.js"
      },
      "lines": {
        "text": "      const changePct = Math.abs((latestClose - prevClose) / prevClose) * 100;\n"
      },
      "line_number": 70,
      "absolute_offset": 2383,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 34,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/quality.js"
      },
      "lines": {
        "text": "  const latest = bars[bars.length - 1];\n"
      },
      "line_number": 78,
      "absolute_offset": 2626,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/quality.js"
      },
      "lines": {
        "text": "  const latestVolume = toNumber(latest?.volume);\n"
      },
      "line_number": 79,
      "absolute_offset": 2666,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 32,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/quality.js"
      },
      "lines": {
        "text": "  if (latest && latestVolume === 0) {\n"
      },
      "line_number": 80,
      "absolute_offset": 2715,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 6,
          "end": 12
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 16,
          "end": 22
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "functions/api/_shared/quality.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 7709,
          "human": "0.000008s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 3135,
        "bytes_printed": 2314,
        "matched_lines": 8,
        "matches": 12
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/ops/validate-ops-summary.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-ops-summary.mjs"
      },
      "lines": {
        "text": "const SUMMARY_SCHEMA = 'ops.summary.v1';\n"
      },
      "line_number": 5,
      "absolute_offset": 99,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 24,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-ops-summary.mjs"
      },
      "lines": {
        "text": "  const summary = await readJson('public/data/ops/summary.latest.json');\n"
      },
      "line_number": 37,
      "absolute_offset": 929,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 34,
          "end": 46
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 46,
          "end": 49
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 58,
          "end": 64
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-ops-summary.mjs"
      },
      "lines": {
        "text": "  const pipeline = await readJson(`public/data/pipeline/${UNIVERSE_ID}.latest.json`);\n"
      },
      "line_number": 38,
      "absolute_offset": 1002,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 35,
          "end": 47
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 71,
          "end": 77
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-ops-summary.mjs"
      },
      "lines": {
        "text": "  process.stdout.write('OK: ops summary matches pipeline.latest\\n');\n"
      },
      "line_number": 77,
      "absolute_offset": 2436,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 28,
          "end": 31
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 57,
          "end": 63
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/ops/validate-ops-summary.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 6083,
          "human": "0.000006s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 2633,
        "bytes_printed": 1362,
        "matched_lines": 4,
        "matches": 8
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_contracts.sh"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_contracts.sh"
      },
      "lines": {
        "text": "  check_endpoint \"$base\" \"$label\" \"/data/manifest.json\" \"manifest\"\n"
      },
      "line_number": 58,
      "absolute_offset": 1203,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 41,
          "end": 49
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 57,
          "end": 65
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_contracts.sh"
      },
      "lines": {
        "text": "  check_endpoint \"$base\" \"$label\" \"/api/mission-control/summary\" \"mission_control\"\n"
      },
      "line_number": 59,
      "absolute_offset": 1270,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 40,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_contracts.sh"
      },
      "lines": {
        "text": "  check_endpoint \"$base\" \"$label\" \"/data/snapshots/render-plan/latest.json\" \"render_plan_snapshot\"\n"
      },
      "line_number": 63,
      "absolute_offset": 1600,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 41,
          "end": 49
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 63,
          "end": 69
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 89,
          "end": 97
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_contracts.sh"
      },
      "lines": {
        "text": "if OPS_BASE=\"${PROD_BASE%/}\" node scripts/ops/rv_verify_truth_summary.mjs >/dev/null 2>&1; then\n"
      },
      "line_number": 69,
      "absolute_offset": 1833,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 42,
          "end": 45
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_contracts.sh"
      },
      "lines": {
        "text": "  pass \"PROD /api/mission-control/summary truth summary\"\n"
      },
      "line_number": 70,
      "absolute_offset": 1929,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 18,
          "end": 33
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_contracts.sh"
      },
      "lines": {
        "text": "  fail \"PROD /api/mission-control/summary truth summary\"\n"
      },
      "line_number": 72,
      "absolute_offset": 1991,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 18,
          "end": 33
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_contracts.sh"
      },
      "lines": {
        "text": "  if OPS_BASE=\"${PREVIEW_BASE%/}\" node scripts/ops/rv_verify_truth_summary.mjs >/dev/null 2>&1; then\n"
      },
      "line_number": 77,
      "absolute_offset": 2123,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 47,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_contracts.sh"
      },
      "lines": {
        "text": "    pass \"PREVIEW /api/mission-control/summary truth summary\"\n"
      },
      "line_number": 78,
      "absolute_offset": 2224,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 23,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_contracts.sh"
      },
      "lines": {
        "text": "    fail \"PREVIEW /api/mission-control/summary truth summary\"\n"
      },
      "line_number": 80,
      "absolute_offset": 2293,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 23,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_contracts.sh"
      },
      "lines": {
        "text": "  prod_manifest=$(fetch_json \"${PROD_BASE%/}/data/manifest.json\") || prod_manifest='{}'\n"
      },
      "line_number": 89,
      "absolute_offset": 2499,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 7,
          "end": 15
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 50,
          "end": 58
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 74,
          "end": 82
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_contracts.sh"
      },
      "lines": {
        "text": "  prev_manifest=$(fetch_json \"${PREVIEW_BASE%/}/data/manifest.json\") || prev_manifest='{}'\n"
      },
      "line_number": 90,
      "absolute_offset": 2587,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 7,
          "end": 15
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 53,
          "end": 61
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 77,
          "end": 85
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_contracts.sh"
      },
      "lines": {
        "text": "  prod_build_id=$(echo \"$prod_manifest\" | jq -r '.build_id // \"\"')\n"
      },
      "line_number": 91,
      "absolute_offset": 2678,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 30,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_contracts.sh"
      },
      "lines": {
        "text": "  prev_build_id=$(echo \"$prev_manifest\" | jq -r '.build_id // \"\"')\n"
      },
      "line_number": 92,
      "absolute_offset": 2745,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 30,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_contracts.sh"
      },
      "lines": {
        "text": "  prod_manifest_ref=$(echo \"$prod_manifest\" | jq -r '.manifest_ref // \"\"')\n"
      },
      "line_number": 93,
      "absolute_offset": 2812,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 7,
          "end": 15
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 34,
          "end": 42
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 54,
          "end": 62
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_contracts.sh"
      },
      "lines": {
        "text": "  prev_manifest_ref=$(echo \"$prev_manifest\" | jq -r '.manifest_ref // \"\"')\n"
      },
      "line_number": 94,
      "absolute_offset": 2887,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 7,
          "end": 15
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 34,
          "end": 42
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 54,
          "end": 62
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_contracts.sh"
      },
      "lines": {
        "text": "  echo \"manifest.build_id: prod=${prod_build_id:-\"\"} preview=${prev_build_id:-\"\"}\"\n"
      },
      "line_number": 96,
      "absolute_offset": 2963,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_contracts.sh"
      },
      "lines": {
        "text": "  echo \"manifest.manifest_ref: prod=${prod_manifest_ref:-\"\"} preview=${prev_manifest_ref:-\"\"}\"\n"
      },
      "line_number": 97,
      "absolute_offset": 3046,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 17,
          "end": 25
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 43,
          "end": 51
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 76,
          "end": 84
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_contracts.sh"
      },
      "lines": {
        "text": "  prod_mc=$(fetch_json \"${PROD_BASE%/}/api/mission-control/summary\" || echo '{}')\n"
      },
      "line_number": 99,
      "absolute_offset": 3142,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 43,
          "end": 58
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_contracts.sh"
      },
      "lines": {
        "text": "  prev_mc=$(fetch_json \"${PREVIEW_BASE%/}/api/mission-control/summary\" || echo '{}')\n"
      },
      "line_number": 100,
      "absolute_offset": 3224,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 46,
          "end": 61
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_contracts.sh"
      },
      "lines": {
        "text": "  prod_truth_chain=$(echo \"$prod_mc\" | jq -r '(.data.opsBaseline.truthChain|type) // \"missing\"')\n"
      },
      "line_number": 102,
      "absolute_offset": 3310,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 53,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_contracts.sh"
      },
      "lines": {
        "text": "  prev_truth_chain=$(echo \"$prev_mc\" | jq -r '(.data.opsBaseline.truthChain|type) // \"missing\"')\n"
      },
      "line_number": 103,
      "absolute_offset": 3407,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 53,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_contracts.sh"
      },
      "lines": {
        "text": "  prod_sched=$(echo \"$prod_mc\" | jq -r '(.data.opsBaseline.runtime.schedulerExpected|type) // \"missing\"')\n"
      },
      "line_number": 104,
      "absolute_offset": 3504,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 47,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_contracts.sh"
      },
      "lines": {
        "text": "  prev_sched=$(echo \"$prev_mc\" | jq -r '(.data.opsBaseline.runtime.schedulerExpected|type) // \"missing\"')\n"
      },
      "line_number": 105,
      "absolute_offset": 3610,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 47,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_contracts.sh"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 46417,
          "human": "0.000046s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 4071,
        "bytes_printed": 7496,
        "matched_lines": 23,
        "matches": 37
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "functions/api/_shared/scheduler-law.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/scheduler-law.js"
      },
      "lines": {
        "text": "  const latest = bars.length ? bars[bars.length - 1] : null;\n"
      },
      "line_number": 210,
      "absolute_offset": 6177,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/scheduler-law.js"
      },
      "lines": {
        "text": "  const dataDate = latest?.date || todayUtcDate();\n"
      },
      "line_number": 211,
      "absolute_offset": 6238,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 19,
          "end": 25
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "functions/api/_shared/scheduler-law.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 18625,
          "human": "0.000019s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 10629,
        "bytes_printed": 610,
        "matched_lines": 2,
        "matches": 2
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/generate-health-snapshot.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-health-snapshot.mjs"
      },
      "lines": {
        "text": "const OUT = \"public/data/snapshots/health/latest.json\";\n"
      },
      "line_number": 5,
      "absolute_offset": 162,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 13,
          "end": 25
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 25,
          "end": 33
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 42,
          "end": 48
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-health-snapshot.mjs"
      },
      "lines": {
        "text": "const SCHEMA_PATH = \"schemas/snapshot-envelope.schema.json\";\n"
      },
      "line_number": 6,
      "absolute_offset": 218,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 29,
          "end": 37
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-health-snapshot.mjs"
      },
      "lines": {
        "text": "    data: payload ?? { note: \"health snapshot regenerated (empty legacy payload)\" },\n"
      },
      "line_number": 37,
      "absolute_offset": 1232,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 37,
          "end": 45
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-health-snapshot.mjs"
      },
      "lines": {
        "text": "    console.error(\"FAIL: generated health snapshot does not validate against schema\");\n"
      },
      "line_number": 43,
      "absolute_offset": 1449,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 42,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/generate-health-snapshot.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 5542,
          "human": "0.000006s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 1733,
        "bytes_printed": 1304,
        "matched_lines": 4,
        "matches": 6
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/ops/build-ops-daily.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-ops-daily.mjs"
      },
      "lines": {
        "text": "function resolveStageOrLatest(stageDoc, expected, latestValue) {\n"
      },
      "line_number": 95,
      "absolute_offset": 2700,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 50,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-ops-daily.mjs"
      },
      "lines": {
        "text": "  const latestNum = toIntOrNull(latestValue);\n"
      },
      "line_number": 96,
      "absolute_offset": 2765,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 32,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-ops-daily.mjs"
      },
      "lines": {
        "text": "  if (Number.isFinite(latestNum)) return latestNum;\n"
      },
      "line_number": 97,
      "absolute_offset": 2811,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 22,
          "end": 28
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 41,
          "end": 47
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-ops-daily.mjs"
      },
      "lines": {
        "text": "  const nasdaq100 = await readJson('public/data/universe/nasdaq100.json', []);\n"
      },
      "line_number": 233,
      "absolute_offset": 6953,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 36,
          "end": 48
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-ops-daily.mjs"
      },
      "lines": {
        "text": "  const pipelineLatest = await readPipelineLatest('public/data/pipeline/nasdaq100.latest.json');\n"
      },
      "line_number": 236,
      "absolute_offset": 7111,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 51,
          "end": 63
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 82,
          "end": 88
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-ops-daily.mjs"
      },
      "lines": {
        "text": "  const truthFetched = await readLegacyPipelineTruth('public/data/pipeline/nasdaq100.fetched.json');\n"
      },
      "line_number": 237,
      "absolute_offset": 7208,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 54,
          "end": 66
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-ops-daily.mjs"
      },
      "lines": {
        "text": "  const truthValidated = await readLegacyPipelineTruth('public/data/pipeline/nasdaq100.validated.json');\n"
      },
      "line_number": 238,
      "absolute_offset": 7309,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 56,
          "end": 68
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-ops-daily.mjs"
      },
      "lines": {
        "text": "  const truthComputed = await readLegacyPipelineTruth('public/data/pipeline/nasdaq100.computed.json');\n"
      },
      "line_number": 239,
      "absolute_offset": 7414,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 55,
          "end": 67
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-ops-daily.mjs"
      },
      "lines": {
        "text": "  const truthStaticReady = await readLegacyPipelineTruth('public/data/pipeline/nasdaq100.static-ready.json');\n"
      },
      "line_number": 240,
      "absolute_offset": 7517,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 58,
          "end": 70
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-ops-daily.mjs"
      },
      "lines": {
        "text": "  const marketphaseIndex = await readJson('public/data/marketphase/index.json', null);\n"
      },
      "line_number": 315,
      "absolute_offset": 10567,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 43,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-ops-daily.mjs"
      },
      "lines": {
        "text": "  const pricesSnap = await readJson('public/data/snapshots/market-prices/latest.json', null);\n"
      },
      "line_number": 317,
      "absolute_offset": 10655,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 37,
          "end": 49
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 49,
          "end": 57
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 73,
          "end": 79
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-ops-daily.mjs"
      },
      "lines": {
        "text": "  const latestSnapshotDate = d0?.date || (typeof pricesMeta.fetched_at === 'string' ? pricesMeta.fetched_at.slice(0, 10) : null) || null;\n"
      },
      "line_number": 320,
      "absolute_offset": 10898,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-ops-daily.mjs"
      },
      "lines": {
        "text": "  const usageReport = await readJson('public/data/usage-report.json', null);\n"
      },
      "line_number": 338,
      "absolute_offset": 11650,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 38,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-ops-daily.mjs"
      },
      "lines": {
        "text": "  const safetySnapshot = await readJsonOptional('public/data/ops/safety.latest.json');\n"
      },
      "line_number": 357,
      "absolute_offset": 12389,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 49,
          "end": 61
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 61,
          "end": 64
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 72,
          "end": 78
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-ops-daily.mjs"
      },
      "lines": {
        "text": "  const opsDaily = {\n"
      },
      "line_number": 363,
      "absolute_offset": 12682,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 8,
          "end": 11
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-ops-daily.mjs"
      },
      "lines": {
        "text": "        latestSnapshotDate,\n"
      },
      "line_number": 394,
      "absolute_offset": 13805,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-ops-daily.mjs"
      },
      "lines": {
        "text": "    ops: {\n"
      },
      "line_number": 410,
      "absolute_offset": 14175,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 4,
          "end": 7
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-ops-daily.mjs"
      },
      "lines": {
        "text": "  await atomicWriteJson('public/data/ops-daily.json', opsDaily);\n"
      },
      "line_number": 415,
      "absolute_offset": 14226,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 25,
          "end": 37
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 37,
          "end": 40
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 54,
          "end": 57
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/ops/build-ops-daily.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 27875,
          "human": "0.000028s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 14308,
        "bytes_printed": 5545,
        "matched_lines": 18,
        "matches": 27
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "  '/data/snapshots/{module}/latest.json',\n"
      },
      "line_number": 29,
      "absolute_offset": 997,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 28,
          "end": 34
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "  '/data/snapshots/{module}.json',\n"
      },
      "line_number": 30,
      "absolute_offset": 1039,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "  const latest = bars[bars.length - 1];\n"
      },
      "line_number": 84,
      "absolute_offset": 2650,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "  if (!Number.isFinite(latest?.close) || !Number.isFinite(prev?.close) || prev.close === 0) {\n"
      },
      "line_number": 86,
      "absolute_offset": 2728,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 23,
          "end": 29
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "  const abs = latest.close - prev.close;\n"
      },
      "line_number": 89,
      "absolute_offset": 2863,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 14,
          "end": 20
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "          snapshot: payload,\n"
      },
      "line_number": 219,
      "absolute_offset": 6827,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 10,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "    snapshot: null,\n"
      },
      "line_number": 232,
      "absolute_offset": 7082,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 4,
          "end": 12
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "    error: lastError ? lastError.message : 'snapshot_missing',\n"
      },
      "line_number": 236,
      "absolute_offset": 7166,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 44,
          "end": 52
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "function findRecord(snapshot, symbol) {\n"
      },
      "line_number": 241,
      "absolute_offset": 7261,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 20,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "  if (!snapshot || !snapshot.data) return null;\n"
      },
      "line_number": 242,
      "absolute_offset": 7301,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 7,
          "end": 15
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 20,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "  const payload = snapshot.data;\n"
      },
      "line_number": 243,
      "absolute_offset": 7349,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 18,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "  // This is independent of the legacy snapshot join below (kept for backwards compatibility).\n"
      },
      "line_number": 339,
      "absolute_offset": 10111,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 39,
          "end": 47
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "        const latest = pickLatestBar(result.bars);\n"
      },
      "line_number": 485,
      "absolute_offset": 15836,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 14,
          "end": 20
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "        const dataDate = latest?.date || todayUtcDate();\n"
      },
      "line_number": 486,
      "absolute_offset": 15887,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 25,
          "end": 31
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "          const latest = pickLatestBar(eodBars);\n"
      },
      "line_number": 550,
      "absolute_offset": 17973,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 16,
          "end": 22
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "          const dataDate = latest?.date || todayUtcDate();\n"
      },
      "line_number": 551,
      "absolute_offset": 18022,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 27,
          "end": 33
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "              const latest = pickLatestBar(eodBars);\n"
      },
      "line_number": 624,
      "absolute_offset": 20616,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 20,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "              const dataDate = latest?.date || todayUtcDate();\n"
      },
      "line_number": 625,
      "absolute_offset": 20669,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 31,
          "end": 37
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "  const snapshots = Object.fromEntries(\n"
      },
      "line_number": 646,
      "absolute_offset": 21591,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "  const servedFrom = Object.values(snapshots).some((result) => result.snapshot) ? 'ASSET' : 'MISSING';\n"
      },
      "line_number": 650,
      "absolute_offset": 21717,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 35,
          "end": 43
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 70,
          "end": 78
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "  const sources = aggregateSources(snapshots);\n"
      },
      "line_number": 651,
      "absolute_offset": 21820,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 35,
          "end": 43
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "        latest_bar: null,\n"
      },
      "line_number": 745,
      "absolute_offset": 24749,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "  const universeEntry = findRecord(snapshots['universe']?.snapshot, normalizedTicker);\n"
      },
      "line_number": 762,
      "absolute_offset": 25332,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 35,
          "end": 43
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 58,
          "end": 66
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "  const priceEntry = findRecord(snapshots['market-prices']?.snapshot, normalizedTicker);\n"
      },
      "line_number": 763,
      "absolute_offset": 25419,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 32,
          "end": 40
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 60,
          "end": 68
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "  const statsEntry = findRecord(snapshots['market-stats']?.snapshot, normalizedTicker);\n"
      },
      "line_number": 764,
      "absolute_offset": 25508,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 32,
          "end": 40
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 59,
          "end": 67
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "  const scoreEntry = findRecord(snapshots['market-score']?.snapshot, normalizedTicker);\n"
      },
      "line_number": 765,
      "absolute_offset": 25596,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 32,
          "end": 40
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 59,
          "end": 67
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "  if (snapshots['market-stats']?.snapshot?.data == null && snapshots['market-stats']?.snapshot?.error) {\n"
      },
      "line_number": 777,
      "absolute_offset": 26132,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 33,
          "end": 41
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 59,
          "end": 67
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 86,
          "end": 94
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "    sources['market-stats'].note = 'snapshot_placeholder_or_empty_data';\n"
      },
      "line_number": 778,
      "absolute_offset": 26237,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 36,
          "end": 44
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "  if (snapshots['market-prices']?.snapshot && snapshots['market-prices']?.snapshot?.data && !priceEntry) {\n"
      },
      "line_number": 780,
      "absolute_offset": 26314,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 34,
          "end": 42
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 46,
          "end": 54
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 74,
          "end": 82
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "  if (snapshots['market-prices'].snapshot && !marketPricesPayload) missingSections.push('market_prices');\n"
      },
      "line_number": 789,
      "absolute_offset": 26774,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 33,
          "end": 41
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "  if (snapshots['market-stats'].snapshot && !marketStatsPayload) missingSections.push('market_stats');\n"
      },
      "line_number": 790,
      "absolute_offset": 26880,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 32,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "  if (!snapshots['market-prices'].snapshot) missingSections.push('market_prices');\n"
      },
      "line_number": 791,
      "absolute_offset": 26983,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 7,
          "end": 15
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 34,
          "end": 42
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "  if (!snapshots['market-stats'].snapshot) missingSections.push('market_stats');\n"
      },
      "line_number": 792,
      "absolute_offset": 27066,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 7,
          "end": 15
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 33,
          "end": 41
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "  const latestBar = pickLatestBar(eodBars);\n"
      },
      "line_number": 841,
      "absolute_offset": 28911,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "    latest_bar: latestBar,\n"
      },
      "line_number": 864,
      "absolute_offset": 29770,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 4,
          "end": 10
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 16,
          "end": 22
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "  const envelopeDataDate = parseIsoDay(latestBar?.date) || parseIsoDay(asOf) || todayUtcDate();\n"
      },
      "line_number": 880,
      "absolute_offset": 30233,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 39,
          "end": 45
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "lines": {
        "text": "    ? 'snapshot'\n"
      },
      "line_number": 895,
      "absolute_offset": 30776,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "functions/api/stock.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 31708,
          "human": "0.000032s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 33354,
        "bytes_printed": 10441,
        "matched_lines": 37,
        "matches": 55
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "functions/api/_shared/eod-indicators.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/eod-indicators.mjs"
      },
      "lines": {
        "text": "  const latest = cleanBars.length ? cleanBars[cleanBars.length - 1] : null;\n"
      },
      "line_number": 118,
      "absolute_offset": 4068,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/eod-indicators.mjs"
      },
      "lines": {
        "text": "    Number.isFinite(latest?.volume) && Number.isFinite(avgVol20) && avgVol20 !== 0 ? latest.volume / avgVol20 : null;\n"
      },
      "line_number": 144,
      "absolute_offset": 5162,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 20,
          "end": 26
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 85,
          "end": 91
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/eod-indicators.mjs"
      },
      "lines": {
        "text": "    Number.isFinite(latest?.close) && Number.isFinite(sma20) && sma20 !== 0 ? (latest.close - sma20) / sma20 : null;\n"
      },
      "line_number": 147,
      "absolute_offset": 5307,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 20,
          "end": 26
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 79,
          "end": 85
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/eod-indicators.mjs"
      },
      "lines": {
        "text": "    Number.isFinite(latest?.close) && Number.isFinite(sma200) && sma200 !== 0\n"
      },
      "line_number": 149,
      "absolute_offset": 5451,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 20,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/eod-indicators.mjs"
      },
      "lines": {
        "text": "      ? (latest.close - sma200) / sma200\n"
      },
      "line_number": 150,
      "absolute_offset": 5529,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 9,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "functions/api/_shared/eod-indicators.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 7125,
          "human": "0.000007s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 10046,
        "bytes_printed": 1659,
        "matched_lines": 5,
        "matches": 7
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/ops/validate-truth.sh"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-truth.sh"
      },
      "lines": {
        "text": "  fail \"missing public/data/build-info.json\"\n"
      },
      "line_number": 17,
      "absolute_offset": 341,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 16,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-truth.sh"
      },
      "lines": {
        "text": "# pipeline latest\n"
      },
      "line_number": 22,
      "absolute_offset": 545,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 11,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-truth.sh"
      },
      "lines": {
        "text": "if [ ! -f \"$DATA/pipeline/nasdaq100.latest.json\" ]; then\n"
      },
      "line_number": 23,
      "absolute_offset": 563,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 36,
          "end": 42
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-truth.sh"
      },
      "lines": {
        "text": "  fail \"missing pipeline latest\"\n"
      },
      "line_number": 24,
      "absolute_offset": 620,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 25,
          "end": 31
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-truth.sh"
      },
      "lines": {
        "text": "jq -e '(.counts.expected|type==\"number\") and (.counts.fetched|type==\"number\") and (.counts.validated|type==\"number\")' \"$DATA/pipeline/nasdaq100.latest.json\" >/dev/null\n"
      },
      "line_number": 26,
      "absolute_offset": 656,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 144,
          "end": 150
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-truth.sh"
      },
      "lines": {
        "text": "pass \"pipeline latest counts present\"\n"
      },
      "line_number": 27,
      "absolute_offset": 824,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 15,
          "end": 21
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-truth.sh"
      },
      "lines": {
        "text": "# ops summary\n"
      },
      "line_number": 39,
      "absolute_offset": 1225,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 2,
          "end": 5
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-truth.sh"
      },
      "lines": {
        "text": "if [ ! -f \"$DATA/ops/summary.latest.json\" ]; then\n"
      },
      "line_number": 40,
      "absolute_offset": 1239,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 17,
          "end": 20
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 29,
          "end": 35
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-truth.sh"
      },
      "lines": {
        "text": "  fail \"missing ops summary latest\"\n"
      },
      "line_number": 41,
      "absolute_offset": 1289,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 16,
          "end": 19
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 28,
          "end": 34
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-truth.sh"
      },
      "lines": {
        "text": "jq -e '.schema_version==\"ops.summary.v1\" and (.ops_daily.ref|type==\"string\")' \"$DATA/ops/summary.latest.json\" >/dev/null\n"
      },
      "line_number": 43,
      "absolute_offset": 1328,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 25,
          "end": 28
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 47,
          "end": 50
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 85,
          "end": 88
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 97,
          "end": 103
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-truth.sh"
      },
      "lines": {
        "text": "pass \"ops summary schema ok\"\n"
      },
      "line_number": 44,
      "absolute_offset": 1449,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 6,
          "end": 9
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-truth.sh"
      },
      "lines": {
        "text": "# ops-daily\n"
      },
      "line_number": 46,
      "absolute_offset": 1479,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 2,
          "end": 5
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-truth.sh"
      },
      "lines": {
        "text": "if [ ! -f \"$DATA/ops-daily.json\" ]; then\n"
      },
      "line_number": 47,
      "absolute_offset": 1491,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 17,
          "end": 20
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-truth.sh"
      },
      "lines": {
        "text": "  fail \"missing ops-daily\"\n"
      },
      "line_number": 48,
      "absolute_offset": 1532,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 16,
          "end": 19
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-truth.sh"
      },
      "lines": {
        "text": "jq -e '(.baseline.pipeline.expected|type==\"number\") and (.baseline.pipeline.staticReady|type==\"number\")' \"$DATA/ops-daily.json\" >/dev/null\n"
      },
      "line_number": 50,
      "absolute_offset": 1562,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 112,
          "end": 115
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-truth.sh"
      },
      "lines": {
        "text": "pass \"ops-daily baseline pipeline ok\"\n"
      },
      "line_number": 51,
      "absolute_offset": 1701,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 6,
          "end": 9
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-truth.sh"
      },
      "lines": {
        "text": "# health snapshot latest (envelope)\n"
      },
      "line_number": 53,
      "absolute_offset": 1740,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 18,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-truth.sh"
      },
      "lines": {
        "text": "if [ -f \"$DATA/snapshots/health/latest.json\" ]; then\n"
      },
      "line_number": 54,
      "absolute_offset": 1776,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 15,
          "end": 23
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 32,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-truth.sh"
      },
      "lines": {
        "text": "    \"$DATA/snapshots/health/latest.json\" >/dev/null\n"
      },
      "line_number": 56,
      "absolute_offset": 1923,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 11,
          "end": 19
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 28,
          "end": 34
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-truth.sh"
      },
      "lines": {
        "text": "  pass \"health latest snapshot envelope ok\"\n"
      },
      "line_number": 57,
      "absolute_offset": 1975,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 15,
          "end": 21
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 22,
          "end": 30
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-truth.sh"
      },
      "lines": {
        "text": "  warn \"missing health latest snapshot envelope\"\n"
      },
      "line_number": 59,
      "absolute_offset": 2024,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 23,
          "end": 29
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 30,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/validate-truth.sh"
      },
      "lines": {
        "text": "missing=$(jq -r '.baseline.pipeline.missing|length' \"$DATA/ops-daily.json\" 2>/dev/null || echo \"\")\n"
      },
      "line_number": 63,
      "absolute_offset": 2123,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 59,
          "end": 62
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/ops/validate-truth.sh"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 16667,
          "human": "0.000017s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 2357,
        "bytes_printed": 6128,
        "matched_lines": 22,
        "matches": 32
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": " * - v3.0 snapshot serving\n"
      },
      "line_number": 5,
      "absolute_offset": 79,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 10,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": " * Transform v3.0 snapshot to legacy format\n"
      },
      "line_number": 14,
      "absolute_offset": 281,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 18,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": " * Evaluate Proof Chain for a snapshot\n"
      },
      "line_number": 59,
      "absolute_offset": 1542,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 30,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "function evaluateProofChain(snapshot, moduleConfig) {\n"
      },
      "line_number": 61,
      "absolute_offset": 1585,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 28,
          "end": 36
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "  if (!snapshot) {\n"
      },
      "line_number": 71,
      "absolute_offset": 1829,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "  if (snapshot.schema_version === '3.0' && snapshot.metadata && Array.isArray(snapshot.data)) {\n"
      },
      "line_number": 79,
      "absolute_offset": 1957,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 43,
          "end": 51
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 78,
          "end": 86
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "  if (snapshot.metadata?.validation?.passed) {\n"
      },
      "line_number": 86,
      "absolute_offset": 2152,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "    if (snapshot.metadata?.validation?.passed) {\n"
      },
      "line_number": 97,
      "absolute_offset": 2508,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "  if (snapshot.metadata?.freshness) {\n"
      },
      "line_number": 107,
      "absolute_offset": 2699,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "    const ageMinutes = snapshot.metadata.freshness.age_minutes;\n"
      },
      "line_number": 108,
      "absolute_offset": 2737,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 23,
          "end": 31
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "    const expected = snapshot.metadata.freshness.expected_interval_minutes;\n"
      },
      "line_number": 109,
      "absolute_offset": 2801,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 21,
          "end": 29
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "    const grace = snapshot.metadata.freshness.grace_minutes;\n"
      },
      "line_number": 110,
      "absolute_offset": 2877,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 18,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "function getFailureInfo(snapshot, proofChain) {\n"
      },
      "line_number": 127,
      "absolute_offset": 3219,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 24,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "async function buildDebugResponse(moduleName, snapshot, moduleConfig, sourceInfo, url) {\n"
      },
      "line_number": 172,
      "absolute_offset": 4115,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 46,
          "end": 54
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "  const proofChain = evaluateProofChain(snapshot, moduleConfig);\n"
      },
      "line_number": 173,
      "absolute_offset": 4204,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 40,
          "end": 48
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "  const failureInfo = getFailureInfo(snapshot, proofChain);\n"
      },
      "line_number": 174,
      "absolute_offset": 4269,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 37,
          "end": 45
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "  // Try to load manifest\n"
      },
      "line_number": 188,
      "absolute_offset": 4684,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 17,
          "end": 25
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "  let manifestEntry = null;\n"
      },
      "line_number": 189,
      "absolute_offset": 4710,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "    const manifestUrl = new URL('/data/manifest.json', url.origin);\n"
      },
      "line_number": 191,
      "absolute_offset": 4746,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 10,
          "end": 18
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 39,
          "end": 47
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "    const manifestResponse = await fetch(manifestUrl.toString());\n"
      },
      "line_number": 192,
      "absolute_offset": 4814,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 10,
          "end": 18
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 41,
          "end": 49
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "    if (manifestResponse.ok) {\n"
      },
      "line_number": 193,
      "absolute_offset": 4880,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "      const manifest = await manifestResponse.json();\n"
      },
      "line_number": 194,
      "absolute_offset": 4911,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 12,
          "end": 20
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 29,
          "end": 37
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "      manifestEntry = manifest.modules?.[moduleName] || null;\n"
      },
      "line_number": 195,
      "absolute_offset": 4965,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 22,
          "end": 30
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "    manifest: manifestEntry ? {\n"
      },
      "line_number": 233,
      "absolute_offset": 6012,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 4,
          "end": 12
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 14,
          "end": 22
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "      tier: manifestEntry.tier,\n"
      },
      "line_number": 234,
      "absolute_offset": 6044,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 12,
          "end": 20
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "      status: manifestEntry.status,\n"
      },
      "line_number": 235,
      "absolute_offset": 6076,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 14,
          "end": 22
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "      published: manifestEntry.published,\n"
      },
      "line_number": 236,
      "absolute_offset": 6112,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 17,
          "end": 25
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "      digest: manifestEntry.digest,\n"
      },
      "line_number": 237,
      "absolute_offset": 6154,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 14,
          "end": 22
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "      age_minutes: manifestEntry.freshness?.age_minutes,\n"
      },
      "line_number": 238,
      "absolute_offset": 6190,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 19,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "      preferred_source: manifestEntry.cache?.preferred_source\n"
      },
      "line_number": 239,
      "absolute_offset": 6247,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 24,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "    metadata: snapshot?.metadata || null,\n"
      },
      "line_number": 251,
      "absolute_offset": 6622,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 14,
          "end": 22
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "      snapshot: `/data/snapshots/${moduleName}/latest.json`,\n"
      },
      "line_number": 258,
      "absolute_offset": 6785,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 23,
          "end": 31
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 47,
          "end": 53
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "      manifest: '/data/manifest.json',\n"
      },
      "line_number": 260,
      "absolute_offset": 6901,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 23,
          "end": 31
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "    data_preview: snapshot?.data ? {\n"
      },
      "line_number": 265,
      "absolute_offset": 7032,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 18,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "      record_count: snapshot.metadata?.record_count || 0,\n"
      },
      "line_number": 266,
      "absolute_offset": 7069,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 20,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "      first_record: snapshot.data[0] || null\n"
      },
      "line_number": 267,
      "absolute_offset": 7127,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 20,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "    { path: `/data/snapshots/${moduleName}/latest.json`, type: \"v3_directory\" },\n"
      },
      "line_number": 295,
      "absolute_offset": 7977,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 19,
          "end": 27
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 43,
          "end": 49
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "    { path: `/data/snapshots/${moduleName}.json`, type: \"v3_flat\" },\n"
      },
      "line_number": 296,
      "absolute_offset": 8058,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 19,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "  let snapshot = null;\n"
      },
      "line_number": 300,
      "absolute_offset": 8192,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "        snapshot = JSON.parse(text);\n"
      },
      "line_number": 310,
      "absolute_offset": 8534,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "    const debugResponse = await buildDebugResponse(moduleName, snapshot, moduleConfig, sourceInfo, url);\n"
      },
      "line_number": 321,
      "absolute_offset": 8769,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 63,
          "end": 71
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "  if (!snapshot) {\n"
      },
      "line_number": 332,
      "absolute_offset": 9107,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "  const isV3 = snapshot.schema_version === \"3.0\" || snapshot.schemaVersion === \"v3\";\n"
      },
      "line_number": 361,
      "absolute_offset": 9832,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 15,
          "end": 23
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 52,
          "end": 60
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "    snapshot = transformV3ToLegacy(snapshot);\n"
      },
      "line_number": 365,
      "absolute_offset": 9961,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 4,
          "end": 12
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 35,
          "end": 43
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "  snapshot = applyModuleTransformations(moduleName, snapshot);\n"
      },
      "line_number": 370,
      "absolute_offset": 10081,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 2,
          "end": 10
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 52,
          "end": 60
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "  if (snapshot.ok === undefined || snapshot.ok === null) {\n"
      },
      "line_number": 373,
      "absolute_offset": 10168,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 35,
          "end": 43
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "    snapshot.ok = true;\n"
      },
      "line_number": 374,
      "absolute_offset": 10227,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 4,
          "end": 12
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "lines": {
        "text": "  return new Response(JSON.stringify(snapshot), {\n"
      },
      "line_number": 377,
      "absolute_offset": 10258,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 37,
          "end": 45
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-v3.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 51625,
          "human": "0.000052s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 10556,
        "bytes_printed": 13391,
        "matched_lines": 48,
        "matches": 63
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/ops/verify-missing-mirror-semantic.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-missing-mirror-semantic.mjs"
      },
      "lines": {
        "text": "const fileA = args[0] ? path.resolve(args[0]) : path.join(repoRoot, \"public/data/marketphase/missing.json\");\n"
      },
      "line_number": 7,
      "absolute_offset": 145,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 69,
          "end": 81
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-missing-mirror-semantic.mjs"
      },
      "lines": {
        "text": "const fileB = args[1] ? path.resolve(args[1]) : path.join(repoRoot, \"public/data/pipeline/missing.json\");\n"
      },
      "line_number": 8,
      "absolute_offset": 254,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 69,
          "end": 81
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/ops/verify-missing-mirror-semantic.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 5000,
          "human": "0.000005s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 3842,
        "bytes_printed": 748,
        "matched_lines": 2,
        "matches": 2
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-handler.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-handler.js"
      },
      "lines": {
        "text": "  \"seed-manifest\": \"/data/seed-manifest.json\",\n"
      },
      "line_number": 53,
      "absolute_offset": 1341,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 31,
          "end": 39
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-handler.js"
      },
      "lines": {
        "text": "  if (apiName.startsWith(\"snapshots/\")) {\n"
      },
      "line_number": 60,
      "absolute_offset": 1545,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 26,
          "end": 34
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-handler.js"
      },
      "lines": {
        "text": "    const id = apiName.slice(\"snapshots/\".length);\n"
      },
      "line_number": 61,
      "absolute_offset": 1587,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 30,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-handler.js"
      },
      "lines": {
        "text": "    return id ? `/data/snapshots/${id}.json` : null;\n"
      },
      "line_number": 62,
      "absolute_offset": 1638,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 23,
          "end": 31
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-handler.js"
      },
      "lines": {
        "text": "  return `/data/snapshots/${apiName}.json`;\n"
      },
      "line_number": 65,
      "absolute_offset": 1750,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 16,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-handler.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 11958,
          "human": "0.000012s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 4194,
        "bytes_printed": 1428,
        "matched_lines": 5,
        "matches": 6
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/lib/envelope-builder.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/envelope-builder.mjs"
      },
      "lines": {
        "text": "    const props = node.properties || {};\n"
      },
      "line_number": 48,
      "absolute_offset": 1514,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 12,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/envelope-builder.mjs"
      },
      "lines": {
        "text": "    const allowedKeys = new Set(Object.keys(props));\n"
      },
      "line_number": 56,
      "absolute_offset": 1842,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 46,
          "end": 49
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/envelope-builder.mjs"
      },
      "lines": {
        "text": "      const childSchema = props[k];\n"
      },
      "line_number": 60,
      "absolute_offset": 1960,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 28,
          "end": 31
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/envelope-builder.mjs"
      },
      "lines": {
        "text": "        const childSchema = props[k];\n"
      },
      "line_number": 79,
      "absolute_offset": 2733,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 30,
          "end": 33
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/envelope-builder.mjs"
      },
      "lines": {
        "text": "export function loadSnapshotEnvelopeSchema(schemaPath = \"schemas/snapshot-envelope.schema.json\") {\n"
      },
      "line_number": 105,
      "absolute_offset": 3508,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 65,
          "end": 73
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/lib/envelope-builder.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 11167,
          "human": "0.000011s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 5710,
        "bytes_printed": 1342,
        "matched_lines": 5,
        "matches": 5
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-artifacts.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-artifacts.mjs"
      },
      "lines": {
        "text": "const latestUrl = `${base}/data/pipeline/nasdaq100.latest.json`;\n"
      },
      "line_number": 5,
      "absolute_offset": 136,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 6,
          "end": 12
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 51,
          "end": 57
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-artifacts.mjs"
      },
      "lines": {
        "text": "const latestRes = await fetchWithContext(latestUrl, {}, { name: 'pipeline-latest' });\n"
      },
      "line_number": 8,
      "absolute_offset": 274,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 6,
          "end": 12
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 41,
          "end": 47
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 74,
          "end": 80
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-artifacts.mjs"
      },
      "lines": {
        "text": "const latest = await latestRes.json();\n"
      },
      "line_number": 11,
      "absolute_offset": 444,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 6,
          "end": 12
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 21,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-artifacts.mjs"
      },
      "lines": {
        "text": "const counts = latest?.counts || {};\n"
      },
      "line_number": 14,
      "absolute_offset": 521,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 15,
          "end": 21
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-artifacts.mjs"
      },
      "lines": {
        "text": "  if (Object.prototype.hasOwnProperty.call(latest, key) && latest[key] != null) {\n"
      },
      "line_number": 39,
      "absolute_offset": 1507,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 43,
          "end": 49
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 59,
          "end": 65
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-artifacts.mjs"
      },
      "lines": {
        "text": "    const value = latest[key];\n"
      },
      "line_number": 40,
      "absolute_offset": 1589,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 18,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-artifacts.mjs"
      },
      "lines": {
        "text": "      throw new Error(`latest.${key} must be a finite number, got ${value}`);\n"
      },
      "line_number": 43,
      "absolute_offset": 1684,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 23,
          "end": 29
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-artifacts.mjs"
      },
      "lines": {
        "text": "      throw new Error(`latest.${key} is older than 48h (${num})`);\n"
      },
      "line_number": 47,
      "absolute_offset": 1840,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 23,
          "end": 29
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-artifacts.mjs"
      },
      "lines": {
        "text": "  `OK ops-artifacts: expected=${expected} fetched=${fetched} validated=${validated} computed=${Number.isFinite(computed) ? computed : ''} static_ready=${Number.isFinite(staticReady) ? staticReady : ''} first_blocker_id=${firstBlockerId}`\n"
      },
      "line_number": 53,
      "absolute_offset": 1933,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 6,
          "end": 9
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-artifacts.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 8250,
          "human": "0.000008s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 2181,
        "bytes_printed": 2861,
        "matched_lines": 9,
        "matches": 14
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/ui-path/prove_ui_path.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ui-path/prove_ui_path.mjs"
      },
      "lines": {
        "text": "        data: json.data ? { latest_bar: json.data.latest_bar || null, change: json.data.change || null } : null\n"
      },
      "line_number": 77,
      "absolute_offset": 2295,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 28,
          "end": 34
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 50,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ui-path/prove_ui_path.mjs"
      },
      "lines": {
        "text": "  const bar = call.response_excerpt.data.latest_bar || {};\n"
      },
      "line_number": 124,
      "absolute_offset": 3946,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 41,
          "end": 47
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ui-path/prove_ui_path.mjs"
      },
      "lines": {
        "text": "const latestBarRef = findLineRef(handlerFile, 'const latestBar = pickLatestBar');\n"
      },
      "line_number": 137,
      "absolute_offset": 4602,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 6,
          "end": 12
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 53,
          "end": 59
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ui-path/prove_ui_path.mjs"
      },
      "lines": {
        "text": "    const snapUrl = new URL('/data/snapshots/market-prices/latest.json', base).toString();\n"
      },
      "line_number": 142,
      "absolute_offset": 4827,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 35,
          "end": 43
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 59,
          "end": 65
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ui-path/prove_ui_path.mjs"
      },
      "lines": {
        "text": "  if (dataSource === 'snapshot') {\n"
      },
      "line_number": 161,
      "absolute_offset": 5702,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 22,
          "end": 30
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ui-path/prove_ui_path.mjs"
      },
      "lines": {
        "text": "      key_or_path: '/data/snapshots/market-prices/latest.json',\n"
      },
      "line_number": 165,
      "absolute_offset": 5833,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 26,
          "end": 34
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 50,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ui-path/prove_ui_path.mjs"
      },
      "lines": {
        "text": "      snapshot_probe: snap\n"
      },
      "line_number": 166,
      "absolute_offset": 5897,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ui-path/prove_ui_path.mjs"
      },
      "lines": {
        "text": "const winningBar = winning?.response_excerpt?.data?.latest_bar || null;\n"
      },
      "line_number": 187,
      "absolute_offset": 6413,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 52,
          "end": 58
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ui-path/prove_ui_path.mjs"
      },
      "lines": {
        "text": "        checked_path: 'data.latest_bar',\n"
      },
      "line_number": 216,
      "absolute_offset": 7178,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 28,
          "end": 34
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ui-path/prove_ui_path.mjs"
      },
      "lines": {
        "text": "      latest_bar: latestBarRef,\n"
      },
      "line_number": 229,
      "absolute_offset": 7539,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 6,
          "end": 12
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 18,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/ui-path/prove_ui_path.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 9083,
          "human": "0.000009s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 8407,
        "bytes_printed": 2967,
        "matched_lines": 10,
        "matches": 15
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "functions/api/_shared/resilience.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/resilience.js"
      },
      "lines": {
        "text": "  const url = `${origin}/data/snapshots/${featureId}.json`;\n"
      },
      "line_number": 150,
      "absolute_offset": 4648,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 30,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "functions/api/_shared/resilience.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 6209,
          "human": "0.000006s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 20471,
        "bytes_printed": 347,
        "matched_lines": 1,
        "matches": 1
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-backup.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-backup.js"
      },
      "lines": {
        "text": " * Supports v3.0 snapshot structure with backward compatibility transformation\n"
      },
      "line_number": 4,
      "absolute_offset": 120,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 17,
          "end": 25
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-backup.js"
      },
      "lines": {
        "text": " * Transform v3.0 snapshot to legacy format for backward compatibility\n"
      },
      "line_number": 8,
      "absolute_offset": 208,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 18,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-backup.js"
      },
      "lines": {
        "text": " * Some legacy frontends expect different field names than the snapshots provide\n"
      },
      "line_number": 37,
      "absolute_offset": 1201,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 63,
          "end": 71
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-backup.js"
      },
      "lines": {
        "text": "  // S&P 500 Sectors: Frontend expects \"sectors\" but snapshot has \"items\"\n"
      },
      "line_number": 43,
      "absolute_offset": 1429,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 53,
          "end": 61
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-backup.js"
      },
      "lines": {
        "text": "    { path: `/data/snapshots/${moduleName}/latest.json`, type: \"v3_directory\" },\n"
      },
      "line_number": 79,
      "absolute_offset": 2868,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 19,
          "end": 27
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 43,
          "end": 49
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-backup.js"
      },
      "lines": {
        "text": "    { path: `/data/snapshots/${moduleName}.json`, type: \"v3_flat\" },        // NEW: Flat in snapshots/\n"
      },
      "line_number": 80,
      "absolute_offset": 2949,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 19,
          "end": 27
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 92,
          "end": 100
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-backup.js"
      },
      "lines": {
        "text": "            snapshot: parsed\n"
      },
      "line_number": 128,
      "absolute_offset": 4690,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 12,
          "end": 20
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-backup.js"
      },
      "lines": {
        "text": "      message: `No snapshot found for ${moduleName}. Tried ${triedPaths.length} locations.`,\n"
      },
      "line_number": 148,
      "absolute_offset": 5285,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 19,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "functions/api/_shared/static-only-backup.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 7833,
          "human": "0.000008s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 5526,
        "bytes_printed": 2516,
        "matched_lines": 8,
        "matches": 10
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "functions/api/elliott-scanner.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/api/elliott-scanner.js"
      },
      "lines": {
        "text": "        const eodRes = await fetch(`${baseUrl}/data/eod/batches/eod.latest.000.json`);\n"
      },
      "line_number": 34,
      "absolute_offset": 1120,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 68,
          "end": 74
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "functions/api/elliott-scanner.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 4291,
          "human": "0.000004s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 7259,
        "bytes_printed": 365,
        "matched_lines": 1,
        "matches": 1
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_truth_summary.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_truth_summary.mjs"
      },
      "lines": {
        "text": "const summaryUrl = `${base}/api/mission-control/summary`;\n"
      },
      "line_number": 5,
      "absolute_offset": 136,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 32,
          "end": 47
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_truth_summary.mjs"
      },
      "lines": {
        "text": "const latestUrl = `${base}/data/pipeline/nasdaq100.latest.json`;\n"
      },
      "line_number": 6,
      "absolute_offset": 194,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 6,
          "end": 12
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 51,
          "end": 57
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_truth_summary.mjs"
      },
      "lines": {
        "text": "const summaryRes = await fetchWithContext(summaryUrl, {}, { name: 'mission-control-summary' });\n"
      },
      "line_number": 12,
      "absolute_offset": 308,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 67,
          "end": 82
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_truth_summary.mjs"
      },
      "lines": {
        "text": "if (!p6Step?.evidence?.checked_path || p6Step.evidence.checked_path !== 'data.latest_bar') {\n"
      },
      "line_number": 71,
      "absolute_offset": 2401,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 78,
          "end": 84
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_truth_summary.mjs"
      },
      "lines": {
        "text": "  fail('P6 evidence.checked_path must be data.latest_bar');\n"
      },
      "line_number": 72,
      "absolute_offset": 2494,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 46,
          "end": 52
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_truth_summary.mjs"
      },
      "lines": {
        "text": "const latestRes = await fetchWithContext(latestUrl, {}, { name: 'pipeline-latest' });\n"
      },
      "line_number": 90,
      "absolute_offset": 3176,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 6,
          "end": 12
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 41,
          "end": 47
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 74,
          "end": 80
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_truth_summary.mjs"
      },
      "lines": {
        "text": "const latest = await latestRes.json();\n"
      },
      "line_number": 91,
      "absolute_offset": 3262,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 6,
          "end": 12
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 21,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_truth_summary.mjs"
      },
      "lines": {
        "text": "const latestCounts = latest?.counts || {};\n"
      },
      "line_number": 92,
      "absolute_offset": 3301,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 6,
          "end": 12
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 21,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_truth_summary.mjs"
      },
      "lines": {
        "text": "  if (latestCounts[key] != null) {\n"
      },
      "line_number": 95,
      "absolute_offset": 3491,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 6,
          "end": 12
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_truth_summary.mjs"
      },
      "lines": {
        "text": "    if (Number(summaryCounts[key]) !== Number(latestCounts[key])) {\n"
      },
      "line_number": 99,
      "absolute_offset": 3624,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 46,
          "end": 52
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_truth_summary.mjs"
      },
      "lines": {
        "text": "      fail(`summary counts.${key} mismatch: ${summaryCounts[key]} vs ${latestCounts[key]}`);\n"
      },
      "line_number": 100,
      "absolute_offset": 3692,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 71,
          "end": 77
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/ops/rv_verify_truth_summary.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 9667,
          "human": "0.000010s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 4194,
        "bytes_printed": 3357,
        "matched_lines": 11,
        "matches": 16
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/ops/build-safety-snapshot.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-safety-snapshot.mjs"
      },
      "lines": {
        "text": "const OUT_PATH = path.join(REPO_ROOT, 'public', 'data', 'ops', 'safety.latest.json');\n"
      },
      "line_number": 8,
      "absolute_offset": 216,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 57,
          "end": 60
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 71,
          "end": 77
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/build-safety-snapshot.mjs"
      },
      "lines": {
        "text": "  process.stdout.write(`OK: safety snapshot generated (activeLocks=${activeLocks})\\n`);\n"
      },
      "line_number": 77,
      "absolute_offset": 1917,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 35,
          "end": 43
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/ops/build-safety-snapshot.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 7833,
          "human": "0.000008s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 2133,
        "bytes_printed": 714,
        "matched_lines": 2,
        "matches": 3
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/generate-crypto-snapshot.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-crypto-snapshot.mjs"
      },
      "lines": {
        "text": "const SYSTEM_HEALTH_PATH = path.resolve(__dirname, \"../mirrors/system-health.json\");\n"
      },
      "line_number": 11,
      "absolute_offset": 562,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 55,
          "end": 63
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-crypto-snapshot.mjs"
      },
      "lines": {
        "text": "const lock = acquireLock({ providerId: \"coingecko\", datasetId: \"crypto-snapshot\", ttlSeconds: 900 });\n"
      },
      "line_number": 29,
      "absolute_offset": 1221,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 71,
          "end": 79
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-crypto-snapshot.mjs"
      },
      "lines": {
        "text": "  const previous = loadMirror(path.resolve(__dirname, \"../mirrors/crypto-snapshot.json\"));\n"
      },
      "line_number": 36,
      "absolute_offset": 1432,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 58,
          "end": 66
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 73,
          "end": 81
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-crypto-snapshot.mjs"
      },
      "lines": {
        "text": "    mirrorId: \"crypto-snapshot\",\n"
      },
      "line_number": 67,
      "absolute_offset": 2460,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 22,
          "end": 30
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-crypto-snapshot.mjs"
      },
      "lines": {
        "text": "    whyUnique: \"Live crypto snapshot from CoinGecko.\",\n"
      },
      "line_number": 72,
      "absolute_offset": 2577,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 28,
          "end": 36
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-crypto-snapshot.mjs"
      },
      "lines": {
        "text": "    saveMirror(path.join(dir, \"crypto-snapshot.json\"), mirror);\n"
      },
      "line_number": 83,
      "absolute_offset": 2826,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 38,
          "end": 46
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-crypto-snapshot.mjs"
      },
      "lines": {
        "text": "    id: \"crypto-snapshot\",\n"
      },
      "line_number": 95,
      "absolute_offset": 3104,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 16,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-crypto-snapshot.mjs"
      },
      "lines": {
        "text": "  systemHealth.jobs = systemHealth.jobs.filter((job) => job.id !== \"crypto-snapshot\");\n"
      },
      "line_number": 104,
      "absolute_offset": 3313,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 75,
          "end": 83
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-crypto-snapshot.mjs"
      },
      "lines": {
        "text": "  systemHealth.mirrors = systemHealth.mirrors.filter((m) => m.id !== \"crypto-snapshot\");\n"
      },
      "line_number": 107,
      "absolute_offset": 3437,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 77,
          "end": 85
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-crypto-snapshot.mjs"
      },
      "lines": {
        "text": "    id: \"crypto-snapshot\",\n"
      },
      "line_number": 109,
      "absolute_offset": 3556,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 16,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/generate-crypto-snapshot.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 25208,
          "human": "0.000025s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 3852,
        "bytes_printed": 2885,
        "matched_lines": 10,
        "matches": 11
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/ops/rv_contract_asserts.jq"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_contract_asserts.jq"
      },
      "lines": {
        "text": "def manifest_assert:\n"
      },
      "line_number": 9,
      "absolute_offset": 198,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 4,
          "end": 12
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_contract_asserts.jq"
      },
      "lines": {
        "text": "  is_obj and has_str(\"schema_version\") and has_str(\"build_id\") and has_str(\"manifest_ref\");\n"
      },
      "line_number": 10,
      "absolute_offset": 219,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 76,
          "end": 84
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_contract_asserts.jq"
      },
      "lines": {
        "text": "  and (.data.opsBaseline | is_obj)\n"
      },
      "line_number": 16,
      "absolute_offset": 410,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 13,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_contract_asserts.jq"
      },
      "lines": {
        "text": "  and (.data.opsBaseline.truthChain | is_obj)\n"
      },
      "line_number": 17,
      "absolute_offset": 445,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 13,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_contract_asserts.jq"
      },
      "lines": {
        "text": "  and ((.data.opsBaseline.truthChain.nasdaq100.steps | type) == \"array\")\n"
      },
      "line_number": 18,
      "absolute_offset": 491,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 14,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_contract_asserts.jq"
      },
      "lines": {
        "text": "  and ((.data.opsBaseline.truthChain.nasdaq100.steps | length) >= 6)\n"
      },
      "line_number": 19,
      "absolute_offset": 564,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 14,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_contract_asserts.jq"
      },
      "lines": {
        "text": "  and ((.data.opsBaseline.truthChain.nasdaq100.first_blocker | type) == \"object\" or .data.opsBaseline.truthChain.nasdaq100.first_blocker == null)\n"
      },
      "line_number": 20,
      "absolute_offset": 633,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 14,
          "end": 17
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 90,
          "end": 93
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_contract_asserts.jq"
      },
      "lines": {
        "text": "  and (.data.opsBaseline.runtime.schedulerExpected | is_bool)\n"
      },
      "line_number": 21,
      "absolute_offset": 779,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 13,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_contract_asserts.jq"
      },
      "lines": {
        "text": "  and (.data.opsBaseline.runtime.schedulerExpectedReason | is_str);\n"
      },
      "line_number": 22,
      "absolute_offset": 841,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 13,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_contract_asserts.jq"
      },
      "lines": {
        "text": "def render_plan_snapshot_assert:\n"
      },
      "line_number": 43,
      "absolute_offset": 1596,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 16,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_contract_asserts.jq"
      },
      "lines": {
        "text": "  if $mode == \"manifest\" then manifest_assert\n"
      },
      "line_number": 58,
      "absolute_offset": 1969,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 15,
          "end": 23
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 30,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/rv_contract_asserts.jq"
      },
      "lines": {
        "text": "  elif $mode == \"render_plan_snapshot\" then render_plan_snapshot_assert\n"
      },
      "line_number": 62,
      "absolute_offset": 2206,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 29,
          "end": 37
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 56,
          "end": 64
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/ops/rv_contract_asserts.jq"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 9167,
          "human": "0.000009s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 2385,
        "bytes_printed": 3415,
        "matched_lines": 12,
        "matches": 15
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/lib/envelope.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/envelope.js"
      },
      "lines": {
        "text": " * Build v3.0 snapshot envelope\n"
      },
      "line_number": 17,
      "absolute_offset": 395,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 14,
          "end": 22
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/lib/envelope.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 5333,
          "human": "0.000005s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 11771,
        "bytes_printed": 293,
        "matched_lines": 1,
        "matches": 1
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/cleanup-daily-snapshots.sh"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/cleanup-daily-snapshots.sh"
      },
      "lines": {
        "text": "# Purpose: Clean up old daily snapshots to prevent unlimited repo growth\n"
      },
      "line_number": 5,
      "absolute_offset": 49,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 30,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/cleanup-daily-snapshots.sh"
      },
      "lines": {
        "text": "# Policy: Keep last N=7 days of daily snapshots\n"
      },
      "line_number": 6,
      "absolute_offset": 122,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 38,
          "end": 46
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/cleanup-daily-snapshots.sh"
      },
      "lines": {
        "text": "# Safety: NEVER delete latest.json\n"
      },
      "line_number": 7,
      "absolute_offset": 170,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 23,
          "end": 29
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/cleanup-daily-snapshots.sh"
      },
      "lines": {
        "text": "#   ./scripts/cleanup-daily-snapshots.sh [days_to_keep]\n"
      },
      "line_number": 10,
      "absolute_offset": 216,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 28,
          "end": 36
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/cleanup-daily-snapshots.sh"
      },
      "lines": {
        "text": "#   ./scripts/cleanup-daily-snapshots.sh 7\n"
      },
      "line_number": 13,
      "absolute_offset": 285,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 28,
          "end": 36
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/cleanup-daily-snapshots.sh"
      },
      "lines": {
        "text": "SNAPSHOTS_DIR=\"$BASE_DIR/public/data/snapshots\"\n"
      },
      "line_number": 21,
      "absolute_offset": 456,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 25,
          "end": 37
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 37,
          "end": 45
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/cleanup-daily-snapshots.sh"
      },
      "lines": {
        "text": "# Check if snapshots directory exists\n"
      },
      "line_number": 32,
      "absolute_offset": 1086,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 11,
          "end": 19
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/cleanup-daily-snapshots.sh"
      },
      "lines": {
        "text": "# Scan for old daily snapshots\n"
      },
      "line_number": 57,
      "absolute_offset": 1631,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 21,
          "end": 29
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/cleanup-daily-snapshots.sh"
      },
      "lines": {
        "text": "  # Find old daily snapshots\n"
      },
      "line_number": 72,
      "absolute_offset": 1930,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 19,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/cleanup-daily-snapshots.sh"
      },
      "lines": {
        "text": "# Safety: Verify no latest.json was deleted\n"
      },
      "line_number": 108,
      "absolute_offset": 2932,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 20,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/cleanup-daily-snapshots.sh"
      },
      "lines": {
        "text": "LATEST_JSON_COUNT=$(find \"$SNAPSHOTS_DIR\" -name \"latest.json\" | wc -l)\n"
      },
      "line_number": 109,
      "absolute_offset": 2976,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 49,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/cleanup-daily-snapshots.sh"
      },
      "lines": {
        "text": "echo \"latest.json count:  $LATEST_JSON_COUNT (should be > 0)\"\n"
      },
      "line_number": 117,
      "absolute_offset": 3600,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 6,
          "end": 12
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/cleanup-daily-snapshots.sh"
      },
      "lines": {
        "text": "  echo \"  DRY_RUN=false ./scripts/cleanup-daily-snapshots.sh $DAYS_TO_KEEP\"\n"
      },
      "line_number": 126,
      "absolute_offset": 3946,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 48,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/cleanup-daily-snapshots.sh"
      },
      "lines": {
        "text": "# Verify latest.json still exists\n"
      },
      "line_number": 133,
      "absolute_offset": 4307,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 9,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/cleanup-daily-snapshots.sh"
      },
      "lines": {
        "text": "  echo \" CRITICAL ERROR: No latest.json files found!\"\n"
      },
      "line_number": 136,
      "absolute_offset": 4389,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 32,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/cleanup-daily-snapshots.sh"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 12583,
          "human": "0.000013s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 4591,
        "bytes_printed": 3948,
        "matched_lines": 15,
        "matches": 16
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-ui-smoke.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-ui-smoke.mjs"
      },
      "lines": {
        "text": "const url = `${base}/ops/`;\n"
      },
      "line_number": 5,
      "absolute_offset": 136,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 21,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-ui-smoke.mjs"
      },
      "lines": {
        "text": "const res = await fetchWithContext(url, {}, { name: 'ops-ui-smoke' });\n"
      },
      "line_number": 7,
      "absolute_offset": 165,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 53,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-ui-smoke.mjs"
      },
      "lines": {
        "text": "if (!html.includes('id=\"ops-bridge\"')) {\n"
      },
      "line_number": 10,
      "absolute_offset": 268,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 24,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-ui-smoke.mjs"
      },
      "lines": {
        "text": "  throw new Error('ops UI missing ops-bridge marker');\n"
      },
      "line_number": 11,
      "absolute_offset": 309,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 19,
          "end": 22
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 34,
          "end": 37
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-ui-smoke.mjs"
      },
      "lines": {
        "text": "if (html.includes('/ops/pipeline-truth.json')) {\n"
      },
      "line_number": 13,
      "absolute_offset": 366,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 20,
          "end": 23
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-ui-smoke.mjs"
      },
      "lines": {
        "text": "  throw new Error('ops UI references /ops/pipeline-truth.json (should not)');\n"
      },
      "line_number": 14,
      "absolute_offset": 415,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 19,
          "end": 22
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 38,
          "end": 41
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-ui-smoke.mjs"
      },
      "lines": {
        "text": "console.log('OK ops-ui-smoke');\n"
      },
      "line_number": 17,
      "absolute_offset": 496,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 16,
          "end": 19
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/ops/test-ops-ui-smoke.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 13000,
          "human": "0.000013s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 528,
        "bytes_printed": 1908,
        "matched_lines": 7,
        "matches": 9
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": " * - Builds candidate manifest\n"
      },
      "line_number": 7,
      "absolute_offset": 144,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 22,
          "end": 30
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "const TMP_DIR = join(BASE_DIR, 'public/data/.tmp');\n"
      },
      "line_number": 35,
      "absolute_offset": 1307,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 32,
          "end": 44
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    const snapshotDir = join(PUBLIC_DIR, 'snapshots', moduleName);\n"
      },
      "line_number": 90,
      "absolute_offset": 2782,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 10,
          "end": 18
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 42,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    const snapshotPath = join(snapshotDir, 'latest.json');\n"
      },
      "line_number": 91,
      "absolute_offset": 2849,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 10,
          "end": 18
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 30,
          "end": 38
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 44,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    await mkdir(snapshotDir, { recursive: true });\n"
      },
      "line_number": 92,
      "absolute_offset": 2908,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 16,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    const exists = await hasNonZeroFile(snapshotPath);\n"
      },
      "line_number": 93,
      "absolute_offset": 2959,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 40,
          "end": 48
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    await writeFile(snapshotPath, JSON.stringify(placeholder, null, 2) + '\\n', 'utf-8');\n"
      },
      "line_number": 110,
      "absolute_offset": 3624,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 20,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "        const snapshotPath = join(moduleDir, 'snapshot.json');\n"
      },
      "line_number": 143,
      "absolute_offset": 4449,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 14,
          "end": 22
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 46,
          "end": 54
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "        const snapshotContent = await readFile(snapshotPath, 'utf-8');\n"
      },
      "line_number": 146,
      "absolute_offset": 4585,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 14,
          "end": 22
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 47,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "          snapshot: JSON.parse(snapshotContent),\n"
      },
      "line_number": 150,
      "absolute_offset": 4766,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 10,
          "end": 18
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 31,
          "end": 39
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": " * Validate snapshot envelope\n"
      },
      "line_number": 172,
      "absolute_offset": 5318,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 12,
          "end": 20
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "function validateSnapshot(snapshot, moduleConfig) {\n"
      },
      "line_number": 174,
      "absolute_offset": 5352,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 26,
          "end": 34
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  const schemaCheck = validateEnvelopeSchema(snapshot);\n"
      },
      "line_number": 178,
      "absolute_offset": 5451,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 45,
          "end": 53
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  const computedDigest = computeSnapshotDigest(snapshot);\n"
      },
      "line_number": 184,
      "absolute_offset": 5632,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 47,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  if (snapshot.metadata.digest !== computedDigest) {\n"
      },
      "line_number": 185,
      "absolute_offset": 5690,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    const module = snapshot.metadata?.module || 'unknown';\n"
      },
      "line_number": 186,
      "absolute_offset": 5743,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 19,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    errors.push(`DIGEST_MISMATCH: computed=${computedDigest}, provided=${snapshot.metadata.digest}`);\n"
      },
      "line_number": 187,
      "absolute_offset": 5802,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 73,
          "end": 81
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    console.log(`  Provider digest:  ${snapshot.metadata.digest}`);\n"
      },
      "line_number": 191,
      "absolute_offset": 6018,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 39,
          "end": 47
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    console.log(`    schema_version: ${snapshot.schema_version}`);\n"
      },
      "line_number": 194,
      "absolute_offset": 6188,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 39,
          "end": 47
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    console.log(`    module: ${snapshot.metadata.module}`);\n"
      },
      "line_number": 195,
      "absolute_offset": 6255,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 31,
          "end": 39
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    console.log(`    source: ${snapshot.metadata.source}`);\n"
      },
      "line_number": 196,
      "absolute_offset": 6315,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 31,
          "end": 39
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    console.log(`    record_count: ${snapshot.metadata.record_count}`);\n"
      },
      "line_number": 197,
      "absolute_offset": 6375,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 37,
          "end": 45
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    console.log(`    data array length: ${snapshot.data?.length}`);\n"
      },
      "line_number": 198,
      "absolute_offset": 6447,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 42,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    if (snapshot.data && snapshot.data[0]) {\n"
      },
      "line_number": 199,
      "absolute_offset": 6515,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 25,
          "end": 33
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "      console.log(`    data[0] keys: ${Object.keys(snapshot.data[0]).join(', ')}`);\n"
      },
      "line_number": 200,
      "absolute_offset": 6560,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 51,
          "end": 59
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "      console.log(`    data[0] preview: ${JSON.stringify(snapshot.data[0]).substring(0, 200)}...`);\n"
      },
      "line_number": 201,
      "absolute_offset": 6644,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 57,
          "end": 65
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    console.log(`\\n  This suggests the snapshot was modified after digest was computed!`);\n"
      },
      "line_number": 203,
      "absolute_offset": 6750,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 39,
          "end": 47
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  if (!snapshot.metadata.validation.passed) {\n"
      },
      "line_number": 207,
      "absolute_offset": 6917,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 7,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    console.log(`    Validation details:`, JSON.stringify(snapshot.metadata.validation, null, 2));\n"
      },
      "line_number": 209,
      "absolute_offset": 7026,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 58,
          "end": 66
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    errors.push(`VALIDATION_FAILED: Provider validation failed - ${JSON.stringify(snapshot.metadata.validation)}`);\n"
      },
      "line_number": 214,
      "absolute_offset": 7335,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 82,
          "end": 90
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    if (snapshot.metadata.validation.checks?.drop_threshold && !snapshot.metadata.validation.checks.drop_threshold.passed) {\n"
      },
      "line_number": 217,
      "absolute_offset": 7511,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 64,
          "end": 72
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "      console.error(`    DROP THRESHOLD VIOLATION: ${snapshot.metadata.validation.checks.drop_threshold.reason}`);\n"
      },
      "line_number": 218,
      "absolute_offset": 7636,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 53,
          "end": 61
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    const count = snapshot.metadata.record_count;\n"
      },
      "line_number": 224,
      "absolute_offset": 7811,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 18,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "function validateArtifactConsistency(moduleName, snapshot, state) {\n"
      },
      "line_number": 242,
      "absolute_offset": 8266,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 49,
          "end": 57
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  const snapshotModule = snapshot?.metadata?.module || null;\n"
      },
      "line_number": 254,
      "absolute_offset": 8606,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 25,
          "end": 33
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  const snapshotDigest = snapshot?.metadata?.digest || null;\n"
      },
      "line_number": 255,
      "absolute_offset": 8667,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 25,
          "end": 33
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  const snapshotCount = snapshot?.metadata?.record_count;\n"
      },
      "line_number": 256,
      "absolute_offset": 8728,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 24,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  if (snapshotModule && snapshotModule !== moduleName) {\n"
      },
      "line_number": 261,
      "absolute_offset": 8917,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 24,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    errors.push(`SNAPSHOT_MODULE_MISMATCH: snapshot=${snapshotModule}, expected=${moduleName}`);\n"
      },
      "line_number": 262,
      "absolute_offset": 8974,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 43,
          "end": 51
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 54,
          "end": 62
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  if (state.digest && snapshotDigest && state.digest !== snapshotDigest) {\n"
      },
      "line_number": 264,
      "absolute_offset": 9075,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 22,
          "end": 30
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 57,
          "end": 65
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    errors.push(`STATE_DIGEST_MISMATCH: state=${state.digest}, snapshot=${snapshotDigest}`);\n"
      },
      "line_number": 265,
      "absolute_offset": 9150,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 63,
          "end": 71
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 74,
          "end": 82
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    typeof snapshotCount === 'number' &&\n"
      },
      "line_number": 268,
      "absolute_offset": 9254,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 11,
          "end": 19
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    state.record_count !== snapshotCount\n"
      },
      "line_number": 270,
      "absolute_offset": 9341,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 27,
          "end": 35
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    errors.push(`STATE_RECORD_COUNT_MISMATCH: state=${state.record_count}, snapshot=${snapshotCount}`);\n"
      },
      "line_number": 272,
      "absolute_offset": 9388,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 75,
          "end": 83
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 86,
          "end": 94
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "function applyPublishPolicy(manifest, registry) {\n"
      },
      "line_number": 281,
      "absolute_offset": 9595,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 28,
          "end": 36
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  const modules = manifest.modules || {};\n"
      },
      "line_number": 282,
      "absolute_offset": 9645,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 18,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  manifest.summary = summary;\n"
      },
      "line_number": 322,
      "absolute_offset": 10910,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 2,
          "end": 10
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  return manifest;\n"
      },
      "line_number": 332,
      "absolute_offset": 11194,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 9,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": " * Build candidate manifest\n"
      },
      "line_number": 336,
      "absolute_offset": 11220,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 19,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    const snapshot = artifact.snapshot;\n"
      },
      "line_number": 348,
      "absolute_offset": 11576,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 10,
          "end": 18
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 30,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "      digest: snapshot.metadata.digest,\n"
      },
      "line_number": 356,
      "absolute_offset": 11835,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 14,
          "end": 22
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "      fetched_at: snapshot.metadata.fetched_at,\n"
      },
      "line_number": 357,
      "absolute_offset": 11875,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 18,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "      manifest_ref: buildId,\n"
      },
      "line_number": 359,
      "absolute_offset": 11964,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "      freshness: snapshot.metadata.freshness,\n"
      },
      "line_number": 360,
      "absolute_offset": 11993,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 17,
          "end": 25
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  const manifest = {\n"
      },
      "line_number": 368,
      "absolute_offset": 12199,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    active_build_id: buildId, // Add Build ID to manifest\n"
      },
      "line_number": 371,
      "absolute_offset": 12270,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 49,
          "end": 57
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    manifest_ref: buildId,\n"
      },
      "line_number": 372,
      "absolute_offset": 12328,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 4,
          "end": 12
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  return applyPublishPolicy(manifest, registry);\n"
      },
      "line_number": 379,
      "absolute_offset": 12536,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 28,
          "end": 36
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": " * Integrity check: verify manifest matches artifacts\n"
      },
      "line_number": 383,
      "absolute_offset": 12592,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 27,
          "end": 35
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "function checkIntegrity(manifest, artifacts) {\n"
      },
      "line_number": 385,
      "absolute_offset": 12650,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 24,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  // Check manifest-level timestamps\n"
      },
      "line_number": 389,
      "absolute_offset": 12747,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 11,
          "end": 19
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  const publishedAt = new Date(manifest.published_at);\n"
      },
      "line_number": 390,
      "absolute_offset": 12784,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 31,
          "end": 39
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    errors.push(`MANIFEST_TIMESTAMP_FUTURE: published_at is in the future (${manifest.published_at})`);\n"
      },
      "line_number": 392,
      "absolute_offset": 12866,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 77,
          "end": 85
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  for (const [moduleName, module] of Object.entries(manifest.modules)) {\n"
      },
      "line_number": 395,
      "absolute_offset": 12977,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 52,
          "end": 60
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    const snapshot = artifact.snapshot;\n"
      },
      "line_number": 404,
      "absolute_offset": 13313,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 10,
          "end": 18
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 30,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    const fetchedAt = new Date(snapshot.metadata.fetched_at);\n"
      },
      "line_number": 407,
      "absolute_offset": 13386,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 31,
          "end": 39
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    const snapshotPublishedAt = new Date(snapshot.metadata.published_at);\n"
      },
      "line_number": 408,
      "absolute_offset": 13448,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 10,
          "end": 18
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 41,
          "end": 49
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "      errors.push(`${moduleName}: TIMESTAMP_FUTURE: fetched_at is in the future (${snapshot.metadata.fetched_at})`);\n"
      },
      "line_number": 411,
      "absolute_offset": 13554,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 83,
          "end": 91
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    if (snapshotPublishedAt > now) {\n"
      },
      "line_number": 414,
      "absolute_offset": 13682,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "      errors.push(`${moduleName}: TIMESTAMP_FUTURE: published_at is in the future (${snapshot.metadata.published_at})`);\n"
      },
      "line_number": 415,
      "absolute_offset": 13719,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 85,
          "end": 93
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    if (snapshotPublishedAt < fetchedAt) {\n"
      },
      "line_number": 418,
      "absolute_offset": 13851,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "      errors.push(`${moduleName}: TIMESTAMP_INVALID: published_at (${snapshot.metadata.published_at}) before fetched_at (${snapshot.metadata.fetched_at})`);\n"
      },
      "line_number": 419,
      "absolute_offset": 13894,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 69,
          "end": 77
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 123,
          "end": 131
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    if (module.digest !== snapshot.metadata.digest) {\n"
      },
      "line_number": 423,
      "absolute_offset": 14082,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 26,
          "end": 34
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "      errors.push(`DIGEST_MISMATCH: ${moduleName} manifest=${module.digest}, artifact=${snapshot.metadata.digest}`);\n"
      },
      "line_number": 424,
      "absolute_offset": 14136,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 50,
          "end": 58
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 88,
          "end": 96
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "async function promoteArtifacts(manifest, artifacts, tmpDir, kv, kvWriteEnabled) {\n"
      },
      "line_number": 449,
      "absolute_offset": 14670,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 32,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  // Write snapshots to tmp\n"
      },
      "line_number": 455,
      "absolute_offset": 14885,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 11,
          "end": 19
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  for (const [moduleName, module] of Object.entries(manifest.modules)) {\n"
      },
      "line_number": 456,
      "absolute_offset": 14913,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 52,
          "end": 60
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    const snapshotDir = join(tmpBase, 'snapshots', moduleName);\n"
      },
      "line_number": 462,
      "absolute_offset": 15110,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 10,
          "end": 18
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 39,
          "end": 47
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    await mkdir(snapshotDir, { recursive: true });\n"
      },
      "line_number": 463,
      "absolute_offset": 15174,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 16,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    const snapshotPath = join(snapshotDir, 'latest.json');\n"
      },
      "line_number": 465,
      "absolute_offset": 15230,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 10,
          "end": 18
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 30,
          "end": 38
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 44,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    const content = JSON.stringify(artifact.snapshot, null, 2) + '\\n';\n"
      },
      "line_number": 466,
      "absolute_offset": 15289,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 44,
          "end": 52
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    await writeFile(snapshotPath, content, 'utf-8');\n"
      },
      "line_number": 467,
      "absolute_offset": 15360,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 20,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "        const key = `/data/snapshots/${moduleName}/latest.json`;\n"
      },
      "line_number": 474,
      "absolute_offset": 15600,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 27,
          "end": 35
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 51,
          "end": 57
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "        const digest = module?.digest || artifact?.snapshot?.metadata?.digest || null;\n"
      },
      "line_number": 475,
      "absolute_offset": 15665,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 51,
          "end": 59
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "      build_id: manifest.build_id || manifest.active_build_id || null,\n"
      },
      "line_number": 503,
      "absolute_offset": 16769,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 16,
          "end": 24
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 37,
          "end": 45
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "      manifest_ref: manifest.manifest_ref || null\n"
      },
      "line_number": 504,
      "absolute_offset": 16840,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 20,
          "end": 28
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 29,
          "end": 37
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  // Write manifest to tmp\n"
      },
      "line_number": 509,
      "absolute_offset": 16976,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 11,
          "end": 19
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  const manifestPath = join(tmpBase, 'manifest.json');\n"
      },
      "line_number": 510,
      "absolute_offset": 17003,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 38,
          "end": 46
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  const manifestContent = JSON.stringify(manifest, null, 2) + '\\n';\n"
      },
      "line_number": 511,
      "absolute_offset": 17058,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 41,
          "end": 49
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  await writeFile(manifestPath, manifestContent, 'utf-8');\n"
      },
      "line_number": 512,
      "absolute_offset": 17126,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 18,
          "end": 26
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 32,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  // Atomic promote: move tmp/* to public/data/*\n"
      },
      "line_number": 517,
      "absolute_offset": 17272,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 35,
          "end": 47
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  const snapshotsDir = join(PUBLIC_DIR, 'snapshots');\n"
      },
      "line_number": 518,
      "absolute_offset": 17321,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 41,
          "end": 49
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  for (const [moduleName] of Object.entries(manifest.modules)) {\n"
      },
      "line_number": 522,
      "absolute_offset": 17449,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 44,
          "end": 52
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    if (!manifest.modules[moduleName].published) continue;\n"
      },
      "line_number": 523,
      "absolute_offset": 17514,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 9,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "      // Promote snapshot\n"
      },
      "line_number": 526,
      "absolute_offset": 17588,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 17,
          "end": 25
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "      const tmpSnapshot = join(tmpBase, 'snapshots', moduleName, 'latest.json');\n"
      },
      "line_number": 527,
      "absolute_offset": 17614,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 41,
          "end": 49
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 66,
          "end": 72
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "      const finalSnapshot = join(snapshotsDir, moduleName, 'latest.json');\n"
      },
      "line_number": 528,
      "absolute_offset": 17695,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 33,
          "end": 41
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 60,
          "end": 66
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "  // Promote manifest only if we promoted at least one module\n"
      },
      "line_number": 559,
      "absolute_offset": 18749,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 13,
          "end": 21
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    const finalManifest = join(PUBLIC_DIR, 'manifest.json');\n"
      },
      "line_number": 561,
      "absolute_offset": 18838,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 44,
          "end": 52
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    await writeAtomic(finalManifest, manifestContent);\n"
      },
      "line_number": 562,
      "absolute_offset": 18899,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 37,
          "end": 45
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    console.warn(' No modules promoted, skipping manifest update');\n"
      },
      "line_number": 565,
      "absolute_offset": 19023,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 52,
          "end": 60
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "        console.log('  Creating empty manifest structure...');\n"
      },
      "line_number": 612,
      "absolute_offset": 20956,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 38,
          "end": 46
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "          manifest_ref: buildId,\n"
      },
      "line_number": 618,
      "absolute_offset": 21194,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 10,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "        console.log('   Empty manifest created');\n"
      },
      "line_number": 631,
      "absolute_offset": 21547,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 33,
          "end": 41
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "        console.log('  Generating provider state from empty manifest...');\n"
      },
      "line_number": 633,
      "absolute_offset": 21609,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 60,
          "end": 68
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "        console.log(`  Writing provider-state.json to: ${join(BASE_DIR, 'public/data/provider-state.json')}`);\n"
      },
      "line_number": 639,
      "absolute_offset": 22000,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 73,
          "end": 85
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "      const result = validateSnapshot(artifact.snapshot, config);\n"
      },
      "line_number": 677,
      "absolute_offset": 23700,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 47,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "      const consistency = validateArtifactConsistency(moduleName, artifact.snapshot, artifact.state);\n"
      },
      "line_number": 688,
      "absolute_offset": 24039,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 75,
          "end": 83
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "        manifest_ref: buildId,\n"
      },
      "line_number": 717,
      "absolute_offset": 25016,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    // Build manifest\n"
      },
      "line_number": 741,
      "absolute_offset": 25799,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 13,
          "end": 21
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    console.log(' Building manifest...');\n"
      },
      "line_number": 742,
      "absolute_offset": 25821,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 31,
          "end": 39
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    const manifest = buildManifest(artifacts, registry, publishedAt, buildId);\n"
      },
      "line_number": 746,
      "absolute_offset": 26001,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 10,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    console.log(` Manifest built: ${manifest.summary.ok} ok, ${manifest.summary.error} error\\n`);\n"
      },
      "line_number": 747,
      "absolute_offset": 26080,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 39,
          "end": 47
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 66,
          "end": 74
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    const integrityCheck = checkIntegrity(manifest, artifacts);\n"
      },
      "line_number": 751,
      "absolute_offset": 26256,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 42,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    await promoteArtifacts(manifest, artifacts, TMP_DIR, kv, kvWriteEnabled);\n"
      },
      "line_number": 770,
      "absolute_offset": 26929,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 27,
          "end": 35
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    const providerState = generateProviderState(manifest, moduleStatesMap);\n"
      },
      "line_number": 780,
      "absolute_offset": 27358,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 48,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "      const modulesPublished = Object.entries(manifest.modules)\n"
      },
      "line_number": 787,
      "absolute_offset": 27624,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 46,
          "end": 54
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "      const modulesFailed = Object.entries(manifest.modules)\n"
      },
      "line_number": 791,
      "absolute_offset": 27771,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 43,
          "end": 51
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "        critical_ok: manifest.summary.critical_ok\n"
      },
      "line_number": 799,
      "absolute_offset": 28028,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 21,
          "end": 29
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    console.log(`   Published: ${manifest.summary.ok} modules`);\n"
      },
      "line_number": 810,
      "absolute_offset": 28391,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 33,
          "end": 41
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    console.log(`   Errors: ${manifest.summary.error}`);\n"
      },
      "line_number": 811,
      "absolute_offset": 28456,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 30,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "lines": {
        "text": "    console.log(`   Critical OK: ${manifest.summary.critical_ok}`);\n"
      },
      "line_number": 812,
      "absolute_offset": 28513,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 35,
          "end": 43
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/aggregator/finalize.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 74750,
          "human": "0.000075s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 32116,
        "bytes_printed": 34373,
        "matched_lines": 122,
        "matches": 157
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/truth-audit/run_scenarios.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/truth-audit/run_scenarios.mjs"
      },
      "lines": {
        "text": "        bar: [\"data.latest_bar\", \"latest_bar\", \"data.bar\", \"bar\"],\n"
      },
      "line_number": 12,
      "absolute_offset": 317,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 20,
          "end": 26
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 34,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/truth-audit/run_scenarios.mjs"
      },
      "lines": {
        "text": "    const s0_summary = await fetchJson(`${BASE_URL}/api/mission-control/summary?debug=1`);\n"
      },
      "line_number": 42,
      "absolute_offset": 1150,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 56,
          "end": 71
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/truth-audit/run_scenarios.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 5250,
          "human": "0.000005s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 4680,
        "bytes_printed": 716,
        "matched_lines": 2,
        "matches": 3
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/validate/market-stats-artifact.v1.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/market-stats-artifact.v1.mjs"
      },
      "lines": {
        "text": "  const snapshot = await readJson(join(baseDir, 'snapshot.json'));\n"
      },
      "line_number": 20,
      "absolute_offset": 508,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 49,
          "end": 57
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/market-stats-artifact.v1.mjs"
      },
      "lines": {
        "text": "  assert(snapshot?.schema_version === '3.0', 'snapshot.schema_version must be 3.0');\n"
      },
      "line_number": 24,
      "absolute_offset": 720,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 46,
          "end": 54
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/market-stats-artifact.v1.mjs"
      },
      "lines": {
        "text": "  assert(snapshot?.metadata?.module === 'market-stats', 'snapshot.metadata.module must be market-stats');\n"
      },
      "line_number": 25,
      "absolute_offset": 805,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 57,
          "end": 65
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/market-stats-artifact.v1.mjs"
      },
      "lines": {
        "text": "  assert(snapshot?.metadata?.digest, 'snapshot.metadata.digest missing');\n"
      },
      "line_number": 26,
      "absolute_offset": 911,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 38,
          "end": 46
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/market-stats-artifact.v1.mjs"
      },
      "lines": {
        "text": "  assert(typeof snapshot.data === 'object', 'snapshot.data must exist');\n"
      },
      "line_number": 27,
      "absolute_offset": 985,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 16,
          "end": 24
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 45,
          "end": 53
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/market-stats-artifact.v1.mjs"
      },
      "lines": {
        "text": "  assert(state?.digest === snapshot.metadata.digest, 'state.digest must match snapshot digest');\n"
      },
      "line_number": 31,
      "absolute_offset": 1219,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 27,
          "end": 35
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 78,
          "end": 86
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/market-stats-artifact.v1.mjs"
      },
      "lines": {
        "text": "  assert(state?.record_count === snapshot.metadata.record_count, 'state.record_count must match');\n"
      },
      "line_number": 32,
      "absolute_offset": 1316,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 33,
          "end": 41
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/validate/market-stats-artifact.v1.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 7042,
          "human": "0.000007s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 2031,
        "bytes_printed": 2494,
        "matched_lines": 7,
        "matches": 13
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/generate-snapshots.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-snapshots.mjs"
      },
      "lines": {
        "text": "import \"./build-snapshots.mjs\";\n"
      },
      "line_number": 1,
      "absolute_offset": 0,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 16,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/generate-snapshots.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 3333,
          "human": "0.000003s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 32,
        "bytes_printed": 306,
        "matched_lines": 1,
        "matches": 1
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/ops/verify-runblock1.zsh"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-runblock1.zsh"
      },
      "lines": {
        "text": "# Usage: zsh scripts/ops/verify-runblock1.zsh\n"
      },
      "line_number": 3,
      "absolute_offset": 89,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 21,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/ops/verify-runblock1.zsh"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 6916,
          "human": "0.000007s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 18087,
        "bytes_printed": 318,
        "matched_lines": 1,
        "matches": 1
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/truth-audit/fetch_raw.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/truth-audit/fetch_raw.mjs"
      },
      "lines": {
        "text": "  { name: 'mission_control_summary', url: '/api/mission-control/summary?debug=1', type: 'json' },\n"
      },
      "line_number": 14,
      "absolute_offset": 562,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 48,
          "end": 63
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/truth-audit/fetch_raw.mjs"
      },
      "lines": {
        "text": "  { name: 'ops_html', url: '/ops/', type: 'html' },\n"
      },
      "line_number": 16,
      "absolute_offset": 755,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 11,
          "end": 14
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 29,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/truth-audit/fetch_raw.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 4458,
          "human": "0.000004s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 2045,
        "bytes_printed": 681,
        "matched_lines": 2,
        "matches": 3
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/lib/kv-dedupe.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/kv-dedupe.js"
      },
      "lines": {
        "text": "const KV_DIGEST_CACHE_PATH = join(process.cwd(), 'public/data/.kv-digest-cache.json');\n"
      },
      "line_number": 11,
      "absolute_offset": 260,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 50,
          "end": 62
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/kv-dedupe.js"
      },
      "lines": {
        "text": " * @param {string} newDigest - New snapshot digest\n"
      },
      "line_number": 41,
      "absolute_offset": 1033,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 35,
          "end": 43
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/lib/kv-dedupe.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 7791,
          "human": "0.000008s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 3398,
        "bytes_printed": 600,
        "matched_lines": 2,
        "matches": 2
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/update-news.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-news.mjs"
      },
      "lines": {
        "text": "    const snapshot = buildSnapshot(normalized);\n"
      },
      "line_number": 376,
      "absolute_offset": 10370,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 10,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-news.mjs"
      },
      "lines": {
        "text": "    saveMirror(outNews, snapshot);\n"
      },
      "line_number": 393,
      "absolute_offset": 10815,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 24,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/update-news.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 5333,
          "human": "0.000005s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 11648,
        "bytes_printed": 543,
        "matched_lines": 2,
        "matches": 2
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/validate/market-prices-artifact.v1.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/market-prices-artifact.v1.mjs"
      },
      "lines": {
        "text": "  const snapshotPath = join(baseDir, 'snapshot.json');\n"
      },
      "line_number": 24,
      "absolute_offset": 607,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 38,
          "end": 46
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/market-prices-artifact.v1.mjs"
      },
      "lines": {
        "text": "  const snapshot = await readJson(snapshotPath);\n"
      },
      "line_number": 27,
      "absolute_offset": 719,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 34,
          "end": 42
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/market-prices-artifact.v1.mjs"
      },
      "lines": {
        "text": "  assert(snapshot && typeof snapshot === 'object', 'snapshot.json not an object');\n"
      },
      "line_number": 30,
      "absolute_offset": 812,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 28,
          "end": 36
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 52,
          "end": 60
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/market-prices-artifact.v1.mjs"
      },
      "lines": {
        "text": "  assert(snapshot.schema_version === '3.0', 'snapshot.schema_version must be 3.0');\n"
      },
      "line_number": 31,
      "absolute_offset": 895,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 45,
          "end": 53
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/market-prices-artifact.v1.mjs"
      },
      "lines": {
        "text": "  assert(snapshot.metadata && typeof snapshot.metadata === 'object', 'snapshot.metadata missing');\n"
      },
      "line_number": 32,
      "absolute_offset": 979,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 37,
          "end": 45
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 70,
          "end": 78
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/market-prices-artifact.v1.mjs"
      },
      "lines": {
        "text": "  assert(snapshot.metadata.module === 'market-prices', 'snapshot.metadata.module must be market-prices');\n"
      },
      "line_number": 33,
      "absolute_offset": 1078,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 56,
          "end": 64
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/market-prices-artifact.v1.mjs"
      },
      "lines": {
        "text": "  assert(isSha256Digest(snapshot.metadata.digest), 'snapshot.metadata.digest must be sha256:...');\n"
      },
      "line_number": 34,
      "absolute_offset": 1184,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 24,
          "end": 32
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 52,
          "end": 60
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/market-prices-artifact.v1.mjs"
      },
      "lines": {
        "text": "  assert(state.digest === snapshot.metadata.digest, 'state.digest must equal snapshot.metadata.digest');\n"
      },
      "line_number": 39,
      "absolute_offset": 1525,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 26,
          "end": 34
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 77,
          "end": 85
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/validate/market-prices-artifact.v1.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 9000,
          "human": "0.000009s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 1859,
        "bytes_printed": 2996,
        "matched_lines": 8,
        "matches": 18
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/audit-site.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit-site.mjs"
      },
      "lines": {
        "text": "    .replace(/^public\\/mirrors\\//, \"public/data/snapshots/\")\n"
      },
      "line_number": 882,
      "absolute_offset": 26474,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 36,
          "end": 48
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 48,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit-site.mjs"
      },
      "lines": {
        "text": "    .replace(/^mirrors\\//, \"data/snapshots/\");\n"
      },
      "line_number": 883,
      "absolute_offset": 26535,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 33,
          "end": 41
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit-site.mjs"
      },
      "lines": {
        "text": "  return path.join(basePath, \"data\", \"snapshots\", `${id}.json`);\n"
      },
      "line_number": 892,
      "absolute_offset": 26833,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 38,
          "end": 46
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit-site.mjs"
      },
      "lines": {
        "text": "    : `data/snapshots/${id}.json`;\n"
      },
      "line_number": 898,
      "absolute_offset": 27064,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 12,
          "end": 20
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit-site.mjs"
      },
      "lines": {
        "text": "    const mirrorPath = feature.mirrorPath || `public/data/snapshots/${id}.json`;\n"
      },
      "line_number": 905,
      "absolute_offset": 27330,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 46,
          "end": 58
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 58,
          "end": 66
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit-site.mjs"
      },
      "lines": {
        "text": "  const manifestPath = path.join(base, \"data\", \"snapshots\", \"manifest.json\");\n"
      },
      "line_number": 918,
      "absolute_offset": 27773,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 48,
          "end": 56
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 61,
          "end": 69
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit-site.mjs"
      },
      "lines": {
        "text": "  if (fs.existsSync(manifestPath)) {\n"
      },
      "line_number": 919,
      "absolute_offset": 27851,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 20,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit-site.mjs"
      },
      "lines": {
        "text": "      const manifest = JSON.parse(fs.readFileSync(manifestPath, \"utf8\"));\n"
      },
      "line_number": 921,
      "absolute_offset": 27898,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 12,
          "end": 20
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 50,
          "end": 58
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit-site.mjs"
      },
      "lines": {
        "text": "      const blocks = Array.isArray(manifest.blocks) ? manifest.blocks : [];\n"
      },
      "line_number": 922,
      "absolute_offset": 27972,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 35,
          "end": 43
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 54,
          "end": 62
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit-site.mjs"
      },
      "lines": {
        "text": "        details: `Found ${blocks.length} blocks via manifest`,\n"
      },
      "line_number": 926,
      "absolute_offset": 28127,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 52,
          "end": 60
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit-site.mjs"
      },
      "lines": {
        "text": "        id: entry.id || entry.file?.replace(/^data\\/snapshots\\//, \"\").replace(/\\.json$/, \"\") || \"unknown\",\n"
      },
      "line_number": 930,
      "absolute_offset": 28259,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 52,
          "end": 60
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit-site.mjs"
      },
      "lines": {
        "text": "        evidence: [makeEvidence(\"file_system\", manifestPath, error.message, \"manifest parse\")]\n"
      },
      "line_number": 939,
      "absolute_offset": 28628,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 47,
          "end": 55
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 77,
          "end": 85
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit-site.mjs"
      },
      "lines": {
        "text": "  const dir = path.join(base, \"data\", \"snapshots\");\n"
      },
      "line_number": 943,
      "absolute_offset": 28743,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 39,
          "end": 47
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit-site.mjs"
      },
      "lines": {
        "text": "    ? fs.readdirSync(dir).filter((f) => f.endsWith(\".json\") && f !== \"manifest.json\")\n"
      },
      "line_number": 945,
      "absolute_offset": 28830,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 70,
          "end": 78
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit-site.mjs"
      },
      "lines": {
        "text": "        : `data/snapshots/${id}.json`;\n"
      },
      "line_number": 980,
      "absolute_offset": 30022,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 16,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/audit-site.mjs"
      },
      "lines": {
        "text": "        file: `data/snapshots/${id}.json`,\n"
      },
      "line_number": 1056,
      "absolute_offset": 32673,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 20,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/audit-site.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 37958,
          "human": "0.000038s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 46642,
        "bytes_printed": 4624,
        "matched_lines": 16,
        "matches": 23
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "    'public/data/pipeline/nasdaq100.fetched.json',\n"
      },
      "line_number": 70,
      "absolute_offset": 2994,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 5,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "    'public/data/pipeline/nasdaq100.validated.json',\n"
      },
      "line_number": 71,
      "absolute_offset": 3045,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 5,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "    'public/data/pipeline/nasdaq100.computed.json',\n"
      },
      "line_number": 72,
      "absolute_offset": 3098,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 5,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "    'public/data/pipeline/nasdaq100.static-ready.json'\n"
      },
      "line_number": 73,
      "absolute_offset": 3150,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 5,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "  const opsDaily = await readJson('public/data/ops-daily.json');\n"
      },
      "line_number": 81,
      "absolute_offset": 3311,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 8,
          "end": 11
        },
        {
          "match": {
            "text": "public/data/"
          },
          "start": 35,
          "end": 47
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 47,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "  const pipeline = opsDaily?.baseline?.pipeline;\n"
      },
      "line_number": 82,
      "absolute_offset": 3376,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 19,
          "end": 22
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "  if (!pipeline || typeof pipeline !== 'object') fail('ops-daily baseline.pipeline missing');\n"
      },
      "line_number": 83,
      "absolute_offset": 3425,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 55,
          "end": 58
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "  const staticReady = await readJson('public/data/pipeline/nasdaq100.static-ready.json');\n"
      },
      "line_number": 85,
      "absolute_offset": 3520,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 38,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "  if (pipeline.expected !== staticReady.expected) fail('ops-daily pipeline.expected must equal pipeline truth expected');\n"
      },
      "line_number": 86,
      "absolute_offset": 3610,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 56,
          "end": 59
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "  if (pipeline.staticReady !== staticReady.count) fail('ops-daily pipeline.staticReady must equal pipeline truth count');\n"
      },
      "line_number": 87,
      "absolute_offset": 3732,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 56,
          "end": 59
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "  if (!Array.isArray(pipeline.missing)) fail('ops-daily pipeline.missing must be array');\n"
      },
      "line_number": 88,
      "absolute_offset": 3854,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 46,
          "end": 49
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "  if (pipeline.missing.length !== staticReady.missing.length) fail('ops-daily pipeline.missing length mismatch');\n"
      },
      "line_number": 89,
      "absolute_offset": 3944,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 68,
          "end": 71
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "  const pipelineLatest = await readJson('public/data/pipeline/nasdaq100.latest.json');\n"
      },
      "line_number": 91,
      "absolute_offset": 4059,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 41,
          "end": 53
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 72,
          "end": 78
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "    fail('pipeline.latest counts missing');\n"
      },
      "line_number": 93,
      "absolute_offset": 4224,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 19,
          "end": 25
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "    fail('pipeline.latest counts.expected must equal pipeline static-ready expected');\n"
      },
      "line_number": 96,
      "absolute_offset": 4337,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 19,
          "end": 25
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "    fail('pipeline.latest counts.static_ready must equal pipeline static-ready count');\n"
      },
      "line_number": 99,
      "absolute_offset": 4494,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 19,
          "end": 25
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "    fail('ops-daily pipeline.fetched=0 with expected>0 indicates empty artifact generation');\n"
      },
      "line_number": 103,
      "absolute_offset": 4644,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 10,
          "end": 13
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "  const html = await fs.readFile(path.join(REPO_ROOT, 'public/ops/index.html'), 'utf-8');\n"
      },
      "line_number": 106,
      "absolute_offset": 4743,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 62,
          "end": 65
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "  if (!html.includes('Refresh (LIVE)')) fail('/ops must contain Refresh (LIVE) marker');\n"
      },
      "line_number": 107,
      "absolute_offset": 4833,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 47,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "  if (!html.includes('/api/mission-control/summary?live=1')) fail('/ops must call mission-control/summary?live=1');\n"
      },
      "line_number": 108,
      "absolute_offset": 4922,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 27,
          "end": 42
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 68,
          "end": 71
        },
        {
          "match": {
            "text": "mission-control"
          },
          "start": 82,
          "end": 97
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "  if (!html.includes('X-OPS-KEY')) fail('/ops must reference X-OPS-KEY');\n"
      },
      "line_number": 109,
      "absolute_offset": 5038,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 42,
          "end": 45
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "  if (html.includes('setInterval(')) fail('/ops must not contain setInterval');\n"
      },
      "line_number": 110,
      "absolute_offset": 5112,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 44,
          "end": 47
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "  if (html.includes('btn-baseline') || html.includes('btn-live')) fail('/ops must not contain old baseline/live button ids');\n"
      },
      "line_number": 111,
      "absolute_offset": 5192,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 73,
          "end": 76
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "    `${BASE_URL}/data/ops/summary.latest.json`,\n"
      },
      "line_number": 114,
      "absolute_offset": 5366,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 22,
          "end": 25
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 34,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "    `${BASE_URL}/api/mission-control/summary`\n"
      },
      "line_number": 115,
      "absolute_offset": 5414,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 21,
          "end": 36
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "    const localPath = path.join(REPO_ROOT, 'public', 'data', 'ops', 'summary.latest.json');\n"
      },
      "line_number": 119,
      "absolute_offset": 5493,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 62,
          "end": 65
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 77,
          "end": 83
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "      fail(`mission-control summary must use schema 3.0, got: ${payload.schema_version}`);\n"
      },
      "line_number": 133,
      "absolute_offset": 6152,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 12,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "    if (!payload.data) fail('mission-control summary missing data property');\n"
      },
      "line_number": 135,
      "absolute_offset": 6249,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 29,
          "end": 44
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "    if (!payload.data.opsBaseline) fail('mission-control summary missing data.opsBaseline');\n"
      },
      "line_number": 136,
      "absolute_offset": 6327,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 22,
          "end": 25
        },
        {
          "match": {
            "text": "mission-control"
          },
          "start": 41,
          "end": 56
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 78,
          "end": 81
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "    if (!payload.data.opsBaseline.baseline) fail('mission-control summary missing data.opsBaseline.baseline');\n"
      },
      "line_number": 137,
      "absolute_offset": 6420,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 22,
          "end": 25
        },
        {
          "match": {
            "text": "mission-control"
          },
          "start": 50,
          "end": 65
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 87,
          "end": 90
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "    const baseline = payload.data.opsBaseline.baseline;\n"
      },
      "line_number": 139,
      "absolute_offset": 6532,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 34,
          "end": 37
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "    if (!payload || typeof payload !== 'object') fail('local ops summary missing payload');\n"
      },
      "line_number": 149,
      "absolute_offset": 7181,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 61,
          "end": 64
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "    if (!payload.ops_daily) fail('local ops summary missing ops_daily');\n"
      },
      "line_number": 150,
      "absolute_offset": 7273,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 17,
          "end": 20
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 40,
          "end": 43
        },
        {
          "match": {
            "text": "ops"
          },
          "start": 60,
          "end": 63
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "lines": {
        "text": "  process.stdout.write(`OK: ops pipeline truth + wiring verification (summary source=${summaryResult.source}, schema=3.0)\\n`);\n"
      },
      "line_number": 153,
      "absolute_offset": 7351,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 28,
          "end": 31
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/ops/verify-ops-pipeline.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 21625,
          "human": "0.000022s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 7606,
        "bytes_printed": 10517,
        "matched_lines": 34,
        "matches": 47
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "functions/_ops/shape.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/_ops/shape.js"
      },
      "lines": {
        "text": "  return data && typeof data.latest_bar === 'object' ? data.latest_bar : null;\n"
      },
      "line_number": 4,
      "absolute_offset": 167,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 29,
          "end": 35
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 60,
          "end": 66
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "functions/_ops/shape.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 2833,
          "human": "0.000003s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 625,
        "bytes_printed": 385,
        "matched_lines": 1,
        "matches": 2
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-marketphase-from-kv.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-marketphase-from-kv.mjs"
      },
      "lines": {
        "text": "    outDir: \"public/data/marketphase\",\n"
      },
      "line_number": 64,
      "absolute_offset": 1627,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 13,
          "end": 25
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-marketphase-from-kv.mjs"
      },
      "lines": {
        "text": "  const universe = await readJson(`public/data/universe/${args.universe}.json`);\n"
      },
      "line_number": 282,
      "absolute_offset": 8854,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 35,
          "end": 47
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-marketphase-from-kv.mjs"
      },
      "lines": {
        "text": "  await writeJson(\"public/data/pipeline/missing.json\", pipelineMirrorPayload);\n"
      },
      "line_number": 465,
      "absolute_offset": 14736,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 19,
          "end": 31
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-marketphase-from-kv.mjs"
      },
      "lines": {
        "text": "  console.log(`Mirror written: public/data/pipeline/missing.json`);\n"
      },
      "line_number": 466,
      "absolute_offset": 14815,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 31,
          "end": 43
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-marketphase-from-kv.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 6875,
          "human": "0.000007s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 15163,
        "bytes_printed": 1251,
        "matched_lines": 4,
        "matches": 4
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-ndx100-pipeline-truth.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-ndx100-pipeline-truth.mjs"
      },
      "lines": {
        "text": "function extractSymbolsFromMarketPricesSnapshot(snapshot) {\n"
      },
      "line_number": 57,
      "absolute_offset": 1577,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 48,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-ndx100-pipeline-truth.mjs"
      },
      "lines": {
        "text": "  const data = snapshot?.data;\n"
      },
      "line_number": 59,
      "absolute_offset": 1662,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 15,
          "end": 23
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-ndx100-pipeline-truth.mjs"
      },
      "lines": {
        "text": "  const rel = `public/data/marketphase/${ticker}.json`;\n"
      },
      "line_number": 89,
      "absolute_offset": 2273,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 15,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-ndx100-pipeline-truth.mjs"
      },
      "lines": {
        "text": "  const universe = await readJsonRel('public/data/universe/nasdaq100.json');\n"
      },
      "line_number": 121,
      "absolute_offset": 3057,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 38,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-ndx100-pipeline-truth.mjs"
      },
      "lines": {
        "text": "    await atomicWriteJsonRel('public/data/pipeline/nasdaq100.fetched.json', base);\n"
      },
      "line_number": 136,
      "absolute_offset": 3404,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 30,
          "end": 42
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-ndx100-pipeline-truth.mjs"
      },
      "lines": {
        "text": "    await atomicWriteJsonRel('public/data/pipeline/nasdaq100.validated.json', base);\n"
      },
      "line_number": 137,
      "absolute_offset": 3487,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 30,
          "end": 42
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-ndx100-pipeline-truth.mjs"
      },
      "lines": {
        "text": "    await atomicWriteJsonRel('public/data/pipeline/nasdaq100.computed.json', base);\n"
      },
      "line_number": 138,
      "absolute_offset": 3572,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 30,
          "end": 42
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-ndx100-pipeline-truth.mjs"
      },
      "lines": {
        "text": "    await atomicWriteJsonRel('public/data/pipeline/nasdaq100.static-ready.json', base);\n"
      },
      "line_number": 139,
      "absolute_offset": 3656,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 30,
          "end": 42
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-ndx100-pipeline-truth.mjs"
      },
      "lines": {
        "text": "  const marketphaseMissing = await readJsonRel('public/data/marketphase/missing.json');\n"
      },
      "line_number": 144,
      "absolute_offset": 3813,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 48,
          "end": 60
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-ndx100-pipeline-truth.mjs"
      },
      "lines": {
        "text": "  const pricesSnap = await readJsonRel('public/data/snapshots/market-prices/latest.json');\n"
      },
      "line_number": 147,
      "absolute_offset": 4011,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 40,
          "end": 52
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 52,
          "end": 60
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 76,
          "end": 82
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-ndx100-pipeline-truth.mjs"
      },
      "lines": {
        "text": "  await atomicWriteJsonRel('public/data/pipeline/nasdaq100.fetched.json', fetchedPayload);\n"
      },
      "line_number": 231,
      "absolute_offset": 6202,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 28,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-ndx100-pipeline-truth.mjs"
      },
      "lines": {
        "text": "  await atomicWriteJsonRel('public/data/pipeline/nasdaq100.validated.json', validatedPayload);\n"
      },
      "line_number": 232,
      "absolute_offset": 6293,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 28,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-ndx100-pipeline-truth.mjs"
      },
      "lines": {
        "text": "  await atomicWriteJsonRel('public/data/pipeline/nasdaq100.computed.json', computedPayload);\n"
      },
      "line_number": 233,
      "absolute_offset": 6388,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 28,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-ndx100-pipeline-truth.mjs"
      },
      "lines": {
        "text": "  await atomicWriteJsonRel('public/data/pipeline/nasdaq100.static-ready.json', staticReadyPayload);\n"
      },
      "line_number": 234,
      "absolute_offset": 6481,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 28,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-ndx100-pipeline-truth.mjs"
      },
      "lines": {
        "text": "  const latestPayload = await readJsonRel('public/data/pipeline/nasdaq100.latest.json');\n"
      },
      "line_number": 237,
      "absolute_offset": 6657,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        },
        {
          "match": {
            "text": "public/data/"
          },
          "start": 43,
          "end": 55
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 74,
          "end": 80
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-ndx100-pipeline-truth.mjs"
      },
      "lines": {
        "text": "  // TRUST nasdaq100.latest.json if it exists and looks valid.\n"
      },
      "line_number": 239,
      "absolute_offset": 6747,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 21,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-ndx100-pipeline-truth.mjs"
      },
      "lines": {
        "text": "  // The local recalculation above (based on market-prices/latest.json) is often wrong \n"
      },
      "line_number": 240,
      "absolute_offset": 6810,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 59,
          "end": 65
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-ndx100-pipeline-truth.mjs"
      },
      "lines": {
        "text": "  // because market-prices/latest.json might only contain indices (SPY, QQQ etc) \n"
      },
      "line_number": 241,
      "absolute_offset": 6898,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 27,
          "end": 33
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-ndx100-pipeline-truth.mjs"
      },
      "lines": {
        "text": "  const sourcePayload = latestPayload?.counts ? latestPayload : null;\n"
      },
      "line_number": 243,
      "absolute_offset": 7050,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 24,
          "end": 30
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 48,
          "end": 54
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-ndx100-pipeline-truth.mjs"
      },
      "lines": {
        "text": "  // but we don't have the list of specific missing items from latest.json unless we infer it.\n"
      },
      "line_number": 260,
      "absolute_offset": 7835,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 63,
          "end": 69
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-ndx100-pipeline-truth.mjs"
      },
      "lines": {
        "text": "      latest: '/data/pipeline/nasdaq100.latest.json',\n"
      },
      "line_number": 356,
      "absolute_offset": 11405,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 6,
          "end": 12
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 40,
          "end": 46
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-ndx100-pipeline-truth.mjs"
      },
      "lines": {
        "text": "  await atomicWriteJsonRel('public/data/pipeline/nasdaq100.pipeline-truth.json', pipelineTruthPayload);\n"
      },
      "line_number": 363,
      "absolute_offset": 11658,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 28,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-ndx100-pipeline-truth.mjs"
      },
      "lines": {
        "text": "  console.log(` Written: public/data/pipeline/nasdaq100.pipeline-truth.json`);\n"
      },
      "line_number": 364,
      "absolute_offset": 11762,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 28,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/pipeline/build-ndx100-pipeline-truth.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 15750,
          "human": "0.000016s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 12149,
        "bytes_printed": 7338,
        "matched_lines": 23,
        "matches": 29
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/generate-health.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-health.mjs"
      },
      "lines": {
        "text": "const SEED_MANIFEST_PATH = path.join(DATA_DIR, \"seed-manifest.json\");\n"
      },
      "line_number": 8,
      "absolute_offset": 303,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 53,
          "end": 61
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-health.mjs"
      },
      "lines": {
        "text": "  if (Array.isArray(seedManifest?.blocks)) inputs.push(\"mirrors/seed-manifest.json\");\n"
      },
      "line_number": 56,
      "absolute_offset": 2012,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 56,
          "end": 64
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 69,
          "end": 77
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-health.mjs"
      },
      "lines": {
        "text": "  if (usageReport) inputs.push(\"mirrors/usage-report.json\");\n"
      },
      "line_number": 57,
      "absolute_offset": 2098,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 32,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-health.mjs"
      },
      "lines": {
        "text": "    console.warn(\"seed-manifest.json missing or invalid, creating minimal health\");\n"
      },
      "line_number": 112,
      "absolute_offset": 3797,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 23,
          "end": 31
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-health.mjs"
      },
      "lines": {
        "text": "    // Create minimal health if manifest is missing\n"
      },
      "line_number": 113,
      "absolute_offset": 3881,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 32,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/generate-health.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 5708,
          "human": "0.000006s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 5165,
        "bytes_printed": 1473,
        "matched_lines": 5,
        "matches": 6
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/validate/universe-registry.v1.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/universe-registry.v1.mjs"
      },
      "lines": {
        "text": "const file = path.join(repoRoot, \"public/data/registry/universe.v1.json\");\n"
      },
      "line_number": 27,
      "absolute_offset": 622,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 34,
          "end": 46
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/validate/universe-registry.v1.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 3125,
          "human": "0.000003s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 2167,
        "bytes_printed": 378,
        "matched_lines": 1,
        "matches": 1
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/validate/universe-artifact.v2.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/universe-artifact.v2.mjs"
      },
      "lines": {
        "text": "  const snapshot = await readJson(join(baseDir, 'snapshot.json'));\n"
      },
      "line_number": 28,
      "absolute_offset": 635,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 49,
          "end": 57
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/universe-artifact.v2.mjs"
      },
      "lines": {
        "text": "  assert(snapshot?.schema_version === '3.0', 'snapshot.schema_version must be 3.0');\n"
      },
      "line_number": 31,
      "absolute_offset": 771,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 46,
          "end": 54
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/universe-artifact.v2.mjs"
      },
      "lines": {
        "text": "  assert(snapshot?.module === 'universe', 'snapshot.module must be universe');\n"
      },
      "line_number": 33,
      "absolute_offset": 935,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 43,
          "end": 51
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/universe-artifact.v2.mjs"
      },
      "lines": {
        "text": "  assert(snapshot?.metadata?.module === 'universe', 'snapshot metadata.module must be universe');\n"
      },
      "line_number": 34,
      "absolute_offset": 1014,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 53,
          "end": 61
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/universe-artifact.v2.mjs"
      },
      "lines": {
        "text": "  assert(typeof snapshot?.data === 'object', 'snapshot.data must be an object map');\n"
      },
      "line_number": 36,
      "absolute_offset": 1185,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 16,
          "end": 24
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 46,
          "end": 54
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/universe-artifact.v2.mjs"
      },
      "lines": {
        "text": "  const symbols = Object.keys(snapshot.data || {});\n"
      },
      "line_number": 38,
      "absolute_offset": 1271,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 30,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/universe-artifact.v2.mjs"
      },
      "lines": {
        "text": "  assert(symbols.length > 0, 'snapshot must contain at least one symbol');\n"
      },
      "line_number": 39,
      "absolute_offset": 1323,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 30,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/universe-artifact.v2.mjs"
      },
      "lines": {
        "text": "  for (const [symbol, entry] of Object.entries(snapshot.data || {})) {\n"
      },
      "line_number": 46,
      "absolute_offset": 1506,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 47,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/universe-artifact.v2.mjs"
      },
      "lines": {
        "text": "  assert(typeof snapshot.metadata.digest === 'string', 'digest missing');\n"
      },
      "line_number": 60,
      "absolute_offset": 2155,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 16,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/universe-artifact.v2.mjs"
      },
      "lines": {
        "text": "  assert(state?.digest === snapshot.metadata.digest, 'state digest must match');\n"
      },
      "line_number": 61,
      "absolute_offset": 2229,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 27,
          "end": 35
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/validate/universe-artifact.v2.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 8208,
          "human": "0.000008s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 2523,
        "bytes_printed": 3216,
        "matched_lines": 10,
        "matches": 15
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/dev-local.sh"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/dev-local.sh"
      },
      "lines": {
        "text": "    --include \"/mirrors/***\" \\\n"
      },
      "line_number": 47,
      "absolute_offset": 1483,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 16,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/dev-local.sh"
      },
      "lines": {
        "text": "  cp -R \"$ROOT/mirrors/.\" \"$SLIM_DIR/mirrors/\" 2>/dev/null || true\n"
      },
      "line_number": 75,
      "absolute_offset": 2461,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 15,
          "end": 23
        },
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 37,
          "end": 45
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/dev-local.sh"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 4584,
          "human": "0.000005s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 3838,
        "bytes_printed": 602,
        "matched_lines": 2,
        "matches": 3
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/seed-mirrors.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seed-mirrors.mjs"
      },
      "lines": {
        "text": "  // Also preserve sectors in context for build-snapshots.mjs to find them\n"
      },
      "line_number": 295,
      "absolute_offset": 10284,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 48,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seed-mirrors.mjs"
      },
      "lines": {
        "text": "      const latest = data.closes[data.closes.length - 1] ?? null;\n"
      },
      "line_number": 835,
      "absolute_offset": 30076,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 12,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seed-mirrors.mjs"
      },
      "lines": {
        "text": "        price: latest ?? null,\n"
      },
      "line_number": 840,
      "absolute_offset": 30264,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 15,
          "end": 21
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/seed-mirrors.mjs"
      },
      "lines": {
        "text": "  const healthPath = path.resolve(process.cwd(), \"mirrors/_health.json\");\n"
      },
      "line_number": 1142,
      "absolute_offset": 39769,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 50,
          "end": 58
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/seed-mirrors.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 11292,
          "human": "0.000011s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 41237,
        "bytes_printed": 1102,
        "matched_lines": 4,
        "matches": 4
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/truth-audit/static_scan.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/truth-audit/static_scan.mjs"
      },
      "lines": {
        "text": "  'latest_bar',\n"
      },
      "line_number": 9,
      "absolute_offset": 369,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 3,
          "end": 9
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/truth-audit/static_scan.mjs"
      },
      "lines": {
        "text": "  'data.latest_bar',\n"
      },
      "line_number": 10,
      "absolute_offset": 385,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/truth-audit/static_scan.mjs"
      },
      "lines": {
        "text": "  '/api/mission-control/summary',\n"
      },
      "line_number": 16,
      "absolute_offset": 504,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 8,
          "end": 23
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/truth-audit/static_scan.mjs"
      },
      "lines": {
        "text": "  '/ops/'\n"
      },
      "line_number": 19,
      "absolute_offset": 574,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 4,
          "end": 7
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/truth-audit/static_scan.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 4292,
          "human": "0.000004s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 2380,
        "bytes_printed": 972,
        "matched_lines": 4,
        "matches": 4
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "functions/internal-health.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "functions/internal-health.js"
      },
      "lines": {
        "text": "            <a href=\"\\${m.links.snapshot}\" class=\"link\" target=\"_blank\">Snapshot</a>\n"
      },
      "line_number": 318,
      "absolute_offset": 10467,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 32,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "functions/internal-health.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 5458,
          "human": "0.000005s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 12765,
        "bytes_printed": 366,
        "matched_lines": 1,
        "matches": 1
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/generate-eod-market.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-eod-market.mjs"
      },
      "lines": {
        "text": "const SYSTEM_HEALTH_PATH = path.resolve(__dirname, \"../mirrors/system-health.json\");\n"
      },
      "line_number": 15,
      "absolute_offset": 646,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 55,
          "end": 63
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-eod-market.mjs"
      },
      "lines": {
        "text": "const DAILY_DIGEST_PATH = path.resolve(__dirname, \"../mirrors/daily-digest.json\");\n"
      },
      "line_number": 16,
      "absolute_offset": 731,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 54,
          "end": 62
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-eod-market.mjs"
      },
      "lines": {
        "text": "const PREV_REGIME_PATH = path.resolve(__dirname, \"../mirrors/market-regime.json\");\n"
      },
      "line_number": 17,
      "absolute_offset": 814,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 53,
          "end": 61
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-eod-market.mjs"
      },
      "lines": {
        "text": "  \"price-snapshot\": 3,\n"
      },
      "line_number": 24,
      "absolute_offset": 1065,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-eod-market.mjs"
      },
      "lines": {
        "text": "  const prevPath = path.resolve(__dirname, `../mirrors/${mirrorId}.json`);\n"
      },
      "line_number": 36,
      "absolute_offset": 1378,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 47,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-eod-market.mjs"
      },
      "lines": {
        "text": "const asOfIso = data.latestAsOf ? new Date(`${data.latestAsOf}T21:00:00Z`).toISOString() : new Date().toISOString();\n"
      },
      "line_number": 51,
      "absolute_offset": 1847,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 21,
          "end": 27
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 51,
          "end": 57
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/generate-eod-market.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 6917,
          "human": "0.000007s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 3808,
        "bytes_printed": 1804,
        "matched_lines": 6,
        "matches": 7
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": " * Write snapshot to temp directory\n"
      },
      "line_number": 17,
      "absolute_offset": 404,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": " * @param {object} snapshot - Snapshot data\n"
      },
      "line_number": 20,
      "absolute_offset": 488,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 19,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "export async function writeSnapshotToTemp(moduleName, snapshot, tmpDir) {\n"
      },
      "line_number": 23,
      "absolute_offset": 584,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 54,
          "end": 62
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "  const moduleTmpDir = join(tmpDir, 'snapshots', moduleName);\n"
      },
      "line_number": 24,
      "absolute_offset": 658,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 37,
          "end": 45
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "  const snapshotPath = join(moduleTmpDir, 'latest.json');\n"
      },
      "line_number": 27,
      "absolute_offset": 773,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 43,
          "end": 49
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "  await writeFile(snapshotPath, JSON.stringify(snapshot, null, 2), 'utf-8');\n"
      },
      "line_number": 28,
      "absolute_offset": 831,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 18,
          "end": 26
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 47,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "  return snapshotPath;\n"
      },
      "line_number": 30,
      "absolute_offset": 911,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": " * Write manifest to temp directory\n"
      },
      "line_number": 51,
      "absolute_offset": 1470,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 9,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": " * @param {object} manifest - Manifest data\n"
      },
      "line_number": 53,
      "absolute_offset": 1510,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 19,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "export async function writeManifestToTemp(manifest, tmpDir) {\n"
      },
      "line_number": 56,
      "absolute_offset": 1606,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 42,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "  const manifestPath = join(tmpDir, 'manifest.json');\n"
      },
      "line_number": 59,
      "absolute_offset": 1715,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 37,
          "end": 45
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "  await writeFile(manifestPath, JSON.stringify(manifest, null, 2), 'utf-8');\n"
      },
      "line_number": 60,
      "absolute_offset": 1769,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 18,
          "end": 26
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 47,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "  return manifestPath;\n"
      },
      "line_number": 62,
      "absolute_offset": 1849,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 9,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "    // Check manifest exists and is valid JSON\n"
      },
      "line_number": 91,
      "absolute_offset": 2633,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 13,
          "end": 21
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "    const manifestPath = join(tmpDir, 'manifest.json');\n"
      },
      "line_number": 92,
      "absolute_offset": 2680,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 10,
          "end": 18
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 39,
          "end": 47
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "    if (!existsSync(manifestPath)) {\n"
      },
      "line_number": 93,
      "absolute_offset": 2736,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 20,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "      errors.push('manifest.json missing');\n"
      },
      "line_number": 94,
      "absolute_offset": 2773,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 19,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "        const content = await readFile(manifestPath, 'utf-8');\n"
      },
      "line_number": 97,
      "absolute_offset": 2842,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 39,
          "end": 47
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "        errors.push(`manifest.json invalid: ${err.message}`);\n"
      },
      "line_number": 100,
      "absolute_offset": 2973,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 21,
          "end": 29
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "    // Check all module snapshots exist\n"
      },
      "line_number": 117,
      "absolute_offset": 3490,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 24,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "      const snapshotPath = join(tmpDir, 'snapshots', moduleName, 'latest.json');\n"
      },
      "line_number": 119,
      "absolute_offset": 3600,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 12,
          "end": 20
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 41,
          "end": 49
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 66,
          "end": 72
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "      if (!existsSync(snapshotPath)) {\n"
      },
      "line_number": 120,
      "absolute_offset": 3681,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 22,
          "end": 30
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "        errors.push(`${moduleName}: snapshot missing`);\n"
      },
      "line_number": 121,
      "absolute_offset": 3720,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 36,
          "end": 44
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "          const content = await readFile(snapshotPath, 'utf-8');\n"
      },
      "line_number": 124,
      "absolute_offset": 3805,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 41,
          "end": 49
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "          const snapshot = JSON.parse(content);\n"
      },
      "line_number": 125,
      "absolute_offset": 3870,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 16,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "          if (snapshot.metadata?.digest !== artifact.snapshot.metadata?.digest) {\n"
      },
      "line_number": 128,
      "absolute_offset": 3964,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 14,
          "end": 22
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 53,
          "end": 61
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "          errors.push(`${moduleName}: snapshot invalid - ${err.message}`);\n"
      },
      "line_number": 132,
      "absolute_offset": 4141,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 38,
          "end": 46
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "    await mkdir(join(publicDir, 'snapshots'), { recursive: true });\n"
      },
      "line_number": 167,
      "absolute_offset": 5035,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 33,
          "end": 41
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "    // 1. Promote manifest.json\n"
      },
      "line_number": 170,
      "absolute_offset": 5183,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 18,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "    const manifestTmp = join(tmpDir, 'manifest.json');\n"
      },
      "line_number": 171,
      "absolute_offset": 5215,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 10,
          "end": 18
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 38,
          "end": 46
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "    const manifestPublic = join(publicDir, 'manifest.json');\n"
      },
      "line_number": 172,
      "absolute_offset": 5270,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 10,
          "end": 18
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 44,
          "end": 52
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "    if (existsSync(manifestTmp)) {\n"
      },
      "line_number": 173,
      "absolute_offset": 5331,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 19,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "      await rename(manifestTmp, manifestPublic);\n"
      },
      "line_number": 174,
      "absolute_offset": 5366,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 19,
          "end": 27
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 32,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "      operations.push('manifest.json');\n"
      },
      "line_number": 175,
      "absolute_offset": 5415,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 23,
          "end": 31
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "    // 3. Promote module snapshots\n"
      },
      "line_number": 186,
      "absolute_offset": 5758,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 25,
          "end": 33
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "    const snapshotsTmpDir = join(tmpDir, 'snapshots');\n"
      },
      "line_number": 187,
      "absolute_offset": 5793,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 10,
          "end": 18
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 42,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "    if (existsSync(snapshotsTmpDir)) {\n"
      },
      "line_number": 188,
      "absolute_offset": 5848,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 19,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "      const modules = await readdir(snapshotsTmpDir, { withFileTypes: true });\n"
      },
      "line_number": 189,
      "absolute_offset": 5887,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 36,
          "end": 44
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "        const moduleTmpDir = join(snapshotsTmpDir, moduleName);\n"
      },
      "line_number": 195,
      "absolute_offset": 6102,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 34,
          "end": 42
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "        const modulePublicDir = join(publicDir, 'snapshots', moduleName);\n"
      },
      "line_number": 196,
      "absolute_offset": 6166,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 49,
          "end": 57
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "        // Move latest.json atomically\n"
      },
      "line_number": 201,
      "absolute_offset": 6360,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 16,
          "end": 22
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "        const latestTmp = join(moduleTmpDir, 'latest.json');\n"
      },
      "line_number": 202,
      "absolute_offset": 6399,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 14,
          "end": 20
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 46,
          "end": 52
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "        const latestPublic = join(modulePublicDir, 'latest.json');\n"
      },
      "line_number": 203,
      "absolute_offset": 6460,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 14,
          "end": 20
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 52,
          "end": 58
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "        if (existsSync(latestTmp)) {\n"
      },
      "line_number": 204,
      "absolute_offset": 6527,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 23,
          "end": 29
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "          await rename(latestTmp, latestPublic);\n"
      },
      "line_number": 205,
      "absolute_offset": 6564,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 23,
          "end": 29
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 34,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "lines": {
        "text": "          operations.push(`snapshots/${moduleName}/latest.json`);\n"
      },
      "line_number": 206,
      "absolute_offset": 6613,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 27,
          "end": 35
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 51,
          "end": 57
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/lib/atomic-publish.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 29042,
          "human": "0.000029s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 8043,
        "bytes_printed": 12537,
        "matched_lines": 46,
        "matches": 62
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/providers/alphavantage.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/alphavantage.js"
      },
      "lines": {
        "text": "  const latest = dates[0];\n"
      },
      "line_number": 9,
      "absolute_offset": 350,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/alphavantage.js"
      },
      "lines": {
        "text": "  const bar = latest ? series[latest] : null;\n"
      },
      "line_number": 10,
      "absolute_offset": 377,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 14,
          "end": 20
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 30,
          "end": 36
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/alphavantage.js"
      },
      "lines": {
        "text": "  if (!latest || !bar) return null;\n"
      },
      "line_number": 11,
      "absolute_offset": 423,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 7,
          "end": 13
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/alphavantage.js"
      },
      "lines": {
        "text": "    date: latest,\n"
      },
      "line_number": 13,
      "absolute_offset": 470,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 10,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/providers/alphavantage.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 4958,
          "human": "0.000005s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 2659,
        "bytes_printed": 1054,
        "matched_lines": 4,
        "matches": 5
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/ops_selfcheck.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops_selfcheck.mjs"
      },
      "lines": {
        "text": "import { getOpsBase } from './ops/env.config.mjs';\n"
      },
      "line_number": 1,
      "absolute_offset": 0,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 30,
          "end": 33
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops_selfcheck.mjs"
      },
      "lines": {
        "text": "import { fetchWithContext } from './ops/fetch-with-context.mjs';\n"
      },
      "line_number": 2,
      "absolute_offset": 51,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 36,
          "end": 39
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops_selfcheck.mjs"
      },
      "lines": {
        "text": "const url = `${base}/api/mission-control/summary`;\n"
      },
      "line_number": 5,
      "absolute_offset": 144,
      "submatches": [
        {
          "match": {
            "text": "mission-control"
          },
          "start": 25,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/ops_selfcheck.mjs"
      },
      "lines": {
        "text": "const res = await fetchWithContext(url, {}, { name: 'ops-selfcheck' });\n"
      },
      "line_number": 7,
      "absolute_offset": 196,
      "submatches": [
        {
          "match": {
            "text": "ops"
          },
          "start": 53,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/ops_selfcheck.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 4542,
          "human": "0.000005s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 775,
        "bytes_printed": 1074,
        "matched_lines": 4,
        "matches": 4
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/validate/market-score-artifact.v1.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/market-score-artifact.v1.mjs"
      },
      "lines": {
        "text": "  const snapshot = await readJson(join(baseDir, 'snapshot.json'));\n"
      },
      "line_number": 29,
      "absolute_offset": 827,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 49,
          "end": 57
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/market-score-artifact.v1.mjs"
      },
      "lines": {
        "text": "  assert(snapshot?.schema_version === '3.0', 'snapshot.schema_version must be 3.0');\n"
      },
      "line_number": 32,
      "absolute_offset": 963,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 46,
          "end": 54
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/market-score-artifact.v1.mjs"
      },
      "lines": {
        "text": "  assert(snapshot?.module === 'market-score', 'snapshot module must be market-score');\n"
      },
      "line_number": 33,
      "absolute_offset": 1048,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 47,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/market-score-artifact.v1.mjs"
      },
      "lines": {
        "text": "  assert(snapshot?.metadata?.module === 'market-score', 'metadata module must be market-score');\n"
      },
      "line_number": 34,
      "absolute_offset": 1135,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/market-score-artifact.v1.mjs"
      },
      "lines": {
        "text": "  assert(typeof snapshot?.data === 'object', 'data must be an object map');\n"
      },
      "line_number": 36,
      "absolute_offset": 1313,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 16,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/market-score-artifact.v1.mjs"
      },
      "lines": {
        "text": "  const symbols = Object.keys(snapshot.data || {});\n"
      },
      "line_number": 38,
      "absolute_offset": 1390,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 30,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/validate/market-score-artifact.v1.mjs"
      },
      "lines": {
        "text": "    const entry = snapshot.data[symbol];\n"
      },
      "line_number": 42,
      "absolute_offset": 1528,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 18,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/validate/market-score-artifact.v1.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 19125,
          "human": "0.000019s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 2879,
        "bytes_printed": 2251,
        "matched_lines": 7,
        "matches": 10
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/generate-event-mirrors.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-event-mirrors.mjs"
      },
      "lines": {
        "text": "const SYSTEM_HEALTH_PATH = path.resolve(__dirname, \"../mirrors/system-health.json\");\n"
      },
      "line_number": 14,
      "absolute_offset": 610,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 55,
          "end": 63
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-event-mirrors.mjs"
      },
      "lines": {
        "text": "  const prev = loadMirror(path.resolve(__dirname, \"../mirrors/news.json\"));\n"
      },
      "line_number": 94,
      "absolute_offset": 3142,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 54,
          "end": 62
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/generate-event-mirrors.mjs"
      },
      "lines": {
        "text": "  const prev = loadMirror(path.resolve(__dirname, `../mirrors/${id}.json`));\n"
      },
      "line_number": 123,
      "absolute_offset": 3940,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 54,
          "end": 62
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/generate-event-mirrors.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 5750,
          "human": "0.000006s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 7006,
        "bytes_printed": 936,
        "matched_lines": 3,
        "matches": 3
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/providers/market-score-v3.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-score-v3.mjs"
      },
      "lines": {
        "text": "  const registryPath = join(BASE_DIR, 'public/data/registry/modules.json');\n"
      },
      "line_number": 149,
      "absolute_offset": 5045,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 39,
          "end": 51
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-score-v3.mjs"
      },
      "lines": {
        "text": "    candidates.push(join(String(process.env.BARS_ARTIFACTS_DIR), SOURCE_MODULE, 'snapshot.json'));\n"
      },
      "line_number": 162,
      "absolute_offset": 5541,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 81,
          "end": 89
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-score-v3.mjs"
      },
      "lines": {
        "text": "    candidates.push(join(artifactsDir, 'snapshot.json'));\n"
      },
      "line_number": 165,
      "absolute_offset": 5666,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 40,
          "end": 48
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-score-v3.mjs"
      },
      "lines": {
        "text": "  candidates.push(join(BASE_DIR, 'public/data/snapshots', SOURCE_MODULE, 'latest.json'));\n"
      },
      "line_number": 167,
      "absolute_offset": 5728,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 34,
          "end": 46
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 46,
          "end": 54
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 74,
          "end": 80
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-score-v3.mjs"
      },
      "lines": {
        "text": "  const snapshots = [];\n"
      },
      "line_number": 169,
      "absolute_offset": 5819,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-score-v3.mjs"
      },
      "lines": {
        "text": "      snapshots.push({ path, snapshot: payload });\n"
      },
      "line_number": 173,
      "absolute_offset": 5932,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 29,
          "end": 37
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-score-v3.mjs"
      },
      "lines": {
        "text": "  if (snapshots.length === 0) {\n"
      },
      "line_number": 178,
      "absolute_offset": 6043,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-score-v3.mjs"
      },
      "lines": {
        "text": "  return snapshots;\n"
      },
      "line_number": 181,
      "absolute_offset": 6125,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-score-v3.mjs"
      },
      "lines": {
        "text": "function aggregateStats(snapshots) {\n"
      },
      "line_number": 184,
      "absolute_offset": 6148,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 24,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-score-v3.mjs"
      },
      "lines": {
        "text": "  for (const { snapshot } of snapshots) {\n"
      },
      "line_number": 186,
      "absolute_offset": 6210,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 15,
          "end": 23
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 29,
          "end": 37
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-score-v3.mjs"
      },
      "lines": {
        "text": "    const data = Array.isArray(snapshot?.data) ? snapshot.data : [];\n"
      },
      "line_number": 187,
      "absolute_offset": 6252,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 31,
          "end": 39
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 49,
          "end": 57
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-score-v3.mjs"
      },
      "lines": {
        "text": "  const snapshots = await loadSourceSnapshots();\n"
      },
      "line_number": 216,
      "absolute_offset": 7203,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-score-v3.mjs"
      },
      "lines": {
        "text": "  const statsMap = aggregateStats(snapshots);\n"
      },
      "line_number": 217,
      "absolute_offset": 7252,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 34,
          "end": 42
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-score-v3.mjs"
      },
      "lines": {
        "text": "  await writeFile(join(artifactsOutDir, 'snapshot.json'), JSON.stringify(envelope, null, 2) + '\\n', 'utf-8');\n"
      },
      "line_number": 282,
      "absolute_offset": 9099,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 41,
          "end": 49
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/providers/market-score-v3.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 20417,
          "human": "0.000020s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 9805,
        "bytes_printed": 4063,
        "matched_lines": 14,
        "matches": 19
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/build-mirrors-manifest.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/build-mirrors-manifest.mjs"
      },
      "lines": {
        "text": "  .filter((file) => file.endsWith(\".json\") && file !== \"manifest.json\");\n"
      },
      "line_number": 23,
      "absolute_offset": 478,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 56,
          "end": 64
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/build-mirrors-manifest.mjs"
      },
      "lines": {
        "text": "    file: `mirrors/${file}`,\n"
      },
      "line_number": 52,
      "absolute_offset": 1229,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 11,
          "end": 19
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/build-mirrors-manifest.mjs"
      },
      "lines": {
        "text": "const manifest = {\n"
      },
      "line_number": 61,
      "absolute_offset": 1562,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/build-mirrors-manifest.mjs"
      },
      "lines": {
        "text": "fs.writeFileSync(path.join(mirrorsDir, \"manifest.json\"), JSON.stringify(manifest, null, 2));\n"
      },
      "line_number": 68,
      "absolute_offset": 1696,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 40,
          "end": 48
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 72,
          "end": 80
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/build-mirrors-manifest.mjs"
      },
      "lines": {
        "text": "console.log(\"Wrote mirrors/manifest.json\");\n"
      },
      "line_number": 69,
      "absolute_offset": 1789,
      "submatches": [
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 19,
          "end": 27
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 27,
          "end": 35
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/build-mirrors-manifest.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 51334,
          "human": "0.000051s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 1833,
        "bytes_printed": 1468,
        "matched_lines": 5,
        "matches": 7
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/smoke-redirects.sh"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/smoke-redirects.sh"
      },
      "lines": {
        "text": "if [ -f public/data/snapshots/top-movers.json ] || [ -f mirrors/top-movers.json ]; then\n"
      },
      "line_number": 81,
      "absolute_offset": 1781,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 8,
          "end": 20
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 20,
          "end": 28
        },
        {
          "match": {
            "text": "mirrors/"
          },
          "start": 56,
          "end": 64
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/smoke-redirects.sh"
      },
      "lines": {
        "text": "  check_head_200 \"/data/snapshots/top-movers.json\"\n"
      },
      "line_number": 82,
      "absolute_offset": 1869,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 24,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/smoke-redirects.sh"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 7584,
          "human": "0.000008s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 1967,
        "bytes_printed": 709,
        "matched_lines": 2,
        "matches": 4
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/lib/audit-log.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/audit-log.js"
      },
      "lines": {
        "text": " * Events are stored in: public/data/state/audit/latest.json\n"
      },
      "line_number": 7,
      "absolute_offset": 144,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 25,
          "end": 37
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 49,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/audit-log.js"
      },
      "lines": {
        "text": "  const auditPath = join(baseDir, 'public/data/state/audit/latest.json');\n"
      },
      "line_number": 35,
      "absolute_offset": 821,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 35,
          "end": 47
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 59,
          "end": 65
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/audit-log.js"
      },
      "lines": {
        "text": "  const auditPath = join(baseDir, 'public/data/state/audit/latest.json');\n"
      },
      "line_number": 91,
      "absolute_offset": 2227,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 35,
          "end": 47
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 59,
          "end": 65
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/lib/audit-log.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 15167,
          "human": "0.000015s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 5528,
        "bytes_printed": 1016,
        "matched_lines": 3,
        "matches": 6
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/lib/provider-state.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/provider-state.js"
      },
      "lines": {
        "text": "  const path = join(baseDir, 'public/data/provider-state.json');\n"
      },
      "line_number": 21,
      "absolute_offset": 642,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 30,
          "end": 42
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/provider-state.js"
      },
      "lines": {
        "text": " * Generate provider state from manifest and module states\n"
      },
      "line_number": 34,
      "absolute_offset": 900,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 32,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/provider-state.js"
      },
      "lines": {
        "text": " * @param {object} manifest - Manifest object\n"
      },
      "line_number": 35,
      "absolute_offset": 959,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 19,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/provider-state.js"
      },
      "lines": {
        "text": "export function generateProviderState(manifest, moduleStates = new Map(), options = {}) {\n"
      },
      "line_number": 40,
      "absolute_offset": 1171,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 38,
          "end": 46
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/provider-state.js"
      },
      "lines": {
        "text": "  const buildId = manifest?.build_id || manifest?.active_build_id || null;\n"
      },
      "line_number": 42,
      "absolute_offset": 1301,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 18,
          "end": 26
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 40,
          "end": 48
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/provider-state.js"
      },
      "lines": {
        "text": "  const manifestRef = manifest?.manifest_ref || buildId || null;\n"
      },
      "line_number": 43,
      "absolute_offset": 1376,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 22,
          "end": 30
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 32,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/provider-state.js"
      },
      "lines": {
        "text": "  const modules = manifest.modules || {};\n"
      },
      "line_number": 46,
      "absolute_offset": 1465,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 18,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/provider-state.js"
      },
      "lines": {
        "text": "  const summary = manifest.summary || {};\n"
      },
      "line_number": 47,
      "absolute_offset": 1507,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 18,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/provider-state.js"
      },
      "lines": {
        "text": "        snapshot: `/data/snapshots/${moduleName}/latest.json`,\n"
      },
      "line_number": 114,
      "absolute_offset": 3755,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 25,
          "end": 33
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 49,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/provider-state.js"
      },
      "lines": {
        "text": "      manifest_ref: manifestRef,\n"
      },
      "line_number": 126,
      "absolute_offset": 4024,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "manifest"
          },
          "start": 20,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/provider-state.js"
      },
      "lines": {
        "text": "      last_publish_at: manifest.published_at || now,\n"
      },
      "line_number": 127,
      "absolute_offset": 4057,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 23,
          "end": 31
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/lib/provider-state.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 11625,
          "human": "0.000012s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 5525,
        "bytes_printed": 3206,
        "matched_lines": 11,
        "matches": 17
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "const SNAPSHOT_PATH = path.join(ROOT, \"public\", \"data\", \"snapshots\", \"macro-hub.json\");\n"
      },
      "line_number": 9,
      "absolute_offset": 379,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 57,
          "end": 65
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "const LASTGOOD_SNAPSHOT_PATH = SNAPSHOT_PATH; // SSOT lastGood: same path as snapshot\n"
      },
      "line_number": 10,
      "absolute_offset": 467,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 77,
          "end": 85
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "const LASTGOOD_PATH = path.join(ROOT, \"public\", \"data\", \"snapshots\", \"macro-hub.lastgood.json\");\n"
      },
      "line_number": 11,
      "absolute_offset": 553,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 57,
          "end": 65
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    throw new Error(`public_snapshot_too_large:${path.basename(filePath)}:${bytes}`);\n"
      },
      "line_number": 74,
      "absolute_offset": 2474,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 28,
          "end": 36
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "  // --- Load lastGood from SSOT (same path as snapshot) OR from previous run ---\n"
      },
      "line_number": 514,
      "absolute_offset": 18333,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 47,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "  // If current snapshot is empty/null, try historical git version as lastGood\n"
      },
      "line_number": 517,
      "absolute_offset": 18469,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 16,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    // Try to find last good snapshot from git history (if available)\n"
      },
      "line_number": 519,
      "absolute_offset": 18628,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 29,
          "end": 37
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "      const gitCmd = `git log --all --oneline -- \"public/data/snapshots/macro-hub.json\" | head -5 | tail -1 | awk '{print $1}'`;\n"
      },
      "line_number": 522,
      "absolute_offset": 18771,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 50,
          "end": 62
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 62,
          "end": 70
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "        const histContent = execSync(`git show ${lastCommit}:public/data/snapshots/macro-hub.json`, { encoding: \"utf8\", cwd: ROOT, stdio: [\"pipe\", \"pipe\", \"ignore\"] });\n"
      },
      "line_number": 525,
      "absolute_offset": 19070,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 61,
          "end": 73
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 73,
          "end": 81
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "      const latest = series ? selectLatest(series, asOfDate, metric.weekendRule) : null;\n"
      },
      "line_number": 654,
      "absolute_offset": 23781,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 12,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "      if (!latest) {\n"
      },
      "line_number": 655,
      "absolute_offset": 23870,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 11,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "      if (latest) {\n"
      },
      "line_number": 658,
      "absolute_offset": 23937,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 10,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "        let value = latest.value;\n"
      },
      "line_number": 659,
      "absolute_offset": 23957,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 20,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "          value = computeYoY(series, latest.index, cadence);\n"
      },
      "line_number": 661,
      "absolute_offset": 24035,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 37,
          "end": 43
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "          value = computeQoQ(series, latest.index);\n"
      },
      "line_number": 663,
      "absolute_offset": 24147,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 37,
          "end": 43
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "          const prevIndex = latest.index - offset;\n"
      },
      "line_number": 669,
      "absolute_offset": 24413,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 28,
          "end": 34
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "          const prevIndex = latest.index - offset;\n"
      },
      "line_number": 677,
      "absolute_offset": 24818,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 28,
          "end": 34
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "          const changeResult = computeChange(series, latest.index, metric.change || {}, cadence);\n"
      },
      "line_number": 684,
      "absolute_offset": 25098,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 53,
          "end": 59
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "        const observedAt = latest.date;\n"
      },
      "line_number": 690,
      "absolute_offset": 25419,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 27,
          "end": 33
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    const latest = selectLatest(spyHistory, asOfDate, \"forwardFill\");\n"
      },
      "line_number": 922,
      "absolute_offset": 32988,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 10,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    if (latest) {\n"
      },
      "line_number": 923,
      "absolute_offset": 33058,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "      const ret20 = computeReturn(spyHistory, latest.index, \"20D\");\n"
      },
      "line_number": 924,
      "absolute_offset": 33076,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 46,
          "end": 52
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "      const ret200 = computeReturn(spyHistory, latest.index, \"200D\");\n"
      },
      "line_number": 925,
      "absolute_offset": 33144,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 47,
          "end": 53
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "        const prevRet20 = latest.index > 0 ? computeReturn(spyHistory, latest.index - 1, \"20D\") : null;\n"
      },
      "line_number": 927,
      "absolute_offset": 33242,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 26,
          "end": 32
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 71,
          "end": 77
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "          observedAt: latest.date,\n"
      },
      "line_number": 933,
      "absolute_offset": 33514,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 22,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "        const prevRet200 = latest.index > 0 ? computeReturn(spyHistory, latest.index - 1, \"200D\") : null;\n"
      },
      "line_number": 940,
      "absolute_offset": 33698,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 27,
          "end": 33
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 72,
          "end": 78
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "          observedAt: latest.date,\n"
      },
      "line_number": 946,
      "absolute_offset": 33977,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 22,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    const latest = selectLatest(series, asOfDate, \"forwardFill\");\n"
      },
      "line_number": 959,
      "absolute_offset": 34327,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 10,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    if (!latest) return null;\n"
      },
      "line_number": 960,
      "absolute_offset": 34393,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 9,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    const pastIndex = latest.index - offset;\n"
      },
      "line_number": 962,
      "absolute_offset": 34446,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 22,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    const value = (latest.value - series[pastIndex].value) * 100;\n"
      },
      "line_number": 964,
      "absolute_offset": 34549,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 19,
          "end": 25
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    return { value, change: null, observedAt: latest.date };\n"
      },
      "line_number": 965,
      "absolute_offset": 34615,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 46,
          "end": 52
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    const latest = selectLatest(series, asOfDate, \"forwardFill\");\n"
      },
      "line_number": 971,
      "absolute_offset": 34830,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 10,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    if (!latest) return null;\n"
      },
      "line_number": 972,
      "absolute_offset": 34896,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 9,
          "end": 15
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    const pastIndex = latest.index - offset;\n"
      },
      "line_number": 974,
      "absolute_offset": 34949,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 22,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    const value = (latest.value - series[pastIndex].value) * 100;\n"
      },
      "line_number": 976,
      "absolute_offset": 35052,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 19,
          "end": 25
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    return { value, change: null, observedAt: latest.date };\n"
      },
      "line_number": 977,
      "absolute_offset": 35118,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 46,
          "end": 52
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    // v3 snapshot contract (required by validate-snapshots.js)\n"
      },
      "line_number": 1031,
      "absolute_offset": 37069,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 10,
          "end": 18
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 50,
          "end": 58
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "  const snapshot = {\n"
      },
      "line_number": 1062,
      "absolute_offset": 37859,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "        snapshot.data[metricId] = merged;\n"
      },
      "line_number": 1120,
      "absolute_offset": 40308,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "      if (!snapshot.meta.notes || typeof snapshot.meta.notes !== \"object\") {\n"
      },
      "line_number": 1126,
      "absolute_offset": 40468,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 11,
          "end": 19
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 41,
          "end": 49
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "        snapshot.meta.notes = snapshot.meta.notes || {};\n"
      },
      "line_number": 1127,
      "absolute_offset": 40545,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 30,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "      snapshot.meta.notes.lastGoodIndexLoaded = true;\n"
      },
      "line_number": 1129,
      "absolute_offset": 40610,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "      if (!snapshot.meta.notes || typeof snapshot.meta.notes !== \"object\") {\n"
      },
      "line_number": 1132,
      "absolute_offset": 40698,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 11,
          "end": 19
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 41,
          "end": 49
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "        snapshot.meta.notes = snapshot.meta.notes || {};\n"
      },
      "line_number": 1133,
      "absolute_offset": 40775,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 30,
          "end": 38
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "      snapshot.meta.notes.lastGoodUsed = lastGoodUsed;\n"
      },
      "line_number": 1135,
      "absolute_offset": 40840,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "      snapshot.meta.notes.lastGoodFilledFields = lastGoodFilled;\n"
      },
      "line_number": 1136,
      "absolute_offset": 40895,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    snapshot.data.debug = snapshot.data.debug || {};\n"
      },
      "line_number": 1140,
      "absolute_offset": 40993,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 4,
          "end": 12
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 26,
          "end": 34
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    snapshot.data.debug.lastGood = {\n"
      },
      "line_number": 1141,
      "absolute_offset": 41046,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 4,
          "end": 12
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "      afterMetrics: Object.keys(snapshot.data).length\n"
      },
      "line_number": 1146,
      "absolute_offset": 41264,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 32,
          "end": 40
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    const freshOrDerivedOkAfter = Object.values(snapshot.data)\n"
      },
      "line_number": 1150,
      "absolute_offset": 41369,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 48,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    const nullCountAfter = Object.values(snapshot.data)\n"
      },
      "line_number": 1152,
      "absolute_offset": 41496,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 41,
          "end": 49
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    const staleCountAfter = Object.values(snapshot.data)\n"
      },
      "line_number": 1154,
      "absolute_offset": 41604,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 42,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    snapshot.meta.counts = {\n"
      },
      "line_number": 1157,
      "absolute_offset": 41718,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 4,
          "end": 12
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    snapshot.meta = snapshot.meta || {};\n"
      },
      "line_number": 1165,
      "absolute_offset": 41934,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 4,
          "end": 12
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 20,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    snapshot.meta.status = \"PARTIAL\";\n"
      },
      "line_number": 1166,
      "absolute_offset": 41975,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 4,
          "end": 12
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    snapshot.meta.reason = snapshot.meta.reason || \"LASTGOOD_MERGE_ERROR\";\n"
      },
      "line_number": 1167,
      "absolute_offset": 42013,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 4,
          "end": 12
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 27,
          "end": 35
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "  sanitizeAndWritePublic(SNAPSHOT_PATH, snapshot);\n"
      },
      "line_number": 1204,
      "absolute_offset": 42925,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 40,
          "end": 48
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "  const finalFreshCount = snapshot.meta.counts?.freshOrDerivedOk || freshOrDerivedOk;\n"
      },
      "line_number": 1207,
      "absolute_offset": 43024,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 26,
          "end": 34
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    sanitizeAndWritePublic(LASTGOOD_PATH, snapshot);\n"
      },
      "line_number": 1209,
      "absolute_offset": 43141,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 42,
          "end": 50
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "  // --- Update provider-state with providerCalls/errors from snapshot.meta ---\n"
      },
      "line_number": 1212,
      "absolute_offset": 43199,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 62,
          "end": 70
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    const pc = snapshot.meta.providerCalls || {};\n"
      },
      "line_number": 1228,
      "absolute_offset": 43657,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 15,
          "end": 23
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    const errs = Array.isArray(snapshot.meta.errors) ? snapshot.meta.errors : [];\n"
      },
      "line_number": 1229,
      "absolute_offset": 43707,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 31,
          "end": 39
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 55,
          "end": 63
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "  console.log(`macro-hub snapshot built: ${snapshot.meta.counts?.freshOrDerivedOk || freshOrDerivedOk}/40 fresh_or_derived`);\n"
      },
      "line_number": 1265,
      "absolute_offset": 45000,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 25,
          "end": 33
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 43,
          "end": 51
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "  if (snapshot.data.debug?.lastGood?.used > 0) {\n"
      },
      "line_number": 1266,
      "absolute_offset": 45126,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "lines": {
        "text": "    console.log(`  lastGood fallback: ${snapshot.data.debug.lastGood.used} metrics, ${snapshot.data.debug.lastGood.filledFields} fields filled`);\n"
      },
      "line_number": 1267,
      "absolute_offset": 45175,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 40,
          "end": 48
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 86,
          "end": 94
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/update-macro-hub.v3.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 112583,
          "human": "0.000113s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 45419,
        "bytes_printed": 18526,
        "matched_lines": 66,
        "matches": 81
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  const registryPath = join(BASE_DIR, 'public/data/registry/modules.json');\n"
      },
      "line_number": 39,
      "absolute_offset": 1279,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 39,
          "end": 51
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  const universePath = join(BASE_DIR, 'public/data/registry/universe.v1.json');\n"
      },
      "line_number": 49,
      "absolute_offset": 1594,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 39,
          "end": 51
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "    candidates.push(join(barsDir, 'snapshot.json'));\n"
      },
      "line_number": 64,
      "absolute_offset": 2134,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 35,
          "end": 43
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  const publicDir = join(BASE_DIR, 'public/data/snapshots', SOURCE_MODULE);\n"
      },
      "line_number": 66,
      "absolute_offset": 2191,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 36,
          "end": 48
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 48,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  candidates.push(join(publicDir, 'latest.json'));\n"
      },
      "line_number": 67,
      "absolute_offset": 2267,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 35,
          "end": 41
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  const snapshots = [];\n"
      },
      "line_number": 69,
      "absolute_offset": 2319,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "      snapshots.push({ path, snapshot: content });\n"
      },
      "line_number": 73,
      "absolute_offset": 2432,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 29,
          "end": 37
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "      // ignore missing snapshots\n"
      },
      "line_number": 75,
      "absolute_offset": 2503,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 24,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  if (snapshots.length === 0) {\n"
      },
      "line_number": 78,
      "absolute_offset": 2547,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 6,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  return snapshots;\n"
      },
      "line_number": 81,
      "absolute_offset": 2629,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 9,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "function aggregateBars(snapshots) {\n"
      },
      "line_number": 105,
      "absolute_offset": 3286,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 23,
          "end": 31
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  for (const { snapshot } of snapshots) {\n"
      },
      "line_number": 107,
      "absolute_offset": 3354,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 15,
          "end": 23
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 29,
          "end": 37
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "    const data = Array.isArray(snapshot?.data) ? snapshot.data : [];\n"
      },
      "line_number": 108,
      "absolute_offset": 3396,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 31,
          "end": 39
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 49,
          "end": 57
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "function computeLogReturn(latest, past) {\n"
      },
      "line_number": 130,
      "absolute_offset": 4090,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 26,
          "end": 32
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  if (latest === null || past === null || past === 0) return null;\n"
      },
      "line_number": 131,
      "absolute_offset": 4132,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 6,
          "end": 12
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  const ratio = latest / past;\n"
      },
      "line_number": 132,
      "absolute_offset": 4199,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 16,
          "end": 22
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "function computeMomentum(latest, past) {\n"
      },
      "line_number": 137,
      "absolute_offset": 4317,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 25,
          "end": 31
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  if (latest === null || past === null || past === 0) return null;\n"
      },
      "line_number": 138,
      "absolute_offset": 4358,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 6,
          "end": 12
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  const change = (latest - past) / past;\n"
      },
      "line_number": 139,
      "absolute_offset": 4425,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 18,
          "end": 24
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  const latestClose = window[0].close;\n"
      },
      "line_number": 181,
      "absolute_offset": 5960,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  const currentDrawdown = peakForCurrent > 0 ? (peakForCurrent - latestClose) / peakForCurrent : null;\n"
      },
      "line_number": 183,
      "absolute_offset": 6090,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 65,
          "end": 71
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  const latestBar = bars[0];\n"
      },
      "line_number": 259,
      "absolute_offset": 8365,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "    const value = computeLogReturn(latestBar.close, bars[window]?.close ?? null);\n"
      },
      "line_number": 262,
      "absolute_offset": 8455,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 35,
          "end": 41
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  stats.momentum_21d = computeMomentum(latestBar.close, bars[21]?.close ?? null);\n"
      },
      "line_number": 272,
      "absolute_offset": 8904,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 39,
          "end": 45
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  stats.momentum_63d = computeMomentum(latestBar.close, bars[63]?.close ?? null);\n"
      },
      "line_number": 273,
      "absolute_offset": 8986,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 39,
          "end": 45
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  stats.momentum_252d = computeMomentum(latestBar.close, bars[252]?.close ?? null);\n"
      },
      "line_number": 274,
      "absolute_offset": 9068,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 40,
          "end": 46
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  const latestClose = latestBar.close;\n"
      },
      "line_number": 291,
      "absolute_offset": 9789,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 22,
          "end": 28
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  stats.distance_to_sma_20 = sma20 ? Number(((latestClose / sma20 - 1) * 100)) : null;\n"
      },
      "line_number": 292,
      "absolute_offset": 9828,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 46,
          "end": 52
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  stats.distance_to_sma_50 = sma50 ? Number(((latestClose / sma50 - 1) * 100)) : null;\n"
      },
      "line_number": 293,
      "absolute_offset": 9915,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 46,
          "end": 52
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  stats.distance_to_sma_200 = sma200 ? Number(((latestClose / sma200 - 1) * 100)) : null;\n"
      },
      "line_number": 294,
      "absolute_offset": 10002,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 48,
          "end": 54
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  stats.close_zscore_63d = closes63.length >= 2 ? computeZScore(latestClose, closes63) : null;\n"
      },
      "line_number": 306,
      "absolute_offset": 10495,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 64,
          "end": 70
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  const freshnessDays = daysBetween(new Date(), new Date(latestBar.date));\n"
      },
      "line_number": 376,
      "absolute_offset": 13629,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 57,
          "end": 63
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "    as_of: latestBar.date,\n"
      },
      "line_number": 388,
      "absolute_offset": 13930,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 11,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  const snapshots = await loadSourceSnapshots();\n"
      },
      "line_number": 425,
      "absolute_offset": 15161,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  const barsBySymbol = aggregateBars(snapshots);\n"
      },
      "line_number": 426,
      "absolute_offset": 15210,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 37,
          "end": 45
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  const snapshotPath = join(artifactsOutDir, 'snapshot.json');\n"
      },
      "line_number": 503,
      "absolute_offset": 17808,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 46,
          "end": 54
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "lines": {
        "text": "  await writeFile(snapshotPath, JSON.stringify(envelope, null, 2) + '\\n', 'utf-8');\n"
      },
      "line_number": 507,
      "absolute_offset": 18008,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 18,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/providers/market-stats-v3.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 68792,
          "human": "0.000069s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 18602,
        "bytes_printed": 10250,
        "matched_lines": 37,
        "matches": 43
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/providers/market-health-v3.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-health-v3.mjs"
      },
      "lines": {
        "text": "    // Provider receives the unwrapped data object (one item from snapshot.data array)\n"
      },
      "line_number": 144,
      "absolute_offset": 4637,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 66,
          "end": 74
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-health-v3.mjs"
      },
      "lines": {
        "text": "  // The counts in registry refer to the data array (snapshot level), not data.items\n"
      },
      "line_number": 240,
      "absolute_offset": 8467,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 53,
          "end": 61
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-health-v3.mjs"
      },
      "lines": {
        "text": "  const registryPath = join(BASE_DIR, 'public/data/registry/modules.json');\n"
      },
      "line_number": 293,
      "absolute_offset": 10434,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 39,
          "end": 51
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-health-v3.mjs"
      },
      "lines": {
        "text": "  const snapshotPath = join(artifactsDir, 'snapshot.json');\n"
      },
      "line_number": 475,
      "absolute_offset": 16265,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 43,
          "end": 51
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-health-v3.mjs"
      },
      "lines": {
        "text": "  await writeFile(snapshotPath, JSON.stringify(envelope, null, 2) + '\\n', 'utf-8');\n"
      },
      "line_number": 478,
      "absolute_offset": 16389,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 18,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-health-v3.mjs"
      },
      "lines": {
        "text": "  console.log(`  - ${snapshotPath}`);\n"
      },
      "line_number": 482,
      "absolute_offset": 16601,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 21,
          "end": 29
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/providers/market-health-v3.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 52917,
          "human": "0.000053s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 17028,
        "bytes_printed": 1831,
        "matched_lines": 6,
        "matches": 7
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/providers/universe-v2.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/universe-v2.mjs"
      },
      "lines": {
        "text": "  const registryPath = join(BASE_DIR, 'public/data/registry/modules.json');\n"
      },
      "line_number": 218,
      "absolute_offset": 6353,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 39,
          "end": 51
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/universe-v2.mjs"
      },
      "lines": {
        "text": "  const snapshotPath = join(artifactsDir, 'snapshot.json');\n"
      },
      "line_number": 313,
      "absolute_offset": 9525,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 43,
          "end": 51
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/universe-v2.mjs"
      },
      "lines": {
        "text": "  await writeFile(snapshotPath, JSON.stringify(envelope, null, 2) + '\\n', 'utf-8');\n"
      },
      "line_number": 317,
      "absolute_offset": 9712,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 18,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/providers/universe-v2.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 13125,
          "human": "0.000013s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 10309,
        "bytes_printed": 967,
        "matched_lines": 3,
        "matches": 4
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/providers/ecb_sdmx.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/ecb_sdmx.js"
      },
      "lines": {
        "text": "      const latestXml = parseLatestObservationXml(text);\n"
      },
      "line_number": 89,
      "absolute_offset": 3147,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 12,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/ecb_sdmx.js"
      },
      "lines": {
        "text": "      if (!latestXml) {\n"
      },
      "line_number": 90,
      "absolute_offset": 3204,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 11,
          "end": 17
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/ecb_sdmx.js"
      },
      "lines": {
        "text": "      return { data: latestXml, dataAt: latestXml.period };\n"
      },
      "line_number": 97,
      "absolute_offset": 3415,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 21,
          "end": 27
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 40,
          "end": 46
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/ecb_sdmx.js"
      },
      "lines": {
        "text": "  const latest = parseLatestObservation(payload);\n"
      },
      "line_number": 117,
      "absolute_offset": 4031,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 8,
          "end": 14
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/ecb_sdmx.js"
      },
      "lines": {
        "text": "  if (!latest) {\n"
      },
      "line_number": 118,
      "absolute_offset": 4081,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 7,
          "end": 13
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/ecb_sdmx.js"
      },
      "lines": {
        "text": "  return { data: latest, dataAt: latest.period };\n"
      },
      "line_number": 126,
      "absolute_offset": 4258,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 17,
          "end": 23
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 33,
          "end": 39
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/providers/ecb_sdmx.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 19584,
          "human": "0.000020s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 4310,
        "bytes_printed": 1617,
        "matched_lines": 6,
        "matches": 8
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/providers/market-prices-v3.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-prices-v3.mjs"
      },
      "lines": {
        "text": "  const universePath = join(BASE_DIR, 'public/data/registry/universe.v1.json');\n"
      },
      "line_number": 542,
      "absolute_offset": 15927,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 39,
          "end": 51
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-prices-v3.mjs"
      },
      "lines": {
        "text": "  const registryPath = join(BASE_DIR, 'public/data/registry/modules.json');\n"
      },
      "line_number": 553,
      "absolute_offset": 16333,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 39,
          "end": 51
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-prices-v3.mjs"
      },
      "lines": {
        "text": "  const registryPath = join(BASE_DIR, 'public/data/registry/providers.v1.json');\n"
      },
      "line_number": 588,
      "absolute_offset": 17225,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 39,
          "end": 51
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-prices-v3.mjs"
      },
      "lines": {
        "text": "    throw new Error('PROVIDER_AUTH_ENV_VAR_MISSING (check public/data/registry/providers.v1.json)');\n"
      },
      "line_number": 679,
      "absolute_offset": 20137,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 58,
          "end": 70
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-prices-v3.mjs"
      },
      "lines": {
        "text": "  const snapshotPath = join(outDir, 'snapshot.json');\n"
      },
      "line_number": 1525,
      "absolute_offset": 48315,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 8,
          "end": 16
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 37,
          "end": 45
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-prices-v3.mjs"
      },
      "lines": {
        "text": "  await writeFile(snapshotPath, JSON.stringify(envelope, null, 2) + '\\n', 'utf-8');\n"
      },
      "line_number": 1528,
      "absolute_offset": 48425,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 18,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/providers/market-prices-v3.mjs"
      },
      "lines": {
        "text": "      `FAIL: ${providerLabel} ${reasonLabel} (classification=${runClassification}). See snapshot.metadata.upstream.*\\n`\n"
      },
      "line_number": 1536,
      "absolute_offset": 48881,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 88,
          "end": 96
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/providers/market-prices-v3.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 56000,
          "human": "0.000056s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 49634,
        "bytes_printed": 2226,
        "matched_lines": 7,
        "matches": 8
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/lib/digest.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/digest.js"
      },
      "lines": {
        "text": " * Compute digest for snapshot (minimal metadata + data)\n"
      },
      "line_number": 59,
      "absolute_offset": 1466,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 22,
          "end": 30
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/digest.js"
      },
      "lines": {
        "text": " * @param {object} snapshot - Snapshot object with data and metadata\n"
      },
      "line_number": 60,
      "absolute_offset": 1523,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 19,
          "end": 27
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/digest.js"
      },
      "lines": {
        "text": "export function computeSnapshotDigest(snapshot) {\n"
      },
      "line_number": 63,
      "absolute_offset": 1624,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 38,
          "end": 46
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/digest.js"
      },
      "lines": {
        "text": "    schema_version: snapshot.schema_version || snapshot.metadata?.schema_version,\n"
      },
      "line_number": 66,
      "absolute_offset": 1739,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 20,
          "end": 28
        },
        {
          "match": {
            "text": "snapshot"
          },
          "start": 47,
          "end": 55
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/digest.js"
      },
      "lines": {
        "text": "    module: snapshot.metadata?.module,\n"
      },
      "line_number": 67,
      "absolute_offset": 1821,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 12,
          "end": 20
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/digest.js"
      },
      "lines": {
        "text": "    source: snapshot.metadata?.source,\n"
      },
      "line_number": 68,
      "absolute_offset": 1860,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 12,
          "end": 20
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/digest.js"
      },
      "lines": {
        "text": "    record_count: snapshot.metadata?.record_count,\n"
      },
      "line_number": 69,
      "absolute_offset": 1899,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 18,
          "end": 26
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/digest.js"
      },
      "lines": {
        "text": "    data: snapshot.data\n"
      },
      "line_number": 70,
      "absolute_offset": 1950,
      "submatches": [
        {
          "match": {
            "text": "snapshot"
          },
          "start": 10,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/lib/digest.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 34333,
          "human": "0.000034s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 3092,
        "bytes_printed": 2063,
        "matched_lines": 8,
        "matches": 9
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/lib/kv-write.js"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/lib/kv-write.js"
      },
      "lines": {
        "text": "  const digestKey = key.replace(/\\/latest\\.json$/, \"/latest.digest\");\n"
      },
      "line_number": 84,
      "absolute_offset": 2408,
      "submatches": [
        {
          "match": {
            "text": "latest"
          },
          "start": 35,
          "end": 41
        },
        {
          "match": {
            "text": "latest"
          },
          "start": 53,
          "end": 59
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/lib/kv-write.js"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 47958,
          "human": "0.000048s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 3266,
        "bytes_printed": 382,
        "matched_lines": 1,
        "matches": 2
      }
    }
  },
  {
    "type": "begin",
    "data": {
      "path": {
        "text": "scripts/create-initial-provider-state.mjs"
      }
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/create-initial-provider-state.mjs"
      },
      "lines": {
        "text": "const PROVIDER_STATE_PATH = join(BASE_DIR, 'public/data/provider-state.json');\n"
      },
      "line_number": 14,
      "absolute_offset": 387,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 44,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/create-initial-provider-state.mjs"
      },
      "lines": {
        "text": "    const registryPath = join(BASE_DIR, 'public/data/registry/modules.json');\n"
      },
      "line_number": 32,
      "absolute_offset": 921,
      "submatches": [
        {
          "match": {
            "text": "public/data/"
          },
          "start": 41,
          "end": 53
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/create-initial-provider-state.mjs"
      },
      "lines": {
        "text": "    // Create minimal manifest\n"
      },
      "line_number": 42,
      "absolute_offset": 1263,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 22,
          "end": 30
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/create-initial-provider-state.mjs"
      },
      "lines": {
        "text": "    const manifest = {\n"
      },
      "line_number": 44,
      "absolute_offset": 1336,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 10,
          "end": 18
        }
      ]
    }
  },
  {
    "type": "match",
    "data": {
      "path": {
        "text": "scripts/create-initial-provider-state.mjs"
      },
      "lines": {
        "text": "    const providerState = generateProviderState(manifest, new Map());\n"
      },
      "line_number": 60,
      "absolute_offset": 1671,
      "submatches": [
        {
          "match": {
            "text": "manifest"
          },
          "start": 48,
          "end": 56
        }
      ]
    }
  },
  {
    "type": "end",
    "data": {
      "path": {
        "text": "scripts/create-initial-provider-state.mjs"
      },
      "binary_offset": null,
      "stats": {
        "elapsed": {
          "secs": 0,
          "nanos": 101041,
          "human": "0.000101s"
        },
        "searches": 1,
        "searches_with_match": 1,
        "bytes_searched": 2248,
        "bytes_printed": 1433,
        "matched_lines": 5,
        "matches": 5
      }
    }
  },
  {
    "data": {
      "elapsed_total": {
        "human": "0.008109s",
        "nanos": 8108708,
        "secs": 0
      },
      "stats": {
        "bytes_printed": 398326,
        "bytes_searched": 1321767,
        "elapsed": {
          "human": "0.003194s",
          "nanos": 3194414,
          "secs": 0
        },
        "matched_lines": 1390,
        "matches": 1839,
        "searches": 291,
        "searches_with_match": 111
      }
    },
    "type": "summary"
  }
]
